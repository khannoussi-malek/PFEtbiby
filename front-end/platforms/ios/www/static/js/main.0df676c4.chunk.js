(this.webpackJsonptbiby=this.webpackJsonptbiby||[]).push([[0],{189:function(e,t,n){},217:function(e,t,n){},367:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(42),i=n.n(r),s=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,441)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},o=n(425),l=n(426),j=n(372),d=(n(174),n(433)),b=n(135),u=n(14),O=n(3),x=n(1),p=Object(c.createContext)(),m={id:null,nom:null,prenom:null,isAuthenticated:!1,telephone:null,email:null,cin:null,sexes:null,photo:null,fonctionnalite:"",idMedecin:null},h=function(e){var t=localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user"))||m,n=Object(c.useState)(t),a=Object(O.a)(n,2),r=a[0],i=a[1];return Object(x.jsx)(p.Provider,Object(u.a)({value:{user:r,setUser:i,cleanUser:function(){localStorage.clear(),i({})}}},e))},f=n(44),g=n(37),v=n(168),S=n(403),C=n(387),y=n(435),_=n(167),z=n(373),k=n(386),P=n(91),w=function(e,t){var n=e.path,c=Object(g.g)(),a=n.split("/");return a.shift(),Object(x.jsx)(k.a,Object(u.a)(Object(u.a)({fontSize:"lg"},t),{},{separator:Object(x.jsx)(C.a,{as:P.a,color:"gray.400",fontSize:"md",top:"2px",pos:"relative"}),children:a.map((function(e){return Object(x.jsx)(k.b,{color:"inherit",children:Object(x.jsx)(k.c,{onClick:function(){"dashboard"!=e?c.push(e):c.push("/dashboard")},children:e.charAt(0).toUpperCase()+e.slice(1)})},e)}))}))},I=function(e){return Object(x.jsx)(C.a,Object(u.a)(Object(u.a)({overflowY:"auto",height:"80vh",minH:"px",maxH:"full"},e),{},{sx:{"&::-webkit-scrollbar-track":{bg:"transparent"},"&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-thumb":{bg:Object(v.d)("green.500","gray.700"),borderRadius:"20px"}}}))},E=n(437),T=n(19),A=n(388),D=n(389),M=function(e){var t=Object(g.h)().pathname,n=Object(g.g)(),c=e.children,a=e.linkto,r=e.icon,i=void 0===r?Object(x.jsx)(V,{}):r,s=e.avatar,o=Object(T.a)(e,["children","linkto","icon","avatar"]);return Object(x.jsx)(C.a,Object(u.a)(Object(u.a)({as:"a",marginEnd:"2",fontSize:"sm",color:"white",bgColor:t=="/dashboard/"+a?Object(v.d)("green.300","gray.600"):"",onClick:function(){return n.push("/dashboard/"+a)},display:"block",px:"3",py:"2",rounded:"md",cursor:"pointer",_hover:{color:"white",bg:Object(v.d)("green.300","gray.600")},className:"group",fontWeight:"medium",transition:"background .1s ease-out"},o),{},{children:Object(x.jsxs)(E.a,{fontSize:"md",children:[Object(x.jsx)(C.a,{opacity:s?1:.5,_groupHover:{opacity:1},children:s||i}),Object(x.jsx)(A.a,{children:c})]})}))},V=Object(D.a)({viewBox:"0 0 16 16",path:Object(x.jsx)("path",{d:"M3.38974 12.6633L9.42974 12.6633C9.86308 12.6633 10.2697 12.4567 10.5164 12.1033L13.1497 8.39C13.3164 8.15667 13.3164 7.85 13.1497 7.61667L10.5097 3.89667C10.2697 3.54334 9.86308 3.33667 9.42974 3.33667L3.38974 3.33667C2.84974 3.33667 2.53641 3.95667 2.84974 4.39667L5.42974 8.00334L2.84974 11.61C2.53641 12.05 2.84974 12.6633 3.38974 12.6633V12.6633Z",fill:"currentcolor"})}),L=n(38),F=n(36),R=function(){var e=Object(c.useContext)(p),t=e.user,n=e.cleanUser,r=Object(g.g)(),i=[],s=[{url:"Dashboard",icon:Object(x.jsx)(F.a,{fontSize:"20px"})},{url:"Trouver un m\xe9decin",icon:Object(x.jsx)(L.g,{fontSize:"20px"})},{url:"Mes rendez vous",icon:Object(x.jsx)(L.c,{fontSize:"20px"})},{url:"Mes m\xe9decins",icon:Object(x.jsx)(L.e,{fontSize:"20px"})}];return"patient"==t.fonctionnalite?i=s:"medecin"==t.fonctionnalite?i=[{url:"Dashboard",icon:Object(x.jsx)(F.a,{fontSize:"20px"})},{url:"Mes patients",icon:Object(x.jsx)(L.d,{fontSize:"20px"})},{url:"Consultation",icon:Object(x.jsx)(F.c,{fontSize:"20px"})},{url:"Mod\xe8le de certificat",icon:Object(x.jsx)(F.b,{fontSize:"20px"})},{url:"Liste d'actes",icon:Object(x.jsx)(F.g,{fontSize:"20px"})},{url:"Liste medicament",icon:Object(x.jsx)(F.h,{fontSize:"20px"})}]:"secretaire"==t.fonctionnalite&&(i=[{url:"dashboard",icon:Object(x.jsx)(F.a,{fontSize:"20px"})},{url:"Mod\xe8le de certificat",icon:Object(x.jsx)(F.b,{fontSize:"20px"})},{url:"Liste d'actes",icon:Object(x.jsx)(F.g,{fontSize:"20px"})},{url:"Liste medicament",icon:Object(x.jsx)(F.h,{fontSize:"20px"})},{url:"Mes rendez vous",icon:Object(x.jsx)(L.c,{fontSize:"20px"})},{url:"Mes m\xe9decins",icon:Object(x.jsx)(L.e,{fontSize:"20px"})},{url:"Trouver un m\xe9decin",icon:Object(x.jsx)(L.g,{fontSize:"20px"})}]),Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(C.a,{mb:{base:"70px"},children:i.map((function(e){return Object(x.jsx)(M,{linkto:"Dashboard"==e.url?"":e.url,icon:e.icon,children:e.url},e.url)}))}),Object(x.jsx)(C.a,{pos:"fixed",w:{base:"62%",md:"50%"},bottom:{base:"20px",md:"24px"},left:{base:"72px",md:"95px"},children:Object(x.jsx)(E.b,{bgColor:"red.300",rounded:8,children:Object(x.jsx)(M,{onClick:function(){n(),r.push("/login")},icon:Object(x.jsx)(L.b,{}),fontSize:"xlx",p:4,children:"Se d\xe9connecter"})})})]})},q=n(390),N=n(220),W=n.n(N),B=n(221),H="http://127.0.0.1:8000",U=Date.now(),K=B.Md5.hashStr("pfetbiby2020"+U+navigator.userAgent).toString(),Z=(new d.a,W.a.create({baseURL:H+"/api/",headers:{"X-Authorization-Time":U,"X-Authorization-Token":K}})),$=function(){var e=Object(c.useContext)(p).user,t=Object(g.g)();e.photo;return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsx)(C.a,{as:"div",p:"3",display:"block",transition:"background 0.1s",rounded:"xl",_hover:{bg:"whiteAlpha.200"},whiteSpace:"nowrap",onClick:function(){t.push("/dashboard/gestion de compte")},children:Object(x.jsxs)(E.a,{children:[Object(x.jsx)(q.a,{size:"md",src:e.photo?"".concat(H).concat(e.photo):"",name:e.nom+" "+e.prenom}),Object(x.jsx)(C.a,{lineHeight:"1",children:Object(x.jsx)(A.a,{fontWeight:"semibold",children:e.nom+" "+e.prenom})}),Object(x.jsx)(C.a,{size:"lg",mr:8,right:"0px",children:Object(x.jsx)(L.f,{})})]})})})},Y=n(26),J=n(429),X=n(370),G=n(103),Q=n(404),ee=n(237),te=n(439),ne=n(405),ce=n(225),ae=n(16),re=n(134),ie=n.n(re),se=n(9),oe=(n(188),n(189),n(391)),le=function(e){var t,n=Object(c.useState)(new Date),r=Object(O.a)(n,2),i=r[0],s=r[1],o=Object(se.b)(e),l=(o.errorMessage,o.id),j=(o.isValid,o.isSubmitted,o.setValue),d=o.value,b=e.label,u=(e.type,e.required),p=(e.note,e.dValue),m=e.SyncWithVariable,h=a.a.useState(!0),f=Object(O.a)(h,2),g=(f[0],f[1]);return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsxs)(G.a,{children:[Object(x.jsxs)(oe.a,{htmlFor:l,children:[b,!!u&&" *"]}),Object(x.jsx)(ie.a,(t={selected:i,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",id:l,onBlur:function(){return g(!0)},dateFormat:"yyyy-MM-dd"},Object(ae.a)(t,"selected",i),Object(ae.a)(t,"value",d||p),Object(ae.a)(t,"onChange",(function(e){m&&m(e),j(e.toISOString().slice(0,10),s(e))})),t))]})})},je=n(392),de=function(e){var t=Object(se.b)(e),n=t.errorMessage,r=t.id,i=t.isValid,s=t.isSubmitted,o=t.setValue,l=t.value,j=e.label,d=e.type,b=e.required,u=e.note,p=e.Placeholder,m=e.dtValue,h=a.a.useState(!1),f=Object(O.a)(h,2),g=f[0],v=f[1],S=!i&&(g||s);return Object(c.useEffect)((function(){o(m)}),[m]),Object(x.jsxs)(G.a,{children:[Object(x.jsxs)(oe.a,{htmlFor:r,children:[j,!!b&&" *"]}),Object(x.jsx)(je.a,{id:r,type:d||"text",placeholder:p||j,value:l||m||"",onChange:function(e){return o(e.target.value)},onBlur:function(){return v(!0)},"aria-invalid":S,"aria-required":!!b,"aria-describedby":S?"".concat(r,"-error"):null}),S&&Object(x.jsx)(A.a,{id:"".concat(r,"-error"),color:"tomato",children:n}),u&&Object(x.jsx)(G.b,{id:"".concat(r,"-note"),children:u})]})},be=n(395),ue=n(396),Oe=n(393),xe=n(394),pe=function(e){var t=Object(c.useState)(!1),n=Object(O.a)(t,2),r=n[0],i=n[1],s=Object(se.b)(e),o=s.errorMessage,l=s.id,j=s.isValid,d=s.isSubmitted,b=s.setValue,u=s.value,p=e.label,m=e.required,h=e.note,f=a.a.useState(!1),g=Object(O.a)(f,2),v=g[0],S=g[1],C=!j&&(v||d);return Object(x.jsxs)(G.a,{children:[Object(x.jsxs)(oe.a,{htmlFor:l,children:[p,!!m&&" *"]}),Object(x.jsxs)(Oe.a,{children:[Object(x.jsx)(je.a,{id:l,type:r?"text":"password",value:null!==u&&void 0!==u?u:"",onChange:function(e){return b(e.target.value)},onBlur:function(){return S(!0)},"aria-invalid":C,"aria-required":!!m,"aria-describedby":C?"".concat(l,"-error"):null}),Object(x.jsx)(xe.b,{children:Object(x.jsx)(ce.a,{bgColor:"transparent",size:"sm",onClick:function(){return i(!r)},children:r?Object(x.jsx)(be.a,{}):Object(x.jsx)(ue.a,{})})})]}),C&&Object(x.jsxs)(A.a,{id:"".concat(l,"-error"),color:"tomato",children:["\ud83d\udd75 ",o]}),h&&Object(x.jsx)(G.b,{id:"".concat(l,"-note"),children:h})]})},me=n(397),he=function(e){var t=e.title,n=e.children,c=Object(T.a)(e,["title","children"]);return Object(x.jsxs)(E.b,Object(u.a)(Object(u.a)({direction:{base:"column",md:"row"},spacing:"6",py:"4"},c),{},{children:[Object(x.jsx)(C.a,{children:t&&Object(x.jsx)(me.a,{as:"h2",fontWeight:"semibold",fontSize:"lg",flexShrink:0,children:t})}),n]}))},fe=function(e){var t=e.gcInfo,n=e.age;return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsx)(he,{title:"information sp\xe9cifique",children:Object(x.jsxs)(E.c,{width:"full",spacing:"6",children:[n()>18?"":Object(x.jsx)(de,{name:"parent",label:"Repr\xe9sentant l\xe9gal",Placeholder:t.parent}),Object(x.jsx)(de,{name:"Code_APCI",label:"Code APCI",Placeholder:t.Code_APCI,validations:[{rule:Object(Y.d)(),message:"Le code-APCI ne contient que des chiffres"}]}),Object(x.jsx)(de,{name:"Adresse",label:"Adresse",dtValue:t.Adresse,Placeholder:t.Adresse})]})})})},ge=n(235),ve=function(e){var t=Object(c.useState)(0),n=Object(O.a)(t,2),r=(n[0],n[1],Object(se.b)(e)),i=r.errorMessage,s=r.id,o=r.isValid,l=r.isSubmitted,j=r.setValue,d=r.value,b=e.data,p=e.name,m=e.label,h=e.note,f=a.a.useState(!1),g=Object(O.a)(f,2),S=g[0],C=g[1],y=!o&&(S||l),_={control:function(e){return Object(u.a)(Object(u.a)({},e),{},{backgroundColor:"white"})},option:function(e,t){t.data;var n=t.isDisabled,c=t.isFocused;t.isSelected;return Object(u.a)(Object(u.a)({},e),{},{backgroundColor:c?Object(v.d)("green","teal"):"white",color:c?"#FFF":"#000",cursor:n?"not-allowed":"default"})}};return Object(x.jsxs)(G.a,{children:[Object(x.jsx)(oe.a,{htmlFor:s,children:m}),Object(x.jsx)(ge.a,{id:s,isSearchable:!0,value:null!==d&&void 0!==d?d:"",name:p,placeholder:d,onChange:function(e){return function(e){j(e)}(e)},options:b,onBlur:function(){return C(!0)},styles:_}),y&&Object(x.jsx)(A.a,{id:"".concat(s,"-error"),color:"tomato",children:i}),h&&Object(x.jsx)(G.b,{id:"".concat(s,"-note"),children:h})]})},Se=n(434),Ce=n(440),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);return Object(Se.a)("domaine",(function(){return Z.get("dom")}),t)},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.params,Object(T.a)(e,["params"]));return Object(Ce.a)((function(e){var t=e.domaine_id;return Z.post("sousdom",{domaine_id:t})}),t)},ze=function(e){var t=Object(se.b)(e),n=t.errorMessage,c=t.id,r=t.isValid,i=t.isSubmitted,s=t.setValue,o=t.value,l=e.label,j=e.type,d=e.required,b=e.note,u=a.a.useState(!1),p=Object(O.a)(u,2),m=p[0],h=p[1],f=!r&&(m||i);return Object(x.jsxs)(G.a,{mt:5,children:[Object(x.jsxs)(oe.a,{htmlFor:c,children:[l,!!d&&" *"]}),Object(x.jsx)(je.a,{id:c,type:j||"text",value:null!==o&&void 0!==o?o:"",onChange:function(e){return s(e.target.value)},onBlur:function(){return h(!0)},"aria-invalid":f,"aria-required":!!d,"aria-describedby":f?"".concat(c,"-error"):null}),f&&Object(x.jsxs)(A.a,{id:"".concat(c,"-error"),color:"tomato",children:["\ud83d\udd75 ",n]}),b&&Object(x.jsx)(G.b,{id:"".concat(c,"-note"),children:b})]})},ke=n(399),Pe=n(438),we=n(47),Ie=function(e){var t,n=e.refetch,r=Object(J.a)(),i=(t={onError:function(e){},onSuccess:function(e){d(),r({title:"Type de certification ajout\xe9 avec succ\xe8s",description:"Vous pouvez le s\xe9lectionner nouveau \xe0 partir de 'Type de certificat'",status:"success",duration:"4000",isClosable:!0}),n()}},Object(Ce.a)((function(e){var t=e.nom;return Z.post("ad",{nom:t})}),t)),s=i.mutate,o=(i.isLoading,Object(ke.a)()),l=o.isOpen,j=o.onOpen,d=o.onClose,b=Object(c.useRef)(),u=Object(se.c)();u.values;return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(ce.a,{mx:2,position:"relative",top:"31px",ref:b,colorScheme:Object(v.d)("green","teal"),onClick:j,children:"Ajouter"}),Object(x.jsx)(Pe.a,{isOpen:l,placement:"right",onClose:d,finalFocusRef:b,children:Object(x.jsx)(we.h,{children:Object(x.jsxs)(Pe.b,{children:[Object(x.jsx)(we.c,{}),Object(x.jsx)(we.g,{children:"Create your account"}),Object(x.jsx)(we.b,{children:Object(x.jsx)(se.a,{connect:u,onValidSubmit:function(e){s(e)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:u.submit,multiple:!0,children:[Object(x.jsx)(ze,{name:"nom",label:"Domaine",required:"Il est requis de compl\xe9ter le champ correspondant au domaine",validations:[{rule:Object(Y.e)("^[a-zA-Z ]*$"),message:"Le nom ne contient que des lettres"}]}),Object(x.jsxs)(C.a,{m:2,children:[Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:d,children:"Annuler"}),Object(x.jsxs)(ce.a,{w:"40%",type:"submit",borderColor:"green.500",disabled:!u.isValid,children:["Submit",u.isValid?"\ud83d\udc4c":""]})]})]})})}),Object(x.jsx)(we.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:d,children:"Annuler"})})]})})})]})},Ee=function(e){var t,n=e.mutateSousD,r=e.domaine,i=Object(J.a)(),s=(t={onError:function(e){},onSuccess:function(e){i({title:"Type de certification ajout\xe9 avec succ\xe8s",description:"Vous pouvez le s\xe9lectionner nouveau \xe0 partir de 'Type de certificat'",status:"success",duration:"4000",isClosable:!0}),n({domaine_id:r}),b()}},Object(Ce.a)((function(e){var t=e.nom,n=e.domaine_id;return Z.post("asd",{nom:t,domaine_id:n})}),t)),o=s.mutate,l=(s.isLoading,Object(ke.a)()),j=l.isOpen,d=l.onOpen,b=l.onClose,u=Object(c.useRef)(),O=Object(se.c)();O.values;return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(ce.a,{mx:2,position:"relative",top:"31px",ref:u,colorScheme:Object(v.d)("green","teal"),onClick:d,children:"Ajouter"}),Object(x.jsx)(Pe.a,{isOpen:j,placement:"right",onClose:b,finalFocusRef:u,children:Object(x.jsx)(we.h,{children:Object(x.jsxs)(Pe.b,{children:[Object(x.jsx)(we.c,{}),Object(x.jsx)(we.g,{children:"Ajoutez votre Sousdomaine"}),Object(x.jsx)(we.b,{children:Object(x.jsx)(se.a,{connect:O,onValidSubmit:function(e){e.domaine_id=r,o(e)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:O.submit,multiple:!0,children:[Object(x.jsx)(ze,{name:"nom",label:"Sous Domaine",required:"Il est requis de compl\xe9ter le champ correspondant au domaine",validations:[{rule:Object(Y.e)("^[a-zA-Z ]*$"),message:"Le nom ne contient que des lettres"}]}),Object(x.jsxs)(C.a,{m:2,children:[Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:b,children:"Annuler"}),Object(x.jsxs)(ce.a,{w:"40%",type:"submit",borderColor:"green.500",disabled:!O.isValid,children:["Submit",O.isValid?"\ud83d\udc4c":""]})]})]})})}),Object(x.jsx)(we.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:b,children:"Annuler"})})]})})})]})},Te=function(e){var t=e.gcInfo,n=e.valueForm,r=Object(c.useState)([]),i=Object(O.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)([]),j=Object(O.a)(l,2),d=j[0],b=j[1],u=Object(c.useState)(0),p=Object(O.a)(u,2),m=p[0],h=p[1],f=Object(J.a)(),g=ye({onError:function(e){f({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){o(e.data)}}),v=(g.isLoading,g.refetch),y={id:n.SelectDomaine},_=_e({param:y,onError:function(e){f({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){b(e.data)}}),z=(_.isLoading,_.mutate);return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsx)(he,{title:"Information sp\xe9cifique",children:Object(x.jsxs)(E.c,{width:"full",spacing:"6",children:[Object(x.jsx)(de,{name:"adresse_physique",label:"Adresse",Placeholder:t.adresse_physique}),Object(x.jsxs)(S.a,{w:"100%",children:[Object(x.jsx)(ve,{data:s,label:"Domaine",onChange:function(e){h(e.value),b([]),z({domaine_id:e.value})},name:"SelectDomaine"}),Object(x.jsx)(C.a,{children:Object(x.jsx)(Ie,{refetch:v})})]}),Object(x.jsxs)(S.a,{w:"100%",children:[Object(x.jsx)(ve,{onChange:function(){return v()},data:d,label:"Sous Domaine",name:"selectSousDomaine"}),Object(x.jsx)(C.a,{display:0!=m?"":"none",children:Object(x.jsx)(Ee,{mutateSousD:z,domaine:m})})]}),Object(x.jsx)(de,{name:"secretaire",label:"Secr\xe9taire",note:"Entrez le cin ou le num\xe9ro de t\xe9l\xe9phone ou l'email de la secr\xe9taire. Pour supprimer vous devez \xe9crire 'supprimer'",Placeholder:t.secretaire})]})})})},Ae=function(e){var t=Object(se.b)(e),n=t.errorMessage,c=t.id,r=t.isValid,i=t.isSubmitted,s=e.label,o=(e.type,e.required),l=e.note,j=e.Placeholder,d=(e.pictures,e.setPictures),b=a.a.useState(!1),u=Object(O.a)(b,2),p=u[0],m=u[1],h=!r&&(p||i);return Object(x.jsxs)(G.a,{children:[Object(x.jsx)(oe.a,{htmlFor:c,children:Object(x.jsxs)(ce.a,{leftIcon:Object(x.jsx)(P.b,{}),onClick:function(){document.getElementById(c).click()},children:["Changer la photo ",!!o&&" *"]})}),Object(x.jsx)("input",{id:c,type:"file",placeholder:j||s,onChange:function(e){return function(e){d(e.target.files[0])}(e)},onBlur:function(){return m(!0)},"aria-invalid":h,"aria-required":!!o,"aria-describedby":h?"".concat(c,"-error"):null,style:{display:"none"}}),h&&Object(x.jsx)(A.a,{id:"".concat(c,"-error"),color:"tomato",children:n}),l&&Object(x.jsx)(G.b,{id:"".concat(c,"-note"),children:l})]})},De=function(){var e,t,n=Object(c.useState)(null),r=Object(O.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(null),l=Object(O.a)(o,2),j=l[0],d=l[1],b=Object(c.useContext)(p),m=b.user,h=b.setUser,f=(e={onError:function(e){P({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){I();var t=Object(u.a)(Object(u.a)({},m),e.data);localStorage.setItem("user",JSON.stringify(t)),h(t);for(var n="",c=0,a=Object.entries(e.data);c<a.length;c++){var r=Object(O.a)(a[c],2),i=(r[0],r[1]);n+="|  ".concat(i," |  ")}P(""!=n?{title:"Erreur sous la forme",description:n,status:"success",duration:"4000",isClosable:!0}:{title:"Mise \xe0 jour r\xe9ussie",status:"success",duration:"4000",isClosable:!0})}},Object(Ce.a)((function(e){return Z({method:"POST",url:H+"/api/ucp",data:e})}),e)),g=f.mutate,S=f.isLoading,y=Object(c.useState)({}),_=Object(O.a)(y,2),z=_[0],k=_[1],P=Object(J.a)(),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)("gcf",(function(){return Z.get("gcf",{params:t})}),n)}({params:{id:m.id},onError:function(e){P({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){console.log(e),console.log("user"),console.log(m);var t=Object(u.a)({},e.data);t.isAuthenticated=!0,t.fonctionnalite=m.fonctionnalite,h(t),k(e.data),R(t.sexes)}}),I=(w.isLoading,w.refetch),D=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),c=1;c<t;c++)n[c-1]=arguments[c];return Object(Ce.a)((function(e){return Z.post("rmpp",e)}),n)}({onError:function(e){P({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){I()}}),M=D.mutate,V=(D.isLoading,a.a.useState()),L=Object(O.a)(V,2),F=L[0],R=L[1],N=Object(se.c)(),W=N.values;return(t=i,new Promise((function(e,n){var c=new FileReader;c.readAsDataURL(t),c.onload=function(){return e(c.result)},c.onerror=function(e){return n(e)}}))).then((function(e){return d(e)})).catch((function(e){return console.log(e)})),Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(X.a,{display:S?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{px:{base:"4",md:"3",lg:"10"},py:"16",mx:"auto",display:S?"none":"",children:Object(x.jsx)(se.a,{connect:N,onValidSubmit:function(e){e.id=m.id,e.sexes=F,e.id_cms_privileges=m.fonctionnalite,e.photo=i,e.SelectDomaine&&(e.SelectDomaine=e.SelectDomaine.value),e.selectSousDomaine&&(e.selectSousDomaine=e.selectSousDomaine.value);var t=new FormData;Object.keys(e).map((function(n,c){t.append(n,e[n])})),g(t)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:N.submit,multiple:!0,children:[Object(x.jsx)(he,{title:"informations g\xe9n\xe9rales",children:Object(x.jsxs)(E.c,{width:"full",spacing:"6",children:[Object(x.jsx)(de,{name:"nom",label:"Nom",validations:[{rule:Object(Y.e)("^[a-zA-Z ]*$"),message:"Le nom ne contient que des lettres"}],Placeholder:z.nom}),Object(x.jsx)(de,{name:"prenom",label:"Pr\xe9nom",Placeholder:z.prenom,validations:[{rule:Object(Y.e)("^[a-zA-Z ]*$"),message:"Le prenom ne contient que des lettres"}]}),Object(x.jsx)(G.a,{children:Object(x.jsx)(Q.a,{children:Object(x.jsx)(ee.a,{onChange:R,value:F,name:"sexes",children:Object(x.jsxs)(E.b,{direction:"row",size:"lg",children:[Object(x.jsx)(te.a,{value:"homme",_selected:!0,py:3,px:10,children:"Homme \ud83d\udc68\u200d\ud83e\uddb0"}),Object(x.jsx)(te.a,{value:"femme",py:3,px:10,children:"Femme \ud83d\udc69\u200d\ud83e\uddb0"})]})})})}),Object(x.jsx)(le,{name:"date_naissance",label:"Date de naissance",dValue:z.date_naissance}),Object(x.jsx)(de,{name:"cin",label:"C.I.N",Placeholder:z.cin,validations:[{rule:Object(Y.d)(),message:"La carte d'identit\xe9 ne contient que des chiffres"},{rule:Object(Y.b)(8),message:"La carte d'identit\xe9 doit \xeatre constitu\xe9e  de 8 chiffres"},{rule:function(e){return!!e||!!W.email||!!W.telephone},message:"La carte d'identit\xe9 doit \xeatre constitu\xe9e  de 8 chiffres",deps:[W.email,W.telephone]}]}),Object(x.jsx)(de,{name:"telephone",label:"T\xe9l\xe9phone",Placeholder:z.telephone,validations:[{rule:Object(Y.d)(),message:"La num\xe9ro de t\xe9l\xe9phone  ne contient que des chiffres"},{rule:Object(Y.b)(8),message:"La num\xe9ro de t\xe9l\xe9phone doit \xeatre constitu\xe9e  de 8 chiffres"},{rule:function(e){return!!e||!!W.cin||!!W.email},message:"La num\xe9ro de t\xe9l\xe9phone doit \xeatre constitu\xe9e  de 8 chiffres",deps:[W.cin,W.email]}]}),Object(x.jsx)(de,{name:"email",label:"E-mail",Placeholder:z.email,validations:[{rule:Object(Y.a)(),message:"Veuillez v\xe9rifier le format de l'E-mail(doit contenir @ et .)"},{rule:function(e){return!!e||!!W.cin||!!W.telephone},message:'Le champ E-mail doit contenir "@" et "."',deps:[W.cin,W.telephone]}]}),Object(x.jsx)(pe,{name:"password",label:"Mot de passe",type:"password",validations:[{rule:Object(Y.c)(6),message:"Le mot de passe doit contenir au moins 6 caract\xe8res"}]})]})}),Object(x.jsx)(ne.a,{}),Object(x.jsx)(he,{title:"Photo de Profil",children:Object(x.jsxs)(E.b,{direction:"row",spacing:"10",align:"center",width:"full",children:[Object(x.jsx)(q.a,{size:"xl",name:z.nom+" "+z.prenom,src:j||z.photo&&"".concat(H).concat(z.photo)}),Object(x.jsxs)(C.a,{children:[Object(x.jsxs)(E.a,{spacing:"5",children:[Object(x.jsx)(Ae,{pictures:i,setPictures:s,name:"photo",label:"photo"}),Object(x.jsx)(ce.a,{display:z.photo||j?"block":"none",variant:"ghost",colorScheme:"red",onClick:function(){j&&d(null,s(null))||M({id:m.id}),I()},children:"Effacer"})]}),Object(x.jsx)(A.a,{fontSize:"sm",mt:"3",color:Object(v.d)("gray.500","whiteAlpha.600"),children:".jpg, .gif, or .png."})]})]})}),Object(x.jsx)(ne.a,{}),"patient"==m.fonctionnalite?Object(x.jsx)(fe,{gcInfo:z,age:function(){return Math.abs(new Date(Date.now()-new Date(W.date_naissance||z.date_naissance).getTime()).getUTCFullYear()-1970)}}):"","medecin"==m.fonctionnalite?Object(x.jsx)(Te,{valueForm:W,gcInfo:z}):"",Object(x.jsx)(G.a,{mt:5,align:"center",children:Object(x.jsxs)(ce.a,{w:"40%",type:"submit",borderColor:"green.500",disabled:!N.isValid,children:["Sauvegarder",N.isValid?"\ud83d\udc4c":""]})})]})})})]})},Me=function(e){var t=e.isAuth,n=Object(T.a)(e,["isAuth"]);return Object(c.useContext)(p).user.isAuthenticated?t?Object(x.jsx)(g.b,Object(u.a)({exact:!0},n)):Object(x.jsx)(g.a,{to:{pathname:"/dashboard"}}):Object(x.jsx)(g.a,{to:{pathname:"/login"}})},Ve=Me,Le=n(230),Fe=n(226),Re=function(e){var t=e.chercherFn,n=e.buttonText,a=e.buttonIcon,r=e.buttonhoverTesxt,i=e.inputhoverTesxt,s=Object(c.useState)(""),o=Object(O.a)(s,2),l=o[0],j=o[1];return Object(x.jsx)(E.b,{pt:10,spacing:"4",direction:{base:"column",md:"row"},justify:"space-between",children:Object(x.jsxs)(Le.a,{templateColumns:"repeat(2, 1fr)",w:"100%",gap:2,children:[Object(x.jsx)(y.a,{label:i||"","aria-label":i||"",children:Object(x.jsx)(G.a,{w:"100%",id:"search",children:Object(x.jsxs)(Oe.a,{size:"sm",children:[Object(x.jsx)(oe.a,{srOnly:!0,children:"Filtrer par nom ou par e-mail"}),Object(x.jsx)(xe.a,{pointerEvents:"none",color:"gray.400",children:Object(x.jsx)(L.g,{})}),Object(x.jsx)(je.a,{rounded:"base",type:"search",onChange:function(e){return j(e.target.value)},placeholder:"Filtrer"})]})})}),Object(x.jsx)(y.a,{label:r||"","aria-label":r||"",children:Object(x.jsx)(Fe.a,{size:"sm",variant:"outline",children:Object(x.jsx)(ce.a,{w:"100%",onClick:function(){return t(l)},iconSpacing:"1",leftIcon:a,children:n})})})]})})},qe=n(406),Ne=function(e){var t=e.header,n=e.content,a=e.fntable,r=e.message;return Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)(C.a,{display:n&&0!=n.length?"none":"",maxW:"2xl",mx:"auto",px:{base:"6",lg:"8"},py:{base:"16",sm:"20"},textAlign:"center",children:r?r():Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(me.a,{as:"h2",size:"lg",fontWeight:"extrabold",letterSpacing:"tight",children:"Vous n'avez aucun information"})})}),Object(x.jsxs)(qe.a,{overflowX:"scroll",w:"100%",display:0==n.length?"none":"",my:"8",borderWidth:"1px",fontSize:"sm",children:[Object(x.jsx)(qe.e,{bg:Object(v.d)("green.100","gray.800"),children:Object(x.jsxs)(qe.f,{textAlign:"center",children:[t.map((function(e,t){return Object(x.jsx)(qe.d,{maxW:"10%",whiteSpace:"nowrap",scope:"col",color:Object(v.d)("green.900","gray.50"),children:e},t)})),a?Object(x.jsx)(qe.d,{textAlign:"center",color:Object(v.d)("green.900","gray.50"),children:"acte"}):""]})}),Object(x.jsx)(qe.b,{children:n.map((function(e,n){return Object(x.jsxs)(qe.f,{whiteSpace:"normal",children:[Object.values(e).slice(1).map((function(e,n){return n<Object.values(t).length?Object(x.jsx)(qe.c,{maxW:"100px",whiteSpace:"nowrap",children:e},n):null})),a?Object(x.jsxs)(qe.c,{textAlign:"right",children:[Object(x.jsxs)(C.a,{textAlign:"center",children:[a?a.fn(e):"",a?!!a.fn2&&a.fn2(e):""]}),Object(x.jsx)(C.a,{textAlign:"center",children:a?!!a.fn3&&a.fn3(e):""})]}):""]},n)}))})]})]})},We=function(e){var t=e.total,n=e.prev_page_url,c=e.next_page_url,a=e.setPage,r=e.page;return Object(x.jsx)(C.a,{px:2,display:0==t?"none":"",children:Object(x.jsxs)(S.a,{align:"center",justify:"space-between",children:[Object(x.jsxs)(A.a,{color:Object(v.d)("green.600","gray.400"),fontSize:"sm",children:[t," Colonne"]}),Object(x.jsxs)(Fe.a,{variant:"outline",size:"sm",children:[n?Object(x.jsx)(ce.a,{as:"a",onClick:function(){return a(r-1)},rel:"Pr\xe9c\xe9dente",children:"Pr\xe9c\xe9dente"}):"",Object(x.jsxs)(C.a,{m:1,children:[" Page ",r]}),c?Object(x.jsx)(ce.a,{as:"a",onClick:function(){return a(r+1)},rel:"Suivante",children:"Suivante"}):""]})]})})},Be=function(){var e=Object(c.useState)("medicament"),t=Object(O.a)(e,2),n=(t[0],t[1]);Object(g.g)();return Object(x.jsxs)(C.a,{as:"section",py:{base:0,md:"12"},w:"100%",children:[Object(x.jsxs)(Le.a,{templateColumns:"repeat(2, 1fr)",gap:2,children:[Object(x.jsx)(ce.a,{mx:10,onClick:function(){n("consultation")},children:"\ud83e\ude7a consultation"}),Object(x.jsx)(ce.a,{mx:10,onClick:function(){n("medicament")},children:"medicament \ud83d\udc8a"})]}),Object(x.jsx)(C.a,{maxW:{base:"xl",md:"7xl"},mx:"auto",px:{base:"1",md:"8"},children:Object(x.jsxs)(C.a,{children:[Object(x.jsx)(me.a,{size:"lg",mb:"6",children:"Contact"}),Object(x.jsx)(Ne,{header:[],content:[]}),Object(x.jsx)(We,{})]})})]})},He=n(407),Ue=function(e){return Object(Ce.a)((function(e){var t=e.medecin_id,n=e.patient_id;return Z.post("rmp",{medecin_id:t,patient_id:n})}),e)},Ke=function(e){var t=Object(c.useContext)(p),n=t.user,r=(t.cleanUser,e.refetch),i=Object(c.useState)(""),s=Object(O.a)(i,2),o=s[0],l=s[1],j=Ue({onError:function(e){l("V\xe9rifiez les informations de contact ou la liste que vous avez ins\xe9r\xe9es")},onSuccess:function(e){l(""),r()}}),d=j.mutate,b=j.isLoading,u=Object(se.c)();return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsx)(se.a,{connect:u,onValidSubmit:function(e){e.medecin_id=n.id,d(e)},children:Object(x.jsx)("form",{noValidate:!0,onSubmit:u.submit,children:Object(x.jsx)(E.b,{spacing:"2",direction:{base:"column",md:"row"},justify:"space-between",children:Object(x.jsxs)(He.a,{columns:2,spacing:1,w:"100%",children:[Object(x.jsx)(y.a,{label:"Entrez le cin, l'email ou le t\xe9l\xe9phone du patient","aria-label":"Entrez le cin, l'email ou le t\xe9l\xe9phone du patient",children:Object(x.jsxs)(G.a,{minW:{md:"320px"},id:"search",children:[Object(x.jsx)(de,{name:"patient_id",Placeholder:"ajouter un patient"}),Object(x.jsx)(A.a,{color:"tomato",children:o})]})}),Object(x.jsx)(y.a,{label:"ajouter un patient","aria-label":"ajouter un patient",children:Object(x.jsx)(Fe.a,{size:"sm",variant:"outline",children:Object(x.jsxs)(ce.a,{position:"relative",top:"8px",type:"submit",fontSize:"20px",p:5,w:"100%",children:[Object(x.jsx)(X.a,{display:b?"":"none",color:"red.500"}),"Ajouter \ud83e\udd12"]})})})]})})})})})},Ze=n(74),$e=function(e){var t=Object(c.useContext)(p),n=t.user,r=(t.cleanUser,Object(ke.a)()),i=r.isOpen,s=r.onOpen,o=r.onClose,l=e.patient,j=Object(J.a)(),d=n.id,b=Object(c.useState)(0),u=Object(O.a)(b,2),m=u[0],h=u[1],f=Object(c.useState)(""),g=Object(O.a)(f,2),S=g[0],C=g[1],y=Object(c.useState)(""),_=Object(O.a)(y,2),z=_[0],k=_[1],P=Object(c.useState)(1),w=Object(O.a)(P,2),I=w[0],E=w[1],A=Object(c.useState)(["Code","Designation","note","Date"]),D=Object(O.a)(A,2),M=D[0],V=(D[1],Object(c.useState)([[""],[""]])),L=Object(O.a)(V,2),F=L[0],R=L[1],q=Object(c.useState)(""),N=Object(O.a)(q,2),W=(N[0],N[1],{medecin_id:d,patient_id:l.id,page:I}),B=a.a.useRef(),H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)(["hact",t],(function(){return Z.get("hact",{params:t})}),n)}({params:W,onError:function(e){j({title:":Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:4e3,isClosable:!0})},onSuccess:function(e){h(e.data.total),C(e.data.next_page_url),k(e.data.prev_page_url),R(e.data.data&&e.data.data||[])}});H.isLoading,H.refetch;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ce.a,{ref:B,colorScheme:Object(v.d)("green","blue"),onClick:s,children:"Acte"}),Object(x.jsxs)(Pe.a,{isOpen:i,placement:"left",size:"xl",onClose:o,finalFocusRef:B,children:[Object(x.jsx)(we.h,{}),Object(x.jsxs)(Pe.b,{bg:Object(v.d)("green.50"),children:[Object(x.jsx)(we.c,{}),Object(x.jsx)(we.g,{children:"Acte"}),Object(x.jsxs)(we.b,{children:[Object(x.jsx)(Ne,{header:M,content:F}),Object(x.jsx)(We,{total:m,next_page_url:S,prev_page_url:z,page:I,setPage:E})]}),Object(x.jsx)(we.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:o,children:"Annuler"})})]})]})]})},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)("pinfo",(function(){return Z.get("pinfo",{params:t})}),n)},Je=n(431),Xe=n(409),Ge=n(411),Qe=n(410),et=n(68),tt=n(408),nt=function(e){var t=e.medecin,n=Object(c.useState)([]),r=Object(O.a)(n,2),i=r[0],s=r[1],o={id:t},l=Object(J.a)(),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)(["medecininfo",t],(function(){return Z.get("medecininfo",{params:t})}),n)}({params:o,onError:function(e){l({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){s(e.data)}});j.isLoading,j.refetch;return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(A.a,{children:i.nom}),i.photo&&Object(x.jsx)(q.a,{size:"xl",name:i.nom,src:"".concat(H).concat(i.photo)}),Object(x.jsx)(A.a,{display:"block",as:"a",href:"tel:"+i.telephone,children:Object(x.jsx)(ce.a,{my:1,leftIcon:Object(x.jsx)(et.a,{}),colorScheme:"green",variant:"outline",children:"Appelles"})}),Object(x.jsx)(A.a,{as:"a",href:"mailto:"+i.email,children:Object(x.jsx)(ce.a,{my:1,colorScheme:"green",leftIcon:Object(x.jsx)(tt.a,{}),variant:"outline",children:"Email"})}),Object(x.jsx)(A.a,{children:i.sexes})]})},ct=function(e){var t=e.data;return Object(z.a)({base:!0,lg:!1})?Object(x.jsx)(A.a,{fontSize:"20px",color:Object(v.d)("green.700","gray.50"),m:1,children:Object(x.jsxs)(Je.a,{children:[Object(x.jsx)(Je.h,{children:Object(x.jsx)(A.a,{textAlign:"center",bgColor:Object(v.d)("green.100","gray.500"),_hover:{background:Object(v.d)("blue.100","gray.600")},style:{cursor:"pointer"},borderRadius:"20px",p:2,colorScheme:"green",children:"Description"})}),Object(x.jsxs)(Je.e,{children:[Object(x.jsx)(Je.b,{}),Object(x.jsx)(Je.d,{}),Object(x.jsx)(Je.g,{children:"Plus d'information"}),Object(x.jsx)(Je.c,{children:t.description})]})]})}):null},at=function(e){var t=Object(z.a)({base:!0,lg:!1}),n=e.patient,r=Object(J.a)(),i={patient_id:n.id},s=Object(c.useState)(0),o=Object(O.a)(s,2),l=o[0],j=(o[1],Object(c.useState)("")),d=Object(O.a)(j,2),b=d[0],u=(d[1],Object(c.useState)("")),p=Object(O.a)(u,2),m=p[0],h=(p[1],Object(c.useState)(1)),f=Object(O.a)(h,2),g=f[0],S=f[1],C=Object(c.useState)([]),_=Object(O.a)(C,2),k=_[0],P=_[1],w=Object(ke.a)(),I=w.isOpen,E=w.onOpen,D=w.onClose,M=["type","description","Date"];M=t?["type"]:["type","description","Date"];var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)("antecedants",(function(){return Z.get("antecedants",{params:t})}),n)}({params:i,onError:function(e){r({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){P(e.data.data)}}),L=V.isLoading,F=(V.refetch,Object(c.useState)({fn:function(e){return Object(x.jsx)(A.a,{fontSize:"20px",color:Object(v.d)("green.700","gray.50"),children:Object(x.jsxs)(Je.a,{children:[Object(x.jsx)(Je.h,{children:Object(x.jsx)(A.a,{textAlign:"center",bgColor:Object(v.d)("green.100","gray.500"),_hover:{background:Object(v.d)("blue.100","gray.600")},style:{cursor:"pointer"},borderRadius:"20px",p:2,colorScheme:"green",children:e.medecin})}),Object(x.jsxs)(Je.e,{children:[Object(x.jsx)(Je.b,{}),Object(x.jsx)(Je.d,{}),Object(x.jsx)(Je.g,{children:"Plus d'information"}),Object(x.jsx)(Je.c,{children:Object(x.jsx)(nt,{medecin:e.medecin_id})})]})]})})},fn2:function(e){return Object(x.jsx)(ct,{data:e})}})),R=Object(O.a)(F,2),q=R[0];R[1];return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(ce.a,{colorScheme:Object(v.d)("green","blue"),onClick:E,children:Object(x.jsx)(y.a,{label:"Trouver tous les ant\xe9c\xe9dents m\xe9dicauxr","aria-label":"Trouver tous les ant\xe9c\xe9dents m\xe9dicaux",children:"Ant\xe9c\xe9dents"})}),Object(x.jsxs)(Pe.a,{placement:"left",size:"xl",onClose:D,isOpen:I,children:[Object(x.jsx)(we.h,{}),Object(x.jsxs)(Pe.b,{bg:Object(v.d)("green.50","gray.700"),children:[Object(x.jsxs)(we.g,{borderBottomWidth:"1px",children:["Antecedants",Object(x.jsx)(Xe.a,{float:"right",variant:"outline",size:"xs",m:1,colorScheme:"red",fontSize:"10px",icon:Object(x.jsx)(Qe.a,{}),onClick:function(){return D()}})]}),Object(x.jsx)(we.b,{display:L?"":"none",children:Object(x.jsx)(Ge.b,{mt:"7",noOfLines:7,spacing:"7"})}),Object(x.jsxs)(we.b,{display:L?"none":"",children:[Object(x.jsx)(Ne,{header:M,content:k,fntable:q}),Object(x.jsx)(We,{total:l,next_page_url:b,prev_page_url:m,page:g,setPage:S})]}),Object(x.jsx)(we.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:D,children:"Annuler"})})]})]})]})},rt=n(101),it=n.n(rt),st=function(e){var t=Object(c.useContext)(p).user,n=Object(c.useState)(""),r=Object(O.a)(n,2),i=r[0],s=r[1],o=Object(se.b)(e),l=o.errorMessage,j=o.id,d=o.isValid,b=o.isSubmitted,u=o.setValue,m=o.value,h=e.label,f=e.required,g=e.note,v=e.Placeholder,S=e.dtValue,C=e.Patient,y=e.editorRef,_=e.disabled,z=a.a.useState(!1),k=Object(O.a)(z,2),P=k[0],w=k[1],I=!d&&(P||b),E=Object(J.a)(),T=Object(c.useState)({}),D=Object(O.a)(T,2),M=D[0],V=D[1],L={cms_users_id:C.id},F=Ye({params:L,onError:function(e){E({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){V(e.data)}}),R=(F.isLoading,F.refetch,function(e,t,n){return e.split(t).join(n)}),q=function(){var e=window.open("","PRINT");e.document.write(function(e){var n="homme"==t.sexes?"Mr.":"Mrs.",c="homme"==C.sexes?"Mr.":"Mrs.";return e=R(e,"{sexesPatient}",c),e=R(e,"{medecinNomPrenom}",t.nom+" "+t.prenom),e=R(e,"{patientNomPrenom}",M.nom+" "+M.prenom),e=R(e,"{addresPatient}",C.Adresse),e=R(e,"{sexesmedecin}",n),e=R(e,"{specialiteMedecin}",""),e=R(e,"{domaineMedecin}",""),e=R(e,"{datePatient}",M.date_naissance?new Date(M.date_naissance).toISOString().slice(0,10):""),e=R(e,"{thisDate}",(new Date).toISOString().slice(0,10)),R(e,"{agePatient}",M.date_naissance?Math.abs(new Date(Date.now()-new Date(M.date_naissance).getTime()).getUTCFullYear()-1970):"")}(i)),e.document.close(),e.focus(),e.addEventListener("afterprint",(function(t){e.close()})),e.print()};return Object(x.jsxs)(G.a,{children:[Object(x.jsx)(oe.a,{htmlFor:j,children:h}),Object(x.jsx)(it.a,{disable:!!_,ref:y,id:j,placeholder:v||"S'il vous pla\xeet \xe9crivez votre structure de certificat ici...",value:m||S||"",onBlur:function(){return w(!0)},"aria-invalid":I,"aria-required":!!f,"aria-describedby":I?"".concat(j,"-error"):null,lang:"fr",name:"my-editor",height:"auto",showToolbar:!0,values:i,onChange:function(e){s(e),u(e)},setOptions:{height:200,buttonList:[["undo","redo"],["font","fontSize","formatBlock",":p-More Paragraph-default.more_paragraph"],["paragraphStyle","blockquote"],["bold","underline","italic","strike","subscript","superscript"],["fontColor","hiliteColor","textStyle"],["align","horizontalRule","list","lineHeight"],["removeFormat"]]}}),I&&Object(x.jsx)(A.a,{id:"".concat(j,"-error"),color:"tomato",children:l}),Object(x.jsx)(Xe.a,{m:2,onClick:function(){return q()},variant:"outline",colorScheme:"teal","aria-label":"Send email",icon:Object(x.jsx)(Ze.b,{}),size:"lg"}),g&&Object(x.jsx)(G.b,{id:"".concat(j,"-note"),children:g})]})},ot=n(412),lt=function(e){var t=e.structure,n=e.patientId,a=Object(c.useRef)(),r=Object(ke.a)(),i=r.isOpen,s=r.onOpen,o=r.onClose,l=Object(c.useRef)(),j=(Object(c.useRef)(),Object(se.c)());return Object(c.useEffect)((function(){a.current&&a.current.editor.setContents(t)})),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ce.a,{onClick:s,children:"Certificat"}),Object(x.jsxs)(ot.a,{motionPreset:"slideInBottom",leastDestructiveRef:l,onClose:o,isOpen:i,isCentered:!0,children:[Object(x.jsx)(we.h,{}),Object(x.jsxs)(ot.b,{minW:{md:"700px",lg:"90vw"},children:[Object(x.jsx)(we.g,{children:"Certificat"}),Object(x.jsx)(we.c,{}),Object(x.jsx)(we.b,{children:Object(x.jsx)(se.a,{connect:j,onValidSubmit:function(e){},children:Object(x.jsx)("form",{noValidate:!0,onSubmit:j.submit,children:Object(x.jsx)(st,{Patient:{id:n},disabled:!0,editorRef:a,name:"certif"})})})})]})]})]})},jt=function(e){var t=Object(c.useContext)(p),n=t.user,r=(t.cleanUser,Object(ke.a)()),i=r.isOpen,s=r.onOpen,o=r.onClose,l=e.patient,j=Object(J.a)(),d=n.id,b=Object(c.useState)(0),u=Object(O.a)(b,2),m=u[0],h=u[1],f=Object(c.useState)(""),g=Object(O.a)(f,2),S=g[0],C=g[1],y=Object(c.useState)(""),_=Object(O.a)(y,2),z=_[0],k=_[1],P=Object(c.useState)(1),w=Object(O.a)(P,2),I=w[0],E=w[1],A=Object(c.useState)([[""]]),D=Object(O.a)(A,2),M=D[0],V=D[1],L=Object(c.useState)(""),F=Object(O.a)(L,2),R=(F[0],F[1],Object(c.useState)({fn:function(e){return Object(x.jsx)(lt,{structure:e.structure,patientId:e.patient_id})}})),q=Object(O.a)(R,2),N=q[0],W=(q[1],{medecin_id:d,patient_id:l.id,page:I}),B=a.a.useRef(),H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)(["hcertif",t],(function(){return Z.get("hcertif",{params:t})}),n)}({params:W,onError:function(e){j({title:"Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:4e3,isClosable:!0})},onSuccess:function(e){h(e.data.total),C(e.data.next_page_url),k(e.data.prev_page_url),e.data.data!==[]&&V(e.data.data)}});H.isLoading,H.refetch;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ce.a,{ref:B,colorScheme:Object(v.d)("green","blue"),onClick:s,children:"Certificat"}),Object(x.jsxs)(Pe.a,{isOpen:i,placement:"left",size:"xl",onClose:o,finalFocusRef:B,children:[Object(x.jsx)(we.h,{}),Object(x.jsxs)(Pe.b,{bg:Object(v.d)("green.50"),children:[Object(x.jsx)(we.c,{}),Object(x.jsx)(we.g,{children:"Certificat"}),Object(x.jsxs)(we.b,{children:[Object(x.jsx)(Ne,{header:["date"],content:M,fntable:N}),Object(x.jsx)(We,{total:m,next_page_url:S,prev_page_url:z,page:I,setPage:E})]}),Object(x.jsx)(we.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:o,children:"Annuler"})})]})]})]})},dt=n(432),bt=function(e){var t=Object(J.a)(),n=e.data,a=Object(c.useState)({}),r=Object(O.a)(a,2),i=r[0],s=r[1],o=Object(c.useState)({}),l=Object(O.a)(o,2),j=l[0],d=l[1],b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)("Detatil Of Consultation",(function(){return Z.get("cd",{params:t})}),n)}({params:{id:n.id},onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){s(e.data.data.consultation),d(e.data.data.detail)}});b.isLoading,b.refetch;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(A.a,{pb:2,fontSize:"23px",children:null!=i?Object(x.jsxs)(x.Fragment,{children:["Diagnostic: ",i.Diagnostic]}):""}),Object(x.jsx)(A.a,{pb:2,fontSize:"23px",children:null!=i?Object(x.jsxs)(x.Fragment,{children:["Prix: ",i.prix]}):""}),Object(x.jsx)(A.a,{children:null!=j?Object(x.jsx)(He.a,{minChildWidth:"100px",spacing:"10px",children:Object(x.jsx)(dt.a,{allowMultiple:!0,children:Object.keys(j).map((function(e){return Object(x.jsxs)(dt.d,{children:[Object(x.jsx)("h2",{children:Object(x.jsxs)(dt.b,{bgColor:"green.100",children:[Object(x.jsx)(C.a,{flex:"1",textAlign:"left",fontSize:"30px",children:e}),Object(x.jsx)(dt.c,{})]})}),Object(x.jsx)(dt.e,{pb:4,children:j[e].map((function(t){return Object(x.jsx)(C.a,{borderBottom:"1px",borderColor:"gray.200",pb:2,children:Object.keys(t).map((function(n){return Object(x.jsx)(A.a,{children:"certificat"==e?Object(x.jsx)(lt,{structure:t.structure,patientId:t.patient_id}):Object(x.jsx)(x.Fragment,{children:null!=t[n]?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(A.a,{fontSize:"20px",children:[n,":"]}),Object(x.jsx)(A.a,{fontSize:"15px",children:t[n]})]}):""})})}))})}))})]})}))})}):""})]})},ut=function(e){var t=e.data,n=(Object(c.useContext)(p).user,Object(ke.a)()),a=n.isOpen,r=n.onOpen,i=n.onClose,s=Object(c.useRef)();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ce.a,{ref:s,m:1,colorScheme:Object(v.d)("green","blue"),onClick:r,children:"Historique Consultation"}),Object(x.jsx)(Pe.a,{size:"xl",isOpen:a,placement:"left",onClose:i,finalFocusRef:s,children:Object(x.jsx)(we.h,{children:Object(x.jsxs)(Pe.b,{bg:Object(v.d)("green.50"),children:[Object(x.jsx)(we.c,{}),Object(x.jsx)(we.g,{children:"Historique consultation"}),Object(x.jsx)(we.b,{children:Object(x.jsx)(bt,{data:t})}),Object(x.jsx)(we.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:i,children:"Annuler"})})]})})})]})},Ot=function(e){var t=Object(c.useContext)(p),n=t.user,r=(t.cleanUser,Object(ke.a)()),i=r.isOpen,s=r.onOpen,o=r.onClose,l=e.patient,j=Object(J.a)(),d=n.id,b=Object(c.useState)(0),u=Object(O.a)(b,2),m=u[0],h=u[1],f=Object(c.useState)(""),g=Object(O.a)(f,2),S=g[0],C=g[1],y=Object(c.useState)(""),_=Object(O.a)(y,2),z=_[0],k=_[1],P=Object(c.useState)(1),w=Object(O.a)(P,2),I=w[0],E=w[1],A=Object(c.useState)([]),D=Object(O.a)(A,2),M=D[0],V=D[1],L=Object(c.useState)([[""],[""]]),F=Object(O.a)(L,2),R=F[0],q=F[1],N=Object(c.useState)(""),W=Object(O.a)(N,2),B=(W[0],W[1],{medecin_id:d,patient_id:l.id,page:I}),H=a.a.useRef(),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)("hex",(function(){return Z.get("hex",{params:t})}),n)}({params:B,onError:function(e){j({title:"Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:4e3,isClosable:!0})},onSuccess:function(e){h(e.data.total),C(e.data.next_page_url),k(e.data.prev_page_url),e.data.data!==[]&&q(e.data.data),e.data.data!==[]&&V(["Note","Type","Prix","Date"])}});U.isLoading,U.refetch;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ce.a,{ref:H,onClick:s,colorScheme:Object(v.d)("green","blue"),children:"Examen"}),Object(x.jsxs)(Pe.a,{isOpen:i,placement:"left",size:"xl",onClose:o,finalFocusRef:H,children:[Object(x.jsx)(we.h,{}),Object(x.jsxs)(Pe.b,{bg:Object(v.d)("green.50"),children:[Object(x.jsx)(we.c,{}),Object(x.jsx)(we.g,{children:"Examen"}),Object(x.jsxs)(we.b,{children:[Object(x.jsx)(Ne,{header:M,content:R}),Object(x.jsx)(We,{total:m,next_page_url:S,prev_page_url:z,page:I,setPage:E})]}),Object(x.jsx)(we.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:o,children:"Annuler"})})]})]})]})},xt=function(e){var t=Object(c.useContext)(p),n=t.user,r=(t.cleanUser,Object(ke.a)()),i=r.isOpen,s=r.onOpen,o=r.onClose,l=e.patient,j=Object(J.a)(),d=n.id,b=Object(c.useState)(0),u=Object(O.a)(b,2),m=u[0],h=u[1],f=Object(c.useState)(""),g=Object(O.a)(f,2),S=g[0],C=g[1],y=Object(c.useState)(""),_=Object(O.a)(y,2),z=_[0],k=_[1],P=Object(c.useState)(1),w=Object(O.a)(P,2),I=w[0],E=w[1],A=Object(c.useState)([]),D=Object(O.a)(A,2),M=D[0],V=D[1],L=Object(c.useState)([[""],[""]]),F=Object(O.a)(L,2),R=F[0],q=F[1],N=Object(c.useState)(""),W=Object(O.a)(N,2),B=(W[0],W[1],{medecin_id:d,patient_id:l.id,page:I}),H=a.a.useRef(),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)("hl",(function(){return Z.get("hl",{params:t})}),n)}({params:B,onError:function(e){j({title:":Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:4e3,isClosable:!0})},onSuccess:function(e){h(e.data.total),C(e.data.next_page_url),k(e.data.prev_page_url),e.data.data!==[]&&q(e.data.data),e.data.data!==[]&&V(["Description","Date"])}});U.isLoading,U.refetch;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ce.a,{ref:H,colorScheme:Object(v.d)("green","blue"),onClick:s,children:"Lettre"}),Object(x.jsxs)(Pe.a,{isOpen:i,placement:"left",size:"xl",onClose:o,finalFocusRef:H,children:[Object(x.jsx)(we.h,{}),Object(x.jsxs)(Pe.b,{bg:Object(v.d)("green.50"),children:[Object(x.jsx)(we.c,{}),Object(x.jsx)(we.g,{children:"Lettre"}),Object(x.jsxs)(we.b,{children:[Object(x.jsx)(Ne,{header:M,content:R}),Object(x.jsx)(We,{total:m,next_page_url:S,prev_page_url:z,page:I,setPage:E})]}),Object(x.jsx)(we.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:o,children:"Annuler"})})]})]})]})},pt=function(e){var t=Object(c.useContext)(p),n=t.user,r=(t.cleanUser,Object(ke.a)()),i=r.isOpen,s=r.onOpen,o=r.onClose,l=e.patient,j=Object(J.a)(),d=(n.id,Object(c.useState)(0)),b=Object(O.a)(d,2),u=b[0],m=b[1],h=Object(c.useState)(""),f=Object(O.a)(h,2),g=f[0],S=f[1],C=Object(c.useState)(""),y=Object(O.a)(C,2),_=y[0],z=y[1],k=Object(c.useState)(1),P=Object(O.a)(k,2),w=P[0],I=P[1],E=Object(c.useState)([[""]]),A=Object(O.a)(E,2),D=A[0],M=A[1],V=Object(c.useState)(""),L=Object(O.a)(V,2),F=(L[0],L[1],{patient_id:l.id,page:w}),R=a.a.useRef(),q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)("hor",(function(){return Z.get("hor",{params:t})}),n)}({params:F,onError:function(e){j({title:" Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:4e3,isClosable:!0})},onSuccess:function(e){m(e.data.total),S(e.data.next_page_url),z(e.data.prev_page_url),e.data.data!==[]&&M(e.data.data)}});q.isLoading,q.refetch;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ce.a,{ref:R,onClick:s,colorScheme:Object(v.d)("green","blue"),children:"Ordonnance"}),Object(x.jsxs)(Pe.a,{isOpen:i,placement:"left",size:"xl",onClose:o,finalFocusRef:R,children:[Object(x.jsx)(we.h,{}),Object(x.jsxs)(Pe.b,{bg:Object(v.d)("green.50"),children:[Object(x.jsx)(we.c,{}),Object(x.jsx)(we.g,{children:"Ordonnance"}),Object(x.jsxs)(we.b,{children:[Object(x.jsx)(Ne,{header:["Medicament"],content:D}),Object(x.jsx)(We,{total:u,next_page_url:g,prev_page_url:_,page:w,setPage:I})]}),Object(x.jsx)(we.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:o,children:"Annuler"})})]})]})]})},mt=function(e){var t=e.patient,n=(e.consultation,Object(c.useContext)(p).user),r=Object(c.useState)(0),i=Object(O.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)(""),j=Object(O.a)(l,2),d=j[0],b=j[1],u=Object(c.useState)(""),m=Object(O.a)(u,2),h=m[0],f=m[1],g=Object(c.useState)(1),S=Object(O.a)(g,2),C=S[0],y=S[1],_=Object(c.useState)([""],[""]),z=Object(O.a)(_,2),k=z[0],P=z[1],w=Object(J.a)(),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)("hc",(function(){return Z.get("hc",{params:t})}),n)}({params:{patient_id:t.id,medecin_id:n.id,page:C},onError:function(e){w({title:"Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:4e3,isClosable:!0})},onSuccess:function(e){o(e.data.total),b(e.data.next_page_url),f(e.data.prev_page_url),e.data.data&&e.data.data.map((function(e){null==e.Diagnostic&&(e.Diagnostic="Aucun diagnostic \xe9crit")})),P(!!e.data.data&&e.data.data||[])}}),E=(I.isLoading,I.refetch),A=Object(c.useState)({fn:function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(ut,{data:e})})}}),D=Object(O.a)(A,2),M=D[0];D[1];return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsxs)(He.a,{minChildWidth:"100px",spacing:"10px",children:[Object(x.jsx)(ce.a,{colorScheme:Object(v.d)("green","blue"),onClick:function(){E()},children:"Consultation"}),Object(x.jsx)(jt,{patient:t}),Object(x.jsx)($e,{patient:t}),Object(x.jsx)(at,{patient:t}),Object(x.jsx)(Ot,{patient:t}),Object(x.jsx)(pt,{patient:t}),Object(x.jsx)(xt,{patient:t})]}),Object(x.jsx)(Ne,{header:["date","Diagnostic"],content:k,fntable:M}),Object(x.jsx)(We,{total:s,next_page_url:d,prev_page_url:h,page:C,setPage:y})]})},ht=function(e){var t=Object(z.a)({base:!0,lg:!1}),n=e.patient,a=Object(ke.a)(),r=a.isOpen,i=a.onOpen,s=a.onClose,o=Object(c.useRef)();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ce.a,{ref:o,m:1,onClick:i,children:Object(x.jsx)(y.a,{label:"Tout ce que j'ai fait pour ce patient","aria-label":"Tout ce que j'ai fait pour ce patient",children:t?Object(x.jsx)(F.d,{fontSize:"30px"}):"Historique"})}),Object(x.jsx)(Pe.a,{size:"xl",isOpen:r,placement:"right",onClose:s,finalFocusRef:o,children:Object(x.jsx)(we.h,{children:Object(x.jsxs)(Pe.b,{bg:Object(v.d)("green.50"),children:[Object(x.jsx)(we.c,{}),Object(x.jsx)(we.g,{children:"Historique patient"}),Object(x.jsx)(we.b,{children:Object(x.jsx)(mt,{patient:n})}),Object(x.jsx)(we.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:s,children:"Annuler"})})]})})})]})},ft=n(400),gt=function(e){var t=Object(z.a)({base:!0,lg:!1}),n=e.data;return Object(x.jsxs)(Je.a,{children:[Object(x.jsx)(Je.h,{children:Object(x.jsx)(ce.a,{m:1,colorScheme:"green",children:Object(x.jsx)(y.a,{label:"Plus d'informations sur ".concat(n.nom+" "+n.prenom),"aria-label":"Plus d'informations sur ".concat(n.nom+" "+n.prenom),children:t?Object(x.jsx)(F.f,{fontSize:"30px"}):"Informations"})})}),Object(x.jsx)(ft.a,{children:Object(x.jsxs)(Je.e,{borderColor:"green",children:[Object(x.jsx)(Je.b,{}),Object(x.jsxs)(Je.g,{children:[n.nom+" "+n.prenom," "]}),Object(x.jsx)(Je.d,{}),Object(x.jsxs)(Je.c,{children:[n.photo&&Object(x.jsx)(C.a,{children:Object(x.jsx)(q.a,{size:"xl",name:n.nom+" "+n.prenom,src:"".concat(H).concat(n.photo)})}),n.Adresse&&Object(x.jsxs)(A.a,{children:["Adresse : ",n.Adresse," "]}),n.Code_APCI&&Object(x.jsxs)(A.a,{children:["Code_APCI : ",n.Code_APCI," "]}),""!=n.email&&null!=n.email?Object(x.jsx)(A.a,{as:"a",href:"mailto:"+n.email,children:Object(x.jsx)(ce.a,{my:1,colorScheme:"green",leftIcon:Object(x.jsx)(tt.a,{}),variant:"outline",children:"Email"})}):"",""!=n.telephone&&null!=n.telephone?Object(x.jsx)(A.a,{display:"block",as:"a",href:"tel:"+n.telephone,children:Object(x.jsx)(ce.a,{my:1,leftIcon:Object(x.jsx)(et.a,{}),colorScheme:"green",variant:"outline",children:"Appeller"})}):"",n.cin&&Object(x.jsxs)(A.a,{children:["cin : ",n.cin," "]})]}),Object(x.jsx)(Je.f,{children:"Ce sont des informations personnelles sur votre patient"})]})})]})},vt=function(){var e=Object(c.useContext)(p),t=e.user,n=(e.cleanUser,Object(ke.a)()),r=(n.isOpen,n.onOpen,n.onClose,Object(J.a)()),i=t.id,s=Object(c.useState)(0),o=Object(O.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)(""),b=Object(O.a)(d,2),u=b[0],m=b[1],h=Object(c.useState)(""),f=Object(O.a)(h,2),g=f[0],v=f[1],S=Object(c.useState)(1),y=Object(O.a)(S,2),_=y[0],z=y[1],k=Object(c.useState)([[""],[""]]),P=Object(O.a)(k,2),w=P[0],I=P[1],E=Object(c.useState)(""),A=Object(O.a)(E,2),D=A[0],M=A[1],V={medecin_id:i,patient_id:D,page:_},L=(a.a.useRef(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)(["Liste de mes patients",t],(function(){return Z.get("lrmp",{params:t})}),n)}({params:V,onError:function(e){r({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){j(e.data.total),m(e.data.next_page_url),v(e.data.prev_page_url),I(!!e.data.data&&e.data.data||[])}})),F=L.isLoading,R=L.refetch,q=Object(c.useState)({fn:function(e){return Object(x.jsx)(gt,{data:e})},fn2:function(e){return Object(x.jsx)(ht,{patient:e})}}),N=Object(O.a)(q,2),W=N[0];N[1];return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(X.a,{display:F?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{display:F?"none":"",as:"section",py:{base:0,md:"12"},w:"100%",children:Object(x.jsx)(C.a,{maxW:{base:"xl",md:"7xl"},mx:"auto",px:{base:"1",md:"8"},children:Object(x.jsxs)(C.a,{children:[Object(x.jsx)(Ke,{refetch:R}),Object(x.jsx)(Re,{buttonText:"Chercher",buttonIcon:Object(x.jsx)(Ze.a,{fontSize:"1.25em"}),chercherFn:M,buttonhoverTesxt:"Rechercher \ud83d\udd0e",inputhoverTesxt:"\xe9cris quoi que ce soit pour indiquer sur la personne que tu veux trouver"}),Object(x.jsx)(Ne,{header:["Nom","Prenom"],content:w,fntable:W,message:function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(me.a,{as:"h2",size:"lg",fontWeight:"extrabold",letterSpacing:"tight",children:"vous n'avez aucun patient"})})}}),Object(x.jsx)(We,{total:l,next_page_url:u,prev_page_url:g,page:_,setPage:z})]})})})]})},St=n(415),Ct=n(62),yt=n(51),_t=function(e){var t=e.hoverMassage,n=e.target,c=e.isOpen,a=e.setIsOpen,r=e.cancelRef,i=e.onClose,s=e.fnTodo,o=e.Header,l=e.Body,j=e.icon,d=e.colorScheme,b=e.bg,u=e.btOK,O=e.btNon;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(y.a,{label:!!t&&t,"aria-label":!!t&&t,children:Object(x.jsx)(Xe.a,{size:"sm",m:1,bg:b,colorScheme:d,icon:j,onClick:function(){return a(!0)}})}),Object(x.jsx)(ot.a,{isOpen:c,leastDestructiveRef:r,onClose:i,children:Object(x.jsx)(we.h,{children:Object(x.jsxs)(ot.b,{children:[Object(x.jsx)(we.g,{fontSize:"lg",fontWeight:"bold",children:o}),Object(x.jsx)(we.b,{children:l}),Object(x.jsxs)(we.f,{children:[Object(x.jsx)(ce.a,{ref:r,onClick:i,colorScheme:"green",children:O}),Object(x.jsx)(ce.a,{colorScheme:"green",onClick:function(e){return s(e,n)},ml:3,children:u})]})]})})})]})},zt=function(e){var t=Object(c.useState)(!1),n=Object(O.a)(t,2),a=n[0],r=n[1],i=function(){return r(!1)},s=Object(c.useRef)(),o=Object(c.useState)(!1),l=Object(O.a)(o,2),j=l[0],d=l[1],b=function(){return d(!1)},p=Object(c.useRef)(),m=e.taskvalue,h=(e.task,e.setTask,e.DeleteMutate),f=e.EnteredMutate,g=e.usertype,S=function(e){e.stopPropagation(),f({id:m.id}),i()},y=function(e){e.stopPropagation(),h({id:m.id}),i()};return Object(x.jsx)(yt.b,{draggableId:m.id.toString(),index:m.id,children:function(e,t){return Object(x.jsxs)(Je.a,{children:[Object(x.jsx)(Je.h,{children:Object(x.jsx)(C.a,Object(u.a)(Object(u.a)(Object(u.a)({onClick:function(e){return function(e){e.stopPropagation()}(e)},ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{style:(t.isDragging,n=e.draggableProps.style,Object(u.a)(Object(u.a)({},n),{},{userSelect:"none",padding:3,margin:"0 0 0px 0"})),border:"2px",borderRadius:"20px",bgColor:t.isDragging?"#3b8a5b":"#b3e6c8",borderColor:"green.200",mx:3,px:2,children:Object(x.jsxs)(C.a,{color:"gray.800",fontSize:"17px",children:[Object(x.jsx)(_t,{hoverMassage:"Supprimer ce r\xe9servatitien",Header:"Supprimer la r\xe9servation",Body:"Voulez-vous vraiment supprimer cette r\xe9servation avec ".concat(m.nomprenom),icon:Object(x.jsx)(Qe.a,{}),colorScheme:"teal",bg:"red.300",fnTodo:y,btOK:"Effacer",btNon:"Annuler",isOpen:a,setIsOpen:r,onClose:i,cancelRef:s}),m.nomprenom,"medecin"==g||"secretaire"==g?Object(x.jsx)(_t,{hoverMassage:"Envoyer ce patient au m\xe9decin",Header:"Confirmer",Body:"Voulez-vous confirmer que ".concat(m.nomprenom," d\xe9butera sa consultation ? "),icon:Object(x.jsx)(L.a,{w:4,h:4}),bg:"blue.300",btOK:"oui",btNon:"Non",fnTodo:S,isOpen:j,setIsOpen:d,onClose:b,cancelRef:p}):""]})}))}),Object(x.jsxs)(Je.e,{bg:Object(v.d)("green.50","gray.800"),children:[Object(x.jsx)(Je.g,{fontWeight:"semibold",children:m.nomprenom}),Object(x.jsxs)(Je.c,{children:["Votre rendez-vous est le ",m.start.slice(0,10)+" ","\xe0"," "+m.start.slice(11,19)]})]})]});var n}},m.id)},kt=function(e){var t=e.usertype,n=e.HoursValue,c=e.key,a=e.value,r=e.DeleteMutate,i=e.addtask,s=e.task,o=e.EnteredMutate,l=e.setTask;return Object(x.jsx)(C.a,{h:"160px",fontSize:"20px",border:"1px",borderColor:Object(v.d)("green.200","cyan.800"),children:Object(x.jsxs)(Le.a,{h:"100%",templateRows:"repeat(4, 1fr)",border:"3px",borderColor:"red.200",gap:0,children:[Object(x.jsx)(yt.c,{droppableId:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"00",children:function(e,c){return Object(x.jsx)(Le.b,Object(u.a)(Object(u.a)({},e.droppableProps),{},{ref:e.innerRef,bgColor:Object(v.d)("green.50","cyan.600"),color:Object(v.d)("green.800","gray.300"),maxH:"40px",onClick:function(e){return i(e,a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"00",a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15")},borderBottom:"1px",id:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"00",borderColor:"gray.200",children:Object(x.jsxs)(S.a,{children:[Object(x.jsx)(A.a,{fontSize:"xs",children:n.slice(0,3)+"00"}),s.map((function(e){return e.start===a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"00"?Object(x.jsx)(zt,{usertype:t,EnteredMutate:o,DeleteMutate:r,task:s,setTask:l,taskvalue:e},e.id):""})),e.placeholder]})}))}}),Object(x.jsx)(yt.c,{droppableId:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15",children:function(e,c){return Object(x.jsx)(Le.b,Object(u.a)(Object(u.a)({},e.droppableProps),{},{ref:e.innerRef,bgColor:Object(v.d)("green.100","cyan.700"),maxH:"40px",color:Object(v.d)("green.800","gray.300"),onClick:function(e){return i(e,a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15",a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30")},borderBottom:"1px",id:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15",borderColor:"gray.200",children:Object(x.jsxs)(S.a,{children:[Object(x.jsx)(A.a,{fontSize:"xs",children:n.slice(0,3)+"15"}),s.map((function(e){return e.start===a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15"?Object(x.jsx)(zt,{usertype:t,EnteredMutate:o,DeleteMutate:r,task:s,setTask:l,taskvalue:e},e.id):""})),e.placeholder]})}))}}),Object(x.jsx)(yt.c,{droppableId:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30",children:function(e,c){return Object(x.jsx)(Le.b,Object(u.a)(Object(u.a)({},e.droppableProps),{},{ref:e.innerRef,bgColor:Object(v.d)("green.200","cyan.800"),maxH:"40px",color:Object(v.d)("green.800","gray.300"),onClick:function(e){return i(e,a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30",a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45")},borderBottom:"1px",id:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30",borderColor:"gray.200",children:Object(x.jsxs)(S.a,{children:[Object(x.jsx)(A.a,{fontSize:"xs",children:n.slice(0,3)+"30"}),s.map((function(e){return e.start===a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30"?Object(x.jsx)(zt,{usertype:t,EnteredMutate:o,DeleteMutate:r,task:s,setTask:l,taskvalue:e},e.id):""})),e.placeholder]})}))}}),Object(x.jsx)(yt.c,{droppableId:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45",children:function(e,c){return Object(x.jsx)(Le.b,Object(u.a)(Object(u.a)({},e.droppableProps),{},{ref:e.innerRef,bgColor:Object(v.d)("green.300","cyan.900"),color:Object(v.d)("green.800","gray.300"),maxH:"40px",onClick:function(e){return i(e,a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45",a.toISOString().slice(0,10)+"T"+(parseInt(n.slice(0,2))<9)?"0".concat(parseInt(n.slice(0,2))+1,":00"):parseInt(n.slice(0,2))+1+":00")},borderBottom:"1px",id:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45",borderColor:"gray.200",children:Object(x.jsxs)(S.a,{children:[Object(x.jsx)(A.a,{fontSize:"xs",children:n.slice(0,3)+"45"}),s.map((function(e){return e.start===a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45"?Object(x.jsx)(zt,{usertype:t,EnteredMutate:o,DeleteMutate:r,task:s,setTask:l,taskvalue:e},e.id):""})),e.placeholder]})}))}})]})},c)};var Pt=function(e){for(var t=e.usertype,n=e.EnteredMutate,c=e.rowNumber,a=e.date,r=e.DeleteMutate,i=e.task,s=e.updateTask,o=e.setTask,l=e.addtask,j=["07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00"],d=function(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n},b=[],u=0;u<c;u++)0===u?b.push(a):b.push(d(b[b.length-1],1));var p,m=[],h=Object(Ct.a)(b.entries());try{var f=function(){var e=Object(O.a)(p.value,2),c=e[0],a=e[1];m.push(Object(x.jsxs)(C.a,{children:[Object(x.jsx)(Q.a,{w:"100%",border:"1px",borderColor:Object(v.d)("green.200","cyan.900"),bgColor:Object(v.d)("green.300","cyan.900"),color:Object(v.d)("green.800","gray.50"),h:10,align:"center",children:a.toISOString().slice(0,10)},"key".concat(c)),j.map((function(e){return Object(x.jsx)(kt,{EnteredMutate:n,usertype:t,DeleteMutate:r,HoursValue:e,value:a,addtask:l,task:i,setTask:o},e.slice(0,4))}))]}))};for(h.s();!(p=h.n()).done;)f()}catch(g){h.e(g)}finally{h.f()}return Object(x.jsx)(C.a,{children:Object(x.jsxs)(Le.a,{templateColumns:"repeat(10, 1fr)",gap:0,children:[Object(x.jsx)(Le.b,{colSpan:1,children:Object(x.jsxs)(C.a,{w:"100%",border:"1px",bgColor:Object(v.d)("green.300","cyan.900"),borderColor:Object(v.d)("green.200","cyan.900"),children:[Object(x.jsx)(Q.a,{h:10,align:"center"}),j.map((function(e){return Object(x.jsx)(Q.a,{border:"1px",borderColor:Object(v.d)("green.200","cyan.900"),bgColor:Object(v.d)("green.300","cyan.900"),color:Object(v.d)("green.800","gray.50"),h:"160px",px:2,fontSize:"20px",children:e},e)}))]})}),Object(x.jsx)(Le.b,{colSpan:9,w:"100%",children:Object(x.jsx)(Le.a,{w:"100%",templateColumns:"repeat("+parseInt(c)+", 1fr)",gap:0,children:Object(x.jsx)(yt.a,{onDragEnd:function(e){return s(e)},children:m})})})]})})},wt=n(414),It=n(416),Et=function(e){return Object(Ce.a)((function(e){var t=e.id,n=e.date_reservation;return Z.post("updater",{id:t,date_reservation:n})}),e)},Tt=function(e){return Object(Ce.a)((function(e){var t=e.id;return Z.post("deleter",{id:t})}),e)},At=function(e){var t=Object(c.useState)(!1),n=Object(O.a)(t,2),r=n[0],i=n[1],s=Object(se.b)(e),o=s.errorMessage,l=s.id,j=s.isValid,d=s.isSubmitted,b=s.setValue,u=s.value,p=e.label,m=e.required,h=e.note,f=a.a.useState(!1),g=Object(O.a)(f,2),v=g[0],S=g[1],C=!j&&(v||d);return Object(x.jsxs)(G.a,{mt:5,children:[Object(x.jsxs)(oe.a,{htmlFor:l,children:[p,!!m&&" *"]}),Object(x.jsxs)(Oe.a,{children:[Object(x.jsx)(je.a,{id:l,type:r?"text":"password",value:null!==u&&void 0!==u?u:"",onChange:function(e){return b(e.target.value)},onBlur:function(){return S(!0)},"aria-invalid":C,"aria-required":!!m,"aria-describedby":C?"".concat(l,"-error"):null}),Object(x.jsx)(xe.b,{children:Object(x.jsx)(ce.a,{size:"sm",onClick:function(){return i(!r)},children:r?Object(x.jsx)(be.a,{}):Object(x.jsx)(ue.a,{})})})]}),C&&Object(x.jsxs)(A.a,{id:"".concat(l,"-error"),color:"tomato",children:["\ud83d\udd75 ",o]}),h&&Object(x.jsx)(G.b,{id:"".concat(l,"-note"),children:h})]})},Dt=function(e){return Object(Ce.a)((function(e){var t=e.cin,n=e.email,c=e.id_cms_privileges,a=e.nom,r=e.password,i=e.prenom,s=e.telephone,o=e.sexes,l=e.date_naissance;return Z.post("singup",{cin:t,email:n,id_cms_privileges:c,nom:a,password:r,prenom:i,telephone:s,sexes:o,date_naissance:l})}),e)},Mt=function(e){var t=e.medecin_id,n=e.addPatient,r=Object(c.useState)("patient"),i=Object(O.a)(r,2),s=i[0],o=(i[1],Object(se.c)()),l=o.values,j=Object(c.useState)("homme"),d=Object(O.a)(j,2),b=d[0],u=d[1],p=Object(J.a)(),m=Dt({onError:function(e){p({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){1==(e=e.data).api_status&&(e.exists?p({title:e.elementExists+" existe d\xe9ja",description:"choisir un autre "+e.elementExists+" \ud83d\udcad",status:"success",duration:"4000",isClosable:!0}):(p({title:" \u2728 ",description:"\ud83c\udf89 Compte a \xe9t\xe9 enregistr\xe9",status:"success",duration:"4000",isClosable:!0}),n({medecin_id:t,patient_id:e.id})))}}),h=m.mutate,f=m.isLoading;return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(X.a,{display:f?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(E.b,{maxW:400,display:f?"none":"",margin:"auto",spacing:5,children:Object(x.jsx)(se.a,{connect:o,onValidSubmit:function(e){e.sexes=b,e.id_cms_privileges=s,delete e.R_password,h(e)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:o.submit,children:[Object(x.jsx)(ze,{name:"nom",label:"Nom",required:"Il est requis de compl\xe9ter ce champ",validations:[{rule:Object(Y.e)("^[a-zA-Z ]*$"),message:"Le nom ne contient que des lettres"}]}),Object(x.jsx)(ze,{name:"prenom",label:"Pr\xe9nom",required:"Il est requis de compl\xe9ter ce champ",validations:[{rule:Object(Y.e)("^[a-zA-Z ]*$"),message:"Le prenom ne contient que des lettres"}]}),Object(x.jsx)(G.a,{children:Object(x.jsx)(Q.a,{children:Object(x.jsx)(ee.a,{onChange:u,value:b,name:"sexes",children:Object(x.jsxs)(E.b,{direction:"row",size:"lg",children:[Object(x.jsx)(te.a,{value:"homme",py:3,mx:5,children:"Homme \ud83d\udc68\u200d\ud83e\uddb0"}),Object(x.jsx)(te.a,{value:"femme",py:3,mx:5,children:"Femme \ud83d\udc69\u200d\ud83e\uddb0"})]})})})}),Object(x.jsx)(le,{name:"date_naissance",label:"Date de naissance"}),Object(x.jsx)(ze,{name:"email",label:"E-mail",validations:[{rule:Object(Y.a)(),message:"Veuillez v\xe9rifier le format de l'E-mail"},{rule:function(e){return!!e||!!l.cin||!!l.telephone},message:'Le champ E-mail doit contenir "@" et "." ',deps:[l.cin,l.telephone]}]}),Object(x.jsx)(ze,{name:"cin",label:"C.I.N",validations:[{rule:Object(Y.b)(8),message:"La carte d'identit\xe9 doit \xeatre constitu\xe9e  de 8 chiffres"},{rule:Object(Y.d)(),message:"La carte d'identit\xe9 ne contient que des chiffres"},{rule:Object(Y.b)(8),message:"La carte d'identit\xe9 doit \xeatre constitu\xe9e  de 8 chiffres"},{rule:function(e){return!!e||!!l.email||!!l.telephone},message:"La carte d'identit\xe9 doit \xeatre constitu\xe9e  de 8 chiffres",deps:[l.email,l.telephone]}]}),Object(x.jsx)(ze,{name:"telephone",label:"T\xe9l\xe9phone",validations:[{rule:Object(Y.b)(8),message:"La num\xe9ro de t\xe9l\xe9phone doit \xeatre constitu\xe9e  de 8 chiffres"},{rule:Object(Y.d)(),message:"La num\xe9ro de t\xe9l\xe9phone  ne contient que des chiffres"},{rule:function(e){return!!e||!!l.cin||!!l.email},message:"La num\xe9ro de t\xe9l\xe9phone doit \xeatre constitu\xe9e  de 8 chiffres",deps:[l.cin,l.email]}]}),Object(x.jsx)(At,{name:"password",label:"Mot de passe",required:"Il est requis de compl\xe9ter ce champ ",type:"password",validations:[{rule:Object(Y.c)(6),message:"Le mot de passe doit contenir au moins 6 caract\xe8res"}]}),Object(x.jsx)(At,{name:"R_password",label:"R\xe9p\xe9ter le mot de passe",required:"Il est requis de compl\xe9ter le champ correspondant au r\xe9p\xe9ter mot de passe",type:"password",validations:[{rule:function(e){return e==l.password},message:"Le mot de passe r\xe9p\xe9t\xe9 doit \xeatre le m\xeame.",deps:[l.cin,l.telephone]}]}),Object(x.jsx)(G.a,{mt:5,align:"center",children:Object(x.jsxs)(ce.a,{type:"submit",borderColor:"green.500",disabled:!o.isValid,children:["Cr\xe9er mon compte",o.isValid?"\ud83d\udc4c":""]})})]})})})]})},Vt=function(e){var t,n=Object(c.useState)(""),a=Object(O.a)(n,2),r=(a[0],a[1]),i=e.medecin_id,s=e.refetchTask,o=e.currentDateStart,l=e.listPatientDashboardAPIRefetch,j=e.cancelRef,d=e.isOpen,b=e.onClose,u=e.end,p=e.listPatient,m=(t={onError:function(e){},onSuccess:function(e){s(),b()}},Object(Ce.a)((function(e){var t=e.medecin_id,n=e.patient_id,c=e.etat,a=e.date_reservation;return Z.post("cr",{medecin_id:t,patient_id:n,etat:c,date_reservation:a})}),t)),h=m.mutate,f=m.isLoading,g=Object(c.useState)(""),v=Object(O.a)(g,2),S=v[0],y=v[1],_=Ue({onError:function(e){y("V\xe9rifier les informations de votre patient.")},onSuccess:function(e){y(""),D("old"),l()}}),z=_.mutate,k=_.isLoading,P=Object(se.c)(),w=Object(c.useState)("old"),I=Object(O.a)(w,2),T=I[0],D=I[1],M=function(e,t,n){e=e.replace("T"," ")+":00",h({medecin_id:i,patient_id:n,etat:"en attente",date_reservation:e})};return Object(x.jsx)(C.a,{children:Object(x.jsxs)(ot.a,{motionPreset:"slideInBottom",leastDestructiveRef:j,onClose:b,isOpen:d,isCentered:!0,children:[Object(x.jsx)(we.h,{}),Object(x.jsxs)(ot.b,{minW:{md:"700px"},children:[Object(x.jsx)(we.g,{children:"Confirmer la r\xe9servation"}),Object(x.jsx)(we.c,{}),Object(x.jsx)(X.a,{display:f||k?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsxs)(we.b,{display:f||k?"none":"",children:[Object(x.jsx)(Q.a,{children:Object(x.jsx)(ee.a,{onChange:D,value:T,children:Object(x.jsxs)(E.b,{direction:"row",children:[Object(x.jsx)(te.a,{value:"old",children:"Patient associ\xe9 "}),Object(x.jsx)(te.a,{value:"new",children:"Patient non-associ\xe9"}),Object(x.jsx)(te.a,{value:"create",children:"Inscrire un patient"})]})})}),Object(x.jsx)(se.a,{connect:P,onValidSubmit:function(e){"new"==T?z({medecin_id:i,patient_id:e.user}):(r(e.selectvalue.label),M(o,u,e.selectvalue.value))},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:P.submit,children:[Object(x.jsxs)(A.a,{pb:2,px:5,children:["create"!=T?"R\xe9servation d'un rendez-vous le ".concat(o.slice(0,10)+" "," \xe0 ").concat(o.slice(11,19)," pour : "):"","new"==T?Object(x.jsxs)(C.a,{children:[Object(x.jsx)(de,{name:"user",label:"Email ou CIN ou Telephone",required:"email ou CIN or Telephone"}),Object(x.jsx)(A.a,{color:"tomato",children:S})]}):"old"==T?Object(x.jsx)(ve,{required:"S\xe9lect un patient.",data:p,name:"selectvalue"}):""]}),"create"!=T?Object(x.jsxs)(we.f,{children:[Object(x.jsx)(ce.a,{display:f?"none":"",ref:j,onClick:b,children:"Non"}),Object(x.jsx)(ce.a,{display:f?"none":"",disabled:!P.isValid,type:"submit",ml:3,children:"Oui"})]}):""]})}),"create"==T?Object(x.jsx)(C.a,{maxH:"60vh",w:"100%",overflowY:"scroll",children:Object(x.jsx)(Mt,{addPatient:z,medecin_id:i})}):""]})]})]})})},Lt=n(413),Ft=function(e){var t=e.target,n=e.fnTodo,a=e.Header,r=e.Body,i=e.icon,s=e.colorScheme,o=e.bg,l=e.btOK,j=e.btNon,d=(e.submitcolor,Object(c.useState)(!1)),b=Object(O.a)(d,2),u=b[0],p=b[1],m=function(){return p(!1)},h=Object(c.useRef)();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Xe.a,{size:"md",m:1,bg:o,colorScheme:s,fontSize:"10px",icon:i,onClick:function(){return p(!0)}}),Object(x.jsx)(ot.a,{isOpen:u,leastDestructiveRef:h,onClose:m,children:Object(x.jsx)(we.h,{children:Object(x.jsxs)(ot.b,{children:[Object(x.jsx)(we.g,{fontSize:"lg",fontWeight:"bold",children:a}),Object(x.jsx)(we.b,{children:r}),Object(x.jsxs)(we.f,{children:[Object(x.jsx)(ce.a,{ref:h,onClick:m,children:j}),Object(x.jsx)(ce.a,{colorScheme:s,onClick:function(){n(t),m()},ml:3,children:l})]})]})})})]})},Rt=function(e){var t=e.data,n=e.type;return null==t?null:Object(x.jsxs)(C.a,{children:[Object(x.jsxs)(A.a,{fontSize:"xl",borderBottom:"1px",borderColor:Object(v.d)("green.300","gray.500"),px:2,display:"inline",color:Object(v.d)("green.700","gray.50"),children:[n,":"]}),Object(x.jsx)(A.a,{fontSize:"xl",px:2,display:"inline",color:"gray.500",children:t})]})},qt=function(e){var t=Object(c.useState)({}),n=Object(O.a)(t,2),r=n[0],i=n[1],s=e.patient,o=Object(J.a)(),l={cms_users_id:s.id},j=Ye({params:l,onError:function(e){o({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){i(e.data)}}),d=j.isLoading,b=(j.refetch,Object(ke.a)()),u=b.isOpen,p=b.onOpen,m=b.onClose;return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(ce.a,{colorScheme:Object(v.d)("green","blue"),onClick:p,children:Object(x.jsx)(y.a,{label:"Obtenez les informations g\xe9n\xe9rales sur ".concat(r.nom," ").concat(r.prenom),"aria-label":"Obtenez les informations g\xe9n\xe9rales sur ".concat(r.nom," ").concat(r.prenom),children:"Informations"})}),Object(x.jsxs)(Pe.a,{placement:"left",size:"md",onClose:m,isOpen:u,children:[Object(x.jsx)(we.h,{}),Object(x.jsxs)(Pe.b,{bg:Object(v.d)("green.50","gray.700"),children:[Object(x.jsxs)(we.g,{borderBottomWidth:"1px",children:["Information de patient",Object(x.jsx)(Xe.a,{float:"right",variant:"outline",size:"xs",m:1,colorScheme:"red",fontSize:"10px",icon:Object(x.jsx)(Qe.a,{}),onClick:function(){return m()}})]}),Object(x.jsxs)(we.b,{display:d?"":"none",children:[Object(x.jsx)(Ge.a,{size:"12"}),Object(x.jsx)(Ge.b,{mt:"7",noOfLines:7,spacing:"7"})]}),Object(x.jsxs)(we.b,{display:d?"none":"",children:[Object(x.jsx)(q.a,{my:3,size:"xl",src:r.photo?"".concat(H).concat(r.photo):"".concat(H).concat("/vendor/crudbooster/avatar.jpg"),name:s.nomprenom}),Object(x.jsx)(Rt,{data:r.nom,type:"Nom"}),Object(x.jsx)(Rt,{data:r.prenom,type:"Prenom"}),Object(x.jsx)(Rt,{data:r.cin,type:"C.I.N"}),Object(x.jsx)(Rt,{data:r.Date_Naissance,type:"Date naissance"}),Object(x.jsx)(Rt,{data:r.email,type:"E-mail"}),r.email?Object(x.jsx)(A.a,{as:"a",href:"mailto:"+r.email,children:Object(x.jsx)(ce.a,{my:1,colorScheme:"green",leftIcon:Object(x.jsx)(tt.a,{}),variant:"outline",children:"Email"})}):"",Object(x.jsx)(Rt,{data:r.sexes,type:"Sexe"}),Object(x.jsx)(Rt,{data:r.telephone,type:"Telephone"}),r.telephone?Object(x.jsx)(A.a,{display:"block",as:"a",href:"tel:"+r.telephone,children:Object(x.jsx)(ce.a,{my:1,leftIcon:Object(x.jsx)(et.a,{}),colorScheme:"green",variant:"outline",children:"Appeller"})}):""]}),Object(x.jsx)(we.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:m,children:"Annuler"})})]})]})]})},Nt=function(e){var t,n=e.refetchDashboard,a=Object(c.useContext)(p).user,r=Object(ke.a)(),i=r.isOpen,s=r.onOpen,o=r.onClose,l=Object(c.useRef)(),j=Object(J.a)(),d=Object(c.useState)(0),b=Object(O.a)(d,2),u=b[0],m=b[1],h=Object(c.useState)(""),f=Object(O.a)(h,2),g=f[0],v=f[1],S=Object(c.useState)(""),y=Object(O.a)(S,2),_=y[0],k=y[1],P=Object(c.useState)(1),w=Object(O.a)(P,2),I=w[0],E=w[1],A=Object(c.useState)([]),D=Object(O.a)(A,2),M=D[0],V=D[1],L=Object(c.useState)(["nom prenom","Date"]),F=Object(O.a)(L,2),R=F[0],q=(F[1],t={onError:function(e){},onSuccess:function(e){n(),Q()}},Object(Ce.a)((function(e){var t=e.id,n=(e.etat,e.state);return Z.post("sptwr",{id:t,etat:"en attente",state:n})}),t)),N=q.mutate,W=(q.isLoading,{medecin_id:a.id}),B=Tt({onError:function(e){},onSuccess:function(e){Q(),n()}}),H=B.mutate,U=(B.isLoading,Object(z.a)({base:!0,lg:!1})),K=Object(c.useState)({fn2:function(e){return Object(x.jsx)(Ft,{Header:"Supprimer la proposition r\xe9servation",Body:"Voulez-vous vraiment supprimer cette proposition de r\xe9servation avec ".concat(e.nomprenom),icon:Object(x.jsx)(Qe.a,{}),colorScheme:"teal",bg:"red.300",target:{id:e.idR},fnTodo:H,btOK:"Effacer",btNon:"Annuler"})},fn:function(e){return Object(x.jsx)(Ft,{Header:"Valider la r\xe9servation",Body:"Voulez-vous vraiment valider cette proposition de r\xe9servation avec ".concat(e.nomprenom),icon:Object(x.jsx)(Lt.a,{}),colorScheme:"teal",bg:"green.300",target:{id:e.idR,etat:"en attente",state:"valide"},fnTodo:N,btOK:"Valide",submitcolor:"gray.50",btNon:"Annuler"})},fn3:function(e){return Object(x.jsx)(qt,{patient:e})}}),$=Object(O.a)(K,2),Y=$[0],X=($[1],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)(["valider un rendez vous ",t],(function(){return Z.get("vr",{params:t})}),n)}({params:W,onError:function(e){j({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){m(e.data.total),v(e.data.next_page_url),k(e.data.prev_page_url),V(!!e.data.data&&e.data.data||[]),n()}})),G=X.isLoading,Q=X.refetch;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(ce.a,{position:"absolute",bottom:"7%",right:"4%",ref:l,colorScheme:"teal",onClick:s,children:[U?"":"Valider un rendez vous ",M==[]?"\ud83d\udceb":"\ud83d\udcea"]}),Object(x.jsx)(Pe.a,{size:"lg",isOpen:i,placement:"right",onClose:o,finalFocusRef:l,children:Object(x.jsx)(we.h,{children:Object(x.jsxs)(Pe.b,{children:[Object(x.jsx)(we.c,{}),Object(x.jsx)(we.g,{children:"\ud83d\udceb Valider un rendez vous "}),Object(x.jsx)(we.b,{children:Object(x.jsxs)(C.a,{display:G?"none":"",children:[Object(x.jsx)(Ne,{header:R,content:M,fntable:Y,message:function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(me.a,{as:"h2",size:"lg",fontWeight:"extrabold",letterSpacing:"tight",children:"Vous n'avez aucune r\xe9servation de la part d'aucun patient"})})}}),Object(x.jsx)(We,{total:u,next_page_url:g,prev_page_url:_,page:I,setPage:E})]})}),Object(x.jsx)(we.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:o,children:"Annuler"})})]})})})]})},Wt=function(){var e,t=Object(J.a)(),n=Object(g.g)(),r=Object(c.useContext)(p).user,i=Object(c.useState)([{start:"2021-03-22T00:00"}]),s=Object(O.a)(i,2),o=s[0],l=s[1],j=r.idMedecin||r.id,d=Object(c.useState)({medecin_id:j}),b=Object(O.a)(d,2),u=b[0],m=(b[1],e={onError:function(e){},onSuccess:function(e){A(),"medecin"==r.fonctionnalite&&n.push("/dashboard/consultation")}},Object(Ce.a)((function(e){var t=e.id;return e.etat,Z.post("pe",{id:t,etat:"patient avec le m\xe9decin"})}),e)),h=m.mutate,f=m.isLoading,v=Tt({onError:function(e){},onSuccess:function(e){A()}}),_=v.mutate,k=v.isLoading,P=Et({onError:function(e){},onSuccess:function(e){A()}}),w=P.mutate,I=P.isLoading,E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)(["list de rendeves des parents en dashboard"],(function(){return Z.get("listrm",{params:t})}),n)}({params:u,onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){for(var t in e.data)e.data[t].start=e.data[t].start.replace(" ","T").slice(0,-3);l(e.data)}}),A=(E.isLoading,E.refetch),D=Object(c.useState)(""),M=Object(O.a)(D,2),V=M[0],L=M[1],F=a.a.useRef(),R=Object(c.useState)(""),q=Object(O.a)(R,2),N=q[0],W=q[1],B=Object(ke.a)(),H=B.isOpen,U=B.onOpen,K=B.onClose,$=Object(c.useState)([]),Y=Object(O.a)($,2),G=Y[0],Q=Y[1],ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)(["listpatientdashboard",t],(function(){return Z.get("listpatientdashboard",{params:t})}),n)}({params:u,onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){Q(e.data)}}),te=(ee.isLoading,ee.refetch),ne=Object(c.useState)(1),ae=Object(O.a)(ne,2),re=ae[0],ie=ae[1],oe=Object(z.a)({base:!0,lg:!1}),je=function(e,t){var n=new Date(e);n.setDate(n.getDate()+t),Oe(n)},de=Object(c.useState)(new Date),be=Object(O.a)(de,2),ue=be[0],Oe=be[1],xe=Object(se.c)();xe.values;return Object(x.jsx)(C.a,{children:Object(x.jsxs)(se.a,{connect:xe,onValidSubmit:function(e){},children:[Object(x.jsx)(X.a,{display:I||k||f?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{display:I||k||f?"none":"",children:Object(x.jsxs)(S.a,{py:2,children:[Object(x.jsx)(ce.a,{colorScheme:"green",ml:2,onClick:function(){return je(ue,-1*re)},children:Object(x.jsx)(y.a,{label:"Moin un jour","aria-label":"Moin un jour",children:Object(x.jsx)(wt.a,{})})}),Object(x.jsx)(St.a,{}),oe?"":Object(x.jsx)(y.a,{label:"Affich\xe9 en mode 1 jours","aria-label":"Affich\xe9 en mode 1 jours",children:Object(x.jsx)(ce.a,{mx:2,onClick:function(){return ie(1)},children:"Par 1 jour"})}),Object(x.jsx)(C.a,{w:"120px",position:"relative",top:"-7px",mx:2,children:Object(x.jsx)(le,{SyncWithVariable:Oe,name:"date"})}),Object(x.jsx)(y.a,{label:"Aller \xe0 aujourd'hui","aria-label":"Aller \xe0 aujourd'hui",children:Object(x.jsx)(ce.a,{mx:2,onClick:function(){Oe(new Date)},children:"Aujourd'hui"})}),Object(x.jsx)(Nt,{refetchDashboard:A}),oe?"":Object(x.jsx)(y.a,{label:"Affich\xe9 en mode 2 jours","aria-label":"Affich\xe9 en mode 2 jours",children:Object(x.jsx)(ce.a,{mx:2,onClick:function(){return ie(2)},children:"Par 2 jour"})}),Object(x.jsx)(St.a,{}),Object(x.jsx)(ce.a,{colorScheme:"green",mr:2,onClick:function(){return je(ue,re)},children:Object(x.jsx)(y.a,{label:"Plus un jour","aria-label":"Plus un jour",children:Object(x.jsx)(It.a,{})})})]})}),Object(x.jsx)(Pt,{EnteredMutate:h,usertype:r.fonctionnalite,DeleteMutate:_,task:o,setTask:l,date:ue,rowNumber:re,updateTask:function(e){w({id:e.draggableId,date_reservation:e.destination.droppableId.replace("T"," ")+":00"})},addtask:function(e,t,n){e.stopPropagation(),W(n),L(t),U()}}),Object(x.jsx)(Vt,{listPatientDashboardAPIRefetch:te,listPatient:G,currentDateStart:V,cancelRef:F,onClose:K,isOpen:H,refetchTask:A,medecin_id:j,setTask:l,end:N})]})})},Bt=function(){var e=Object(J.a)(),t=Object(c.useContext)(p).user,n=Object(c.useState)([]),a=Object(O.a)(n,2),r=a[0],i=a[1],s={patient_id:t.id},o=Tt({onError:function(e){},onSuccess:function(e){b()}}),l=o.mutate,j=o.isLoading,d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)(["list de r\xe9servation on dashboard",t],(function(){return Z.get("lrd",{params:t})}),n)}({params:s,onError:function(t){e({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){for(var t in e.data)e.data[t].start=e.data[t].start.replace(" ","T").slice(0,-3);i(e.data)}}),b=(d.isLoading,d.refetch),u=Object(c.useState)(""),m=Object(O.a)(u,2),h=(m[0],m[1],Object(c.useState)(1)),f=Object(O.a)(h,2),g=f[0],v=f[1],_=Object(c.useState)(new Date),k=Object(O.a)(_,2),P=k[0],w=k[1],I=Object(z.a)({base:!0,lg:!1}),E=function(e,t){var n=new Date(e);n.setDate(n.getDate()+t),w(n)},A=Object(se.c)();A.values;return Object(x.jsx)(C.a,{children:Object(x.jsxs)(se.a,{connect:A,onValidSubmit:function(e){},children:[Object(x.jsx)(X.a,{display:j?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{display:j?"none":"",children:Object(x.jsxs)(S.a,{py:2,children:[Object(x.jsx)(ce.a,{ml:2,colorScheme:"green",onClick:function(){return E(P,-1*g)},children:Object(x.jsx)(y.a,{label:"Moin un jour","aria-label":"Moin un jour",children:Object(x.jsx)(wt.a,{})})}),Object(x.jsx)(St.a,{}),I?"":Object(x.jsx)(ce.a,{mx:2,onClick:function(){return v(1)},children:"Par jour"}),Object(x.jsx)(C.a,{w:"120px",position:"relative",top:"-7px",mx:2,children:Object(x.jsx)(le,{SyncWithVariable:w,name:"date"})}),Object(x.jsx)(ce.a,{mx:2,onClick:function(){return w(new Date)},children:"Aujourd'hui"}),I?"":Object(x.jsx)(ce.a,{mx:2,onClick:function(){return v(2)},children:"Par 2 jour"}),Object(x.jsx)(St.a,{}),Object(x.jsx)(ce.a,{colorScheme:"green",mr:2,onClick:function(){return E(P,g)},children:Object(x.jsx)(y.a,{label:"Plus un jour","aria-label":"Plus un jour",children:Object(x.jsx)(It.a,{})})})]})}),Object(x.jsx)(Pt,{usertype:t.fonctionnalite,DeleteMutate:l,task:r,setTask:i,date:P,rowNumber:g,updateTask:function(t){e({title:"Vous ne pouvez pas changer votre r\xe9servation",description:" Vous devez appelez votre m\xe9decin pour le faire",status:"success",duration:"4000",isClosable:!0})},addtask:function(e,t,n){}})]})})},Ht=function(){var e=Object(c.useState)("cabine"),t=Object(O.a)(e,2),n=t[0],a=t[1],r=Object(c.useContext)(p).user;return"secretaire"==r.fonctionnalite?Object(x.jsxs)(C.a,{children:[Object(x.jsx)(Q.a,{children:Object(x.jsx)(ee.a,{onChange:a,value:n,children:Object(x.jsxs)(E.b,{direction:"row",spacing:50,children:[Object(x.jsx)(te.a,{value:"cabine",children:"cabine "}),Object(x.jsx)(te.a,{value:"moi",children:"moi"})]})})}),"cabine"==n?Object(x.jsx)(Wt,{}):Object(x.jsx)(Bt,{})]}):Object(x.jsx)(C.a,{children:"medecin"==r.fonctionnalite?Object(x.jsx)(Wt,{}):Object(x.jsx)(Bt,{})})},Ut=function(e){var t,n=Object(c.useState)(""),a=Object(O.a)(n,2),r=(a[0],a[1],e.medecin_id,e.refetchTask),i=e.currentDateStart,s=e.cancelRef,o=e.isOpen,l=e.onClose,j=e.data,d=e.end,b=Object(c.useContext)(p).user,u=(t={onError:function(e){},onSuccess:function(e){r(),l()}},Object(Ce.a)((function(e){var t=e.medecin_id,n=e.patient_id,c=e.etat,a=e.date_reservation;return Z.post("pcr",{medecin_id:t,patient_id:n,etat:c,date_reservation:a})}),t)),m=u.mutate,h=u.isLoading,f=Object(c.useState)(""),g=Object(O.a)(f,2),v=(g[0],g[1],Object(se.c)()),S=Object(c.useState)("old"),y=Object(O.a)(S,2),_=(y[0],y[1],function(e,t,n){e=e.replace("T"," ")+":00",m({medecin_id:j.id,patient_id:n,etat:"en ligne",date_reservation:e})});return Object(x.jsx)(C.a,{children:Object(x.jsxs)(ot.a,{motionPreset:"slideInBottom",leastDestructiveRef:s,onClose:l,isOpen:o,isCentered:!0,children:[Object(x.jsx)(we.h,{}),Object(x.jsx)(ot.b,{children:Object(x.jsx)(se.a,{connect:v,onValidSubmit:function(e){_(i,d,b.id)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:v.submit,children:[Object(x.jsx)(we.g,{children:"Confirmer la r\xe9servation"}),Object(x.jsx)(we.c,{}),Object(x.jsx)(X.a,{display:h?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(we.b,{display:h?"none":"",children:Object(x.jsxs)(A.a,{pb:2,px:5,children:["R\xe9servation d'un rendez-vous le"," ",i.slice(0,10)+" ","\xe0"," "+i.slice(11,19),"?"]})}),Object(x.jsxs)(we.f,{children:[Object(x.jsx)(ce.a,{display:h?"none":"",ref:s,onClick:l,children:"Non"}),Object(x.jsx)(ce.a,{display:h?"none":"",disabled:!v.isValid,type:"submit",ml:3,children:"Oui"})]})]})})})]})})},Kt=function(e){var t=Object(c.useState)(!1),n=Object(O.a)(t,2),a=n[0],r=n[1],i=function(){return r(!1)},s=Object(c.useRef)(),o=Object(c.useState)(!1),l=Object(O.a)(o,2),j=l[0],d=l[1],b=function(){return d(!1)},m=Object(c.useRef)(),h=Object(c.useContext)(p).user,f=e.taskvalue,g=(e.task,e.setTask,e.DeleteMutate),S=e.EnteredMutate,y=e.usertype,_=function(e){e.stopPropagation(),S({id:f.id}),i()},z=function(e){e.stopPropagation(),g({id:f.id}),i()};return h.nom+" "+h.prenom==f.nomprenom?"en attente"==f.etat?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(C.a,{border:"2px",borderRadius:"20px",bgColor:"green.200",borderColor:"green.200",mx:3,px:2,children:Object(x.jsx)(C.a,{color:"gray.800",fontSize:"17px",children:f.nomprenom})})}):Object(x.jsx)(yt.b,{draggableId:f.id.toString(),index:f.id,children:function(e,t){return Object(x.jsxs)(Je.a,{children:[Object(x.jsx)(Je.h,{children:Object(x.jsx)(C.a,Object(u.a)(Object(u.a)(Object(u.a)({onClick:function(e){return function(e){e.stopPropagation()}(e)},ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{style:(t.isDragging,n=e.draggableProps.style,Object(u.a)(Object(u.a)({},n),{},{userSelect:"none",padding:3,margin:"0 0 0px 0"})),border:"2px",borderRadius:"20px",bgColor:t.isDragging?"#3b8a5b":"#b3e6c8",borderColor:"green.200",mx:3,px:2,children:Object(x.jsxs)(C.a,{color:"gray.800",fontSize:"17px",children:[Object(x.jsx)(_t,{Header:"Supprimer la r\xe9servation",Body:"Voulez-vous vraiment supprimer cette r\xe9servation avec ".concat(f.nomprenom),icon:Object(x.jsx)(Qe.a,{}),colorScheme:"teal",bg:"red.300",fnTodo:z,btOK:"Effacer",btNon:"Annuler",isOpen:a,setIsOpen:r,onClose:i,cancelRef:s}),f.nomprenom,"medecin"==y?Object(x.jsx)(_t,{Header:"Confirmer",Body:"Voulez-vous confirmer que ".concat(f.nomprenom," d\xe9butera sa consultation ? "),icon:Object(x.jsx)(L.a,{}),bg:"blue.300",btOK:"oui",btNon:"Non",fnTodo:_,isOpen:j,setIsOpen:d,onClose:b,cancelRef:m}):null]})}))}),Object(x.jsxs)(Je.e,{bg:Object(v.d)("green.50","gray.800"),children:[Object(x.jsx)(Je.g,{fontWeight:"semibold",children:f.nomprenom}),Object(x.jsxs)(Je.c,{children:["Votre rendez-vous est le ",f.start.slice(0,10)+" ","\xe0"," "+f.start.slice(11,19)]})]})]});var n}},f.id):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(C.a,{border:"2px",borderRadius:"20px",bgColor:"green.200",borderColor:"green.200",mx:3,px:2,children:Object(x.jsx)(C.a,{color:"gray.800",fontSize:"17px",children:"Patiente"})})})},Zt=function(e){var t=e.usertype,n=e.HoursValue,c=e.key,a=e.value,r=e.DeleteMutate,i=e.addtask,s=e.task,o=e.EnteredMutate,l=e.setTask;return Object(x.jsx)(C.a,{h:"160px",fontSize:"20px",border:"1px",borderColor:Object(v.d)("green.200","gray.800"),children:Object(x.jsxs)(Le.a,{h:"100%",templateRows:"repeat(4, 1fr)",border:"3px",borderColor:"red.200",gap:0,children:[Object(x.jsx)(yt.c,{droppableId:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"00",children:function(e,c){return Object(x.jsx)(Le.b,Object(u.a)(Object(u.a)({},e.droppableProps),{},{ref:e.innerRef,bgColor:Object(v.d)("green.50","gray.600"),color:Object(v.d)("green.800","gray.300"),maxH:"40px",onClick:function(e){return i(e,a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"00",a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15")},borderBottom:"1px",id:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"00",borderColor:"gray.200",children:Object(x.jsxs)(S.a,{children:[Object(x.jsx)(A.a,{fontSize:"xs",children:n.slice(0,3)+"00"}),s.map((function(e){return e.start===a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"00"?Object(x.jsx)(Kt,{usertype:t,EnteredMutate:o,DeleteMutate:r,task:s,setTask:l,taskvalue:e},e.id):""})),e.placeholder]})}))}}),Object(x.jsx)(yt.c,{droppableId:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15",children:function(e,c){return Object(x.jsx)(Le.b,Object(u.a)(Object(u.a)({},e.droppableProps),{},{ref:e.innerRef,bgColor:Object(v.d)("green.100","gray.700"),maxH:"40px",color:Object(v.d)("green.800","gray.300"),onClick:function(e){return i(e,a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15",a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30")},borderBottom:"1px",id:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15",borderColor:"gray.200",children:Object(x.jsxs)(S.a,{children:[Object(x.jsx)(A.a,{fontSize:"xs",children:n.slice(0,3)+"15"}),s.map((function(e){return e.start===a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15"?Object(x.jsx)(Kt,{usertype:t,EnteredMutate:o,DeleteMutate:r,task:s,setTask:l,taskvalue:e},e.id):""})),e.placeholder]})}))}}),Object(x.jsx)(yt.c,{droppableId:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30",children:function(e,c){return Object(x.jsx)(Le.b,Object(u.a)(Object(u.a)({},e.droppableProps),{},{ref:e.innerRef,bgColor:Object(v.d)("green.200","gray.800"),maxH:"40px",color:Object(v.d)("green.800","gray.300"),onClick:function(e){return i(e,a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30",a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45")},borderBottom:"1px",id:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30",borderColor:"gray.200",children:Object(x.jsxs)(S.a,{children:[Object(x.jsx)(A.a,{fontSize:"xs",children:n.slice(0,3)+"30"}),s.map((function(e){return e.start===a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30"?Object(x.jsx)(Kt,{usertype:t,EnteredMutate:o,DeleteMutate:r,task:s,setTask:l,taskvalue:e},e.id):""})),e.placeholder]})}))}}),Object(x.jsx)(yt.c,{droppableId:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45",children:function(e,c){return Object(x.jsx)(Le.b,Object(u.a)(Object(u.a)({},e.droppableProps),{},{ref:e.innerRef,bgColor:Object(v.d)("green.300","gray.900"),color:Object(v.d)("green.800","gray.300"),maxH:"40px",onClick:function(e){return i(e,a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45",a.toISOString().slice(0,10)+"T"+(parseInt(n.slice(0,2))<9)?"0".concat(parseInt(n.slice(0,2))+1,":00"):parseInt(n.slice(0,2))+1+":00")},borderBottom:"1px",id:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45",borderColor:"gray.200",children:Object(x.jsxs)(S.a,{children:[Object(x.jsx)(A.a,{fontSize:"xs",children:n.slice(0,3)+"45"}),s.map((function(e){return e.start===a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45"?Object(x.jsx)(Kt,{usertype:t,EnteredMutate:o,DeleteMutate:r,task:s,setTask:l,taskvalue:e},e.id):""})),e.placeholder]})}))}})]})},c)};var $t=function(e){for(var t=e.usertype,n=e.EnteredMutate,c=e.rowNumber,a=e.date,r=e.DeleteMutate,i=e.task,s=e.updateTask,o=e.setTask,l=e.addtask,j=["07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00"],d=function(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n},b=[],u=0;u<c;u++)0===u?b.push(a):b.push(d(b[b.length-1],1));var p,m=[],h=Object(Ct.a)(b.entries());try{var f=function(){var e=Object(O.a)(p.value,2),c=e[0],a=e[1];m.push(Object(x.jsxs)(C.a,{children:[Object(x.jsx)(Q.a,{w:"100%",border:"1px",borderColor:Object(v.d)("green.200","gray.800"),bgColor:Object(v.d)("green.300","gray.600"),color:Object(v.d)("green.800","gray.50"),h:10,align:"center",children:a.toISOString().slice(0,10)},c),j.map((function(e){return Object(x.jsx)(Zt,{EnteredMutate:n,usertype:t,DeleteMutate:r,HoursValue:e,value:a,addtask:l,task:i,setTask:o},e.slice(0,4))}))]}))};for(h.s();!(p=h.n()).done;)f()}catch(g){h.e(g)}finally{h.f()}return Object(x.jsx)(C.a,{children:Object(x.jsxs)(Le.a,{templateColumns:"repeat(10, 1fr)",gap:0,children:[Object(x.jsx)(Le.b,{colSpan:1,children:Object(x.jsxs)(C.a,{w:"100%",border:"1px",bgColor:Object(v.d)("green.300","gray.600"),borderColor:Object(v.d)("green.200","gray.800"),children:[Object(x.jsx)(Q.a,{h:10,align:"center"}),j.map((function(e){return Object(x.jsx)(Q.a,{border:"1px",borderColor:Object(v.d)("green.200","gray.800"),bgColor:Object(v.d)("green.300","gray.600"),color:Object(v.d)("green.800","gray.50"),h:"160px",px:2,fontSize:"20px",children:e},e)}))]})}),Object(x.jsx)(Le.b,{colSpan:9,w:"100%",children:Object(x.jsx)(Le.a,{w:"100%",templateColumns:"repeat("+parseInt(c)+", 1fr)",gap:0,children:Object(x.jsx)(yt.a,{onDragEnd:function(e){return s(e)},children:m})})})]})})},Yt=function(e){var t=Object(c.useContext)(p).user,n=e.data,r={medecin_id:n.id,patient_id:t.id},i=Object(J.a)(),s=Object(c.useState)([{start:"2021-03-22T00:00"}]),o=Object(O.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)(new Date),b=Object(O.a)(d,2),u=b[0],m=b[1],h=Object(z.a)({base:!0,lg:!1}),f=Object(c.useState)(1),g=Object(O.a)(f,2),v=g[0],_=g[1],k=Object(c.useState)(""),P=Object(O.a)(k,2),w=P[0],I=P[1],E=Object(c.useState)(""),A=Object(O.a)(E,2),D=A[0],M=A[1],V=Object(ke.a)(),L=V.isOpen,F=V.onOpen,R=V.onClose,q=a.a.useRef(),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)(["list de r\xe9servation En Ligne on dashboard",t],(function(){return Z.get("lrde",{params:t})}),n)}({params:r,onError:function(e){i({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){for(var t in e.data)e.data[t].start=e.data[t].start.replace(" ","T").slice(0,-3);j(e.data)}}),W=(N.isLoading,N.refetch),B=function(e,t){var n=new Date(e);n.setDate(n.getDate()+t),m(n)},H=Tt({onError:function(e){},onSuccess:function(e){W()}}),U=H.mutate,K=H.isLoading,$=Et({onError:function(e){},onSuccess:function(e){W()}}),Y=$.mutate,G=$.isLoading;return Object(x.jsxs)(C.a,{children:[Object(x.jsx)(X.a,{display:G||K?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{display:G||K?"none":"",children:Object(x.jsxs)(S.a,{py:2,children:[Object(x.jsx)(ce.a,{ml:2,colorScheme:"green",onClick:function(){return B(u,-1*v)},children:Object(x.jsx)(y.a,{label:"Moin un jour","aria-label":"Moin un jour",children:Object(x.jsx)(wt.a,{})})}),Object(x.jsx)(St.a,{}),h?"":Object(x.jsx)(ce.a,{mx:2,onClick:function(){return _(1)},children:"Par jour"}),Object(x.jsx)(ce.a,{mx:2,onClick:function(){return m(new Date)},children:"Aujourd'hui"}),h?"":Object(x.jsx)(ce.a,{mx:2,onClick:function(){return _(2)},children:"Par 2 jour"}),Object(x.jsx)(St.a,{}),Object(x.jsx)(ce.a,{mr:2,colorScheme:"green",onClick:function(){return B(u,v)},children:Object(x.jsx)(y.a,{label:"Plus un jour","aria-label":"Plus un jour",children:Object(x.jsx)(It.a,{})})})]})}),Object(x.jsx)($t,{usertype:"reservie",DeleteMutate:U,task:l,setTask:j,date:u,rowNumber:v,updateTask:function(e){Y({id:e.draggableId,date_reservation:e.destination.droppableId.replace("T"," ")+":00"})},addtask:function(e,t,n){e.stopPropagation(),I(n),M(t),F()}}),Object(x.jsx)(Ut,{data:n,currentDateStart:D,cancelRef:q,onClose:R,isOpen:L,refetchTask:W,medecin_id:n.id,setTask:j,end:w})]})},Jt=function(e){var t=e.data,n=Object(ke.a)(),a=n.isOpen,r=n.onOpen,i=n.onClose,s=Object(c.useRef)(),o=Object(z.a)({base:!0,lg:!1});return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(y.a,{label:"Consultez la salle d'attente","aria-label":"Consultez la salle d'attente",children:Object(x.jsx)(ce.a,{ref:s,size:"sm",my:3,onClick:r,children:o?Object(x.jsx)(F.e,{fontSize:"30px"}):"Rendez-vous "})}),Object(x.jsx)(Pe.a,{size:"full",isOpen:a,placement:"right",onClose:i,finalFocusRef:s,children:Object(x.jsx)(we.h,{children:Object(x.jsxs)(Pe.b,{children:[Object(x.jsx)(we.c,{}),Object(x.jsxs)(we.g,{children:["Salle d'attente ",t.nom," ",t.prenom," \ud83e\ude91"," "]}),Object(x.jsx)(we.b,{children:Object(x.jsx)(Yt,{data:t})}),Object(x.jsx)(we.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:i,children:"Annuler"})})]})})})]})},Xt=function(e){var t=Object(c.useContext)(p),n=t.user,r=(t.cleanUser,e.refetch),i=Object(c.useState)(""),s=Object(O.a)(i,2),o=s[0],l=s[1],j=Ue({onError:function(e){l("V\xe9rifiez les informations de contact ou la liste que vous avez ins\xe9r\xe9es")},onSuccess:function(e){l(""),r()}}),d=j.mutate,b=j.isLoading,u=Object(se.c)();return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsx)(se.a,{connect:u,onValidSubmit:function(e){e.patient_id=n.id,d(e)},children:Object(x.jsx)("form",{noValidate:!0,onSubmit:u.submit,children:Object(x.jsx)(E.b,{spacing:"2",direction:{base:"column",md:"row"},justify:"space-between",children:Object(x.jsxs)(He.a,{columns:2,spacing:10,w:"100%",children:[Object(x.jsxs)(G.a,{minW:{md:"320px"},id:"search",children:[Object(x.jsx)(de,{name:"medecin_id",Placeholder:"Entrez l'email ou le t\xe9l\xe9phone du m\xe9decin"}),Object(x.jsx)(A.a,{color:"tomato",children:o})]}),Object(x.jsx)(Fe.a,{size:"sm",variant:"outline",children:Object(x.jsxs)(ce.a,{position:"relative",top:"8px",type:"submit",fontSize:"20px",p:5,w:"100%",children:[Object(x.jsx)(X.a,{display:b?"":"none",color:"red.500"}),"Ajouter \ud83e\ude7a"]})})]})})})})})},Gt=function(e){var t=Object(z.a)({base:!0,lg:!1}),n=e.data;return Object(x.jsxs)(Je.a,{children:[Object(x.jsx)(Je.h,{children:Object(x.jsx)(ce.a,{mx:1,children:t?Object(x.jsx)(F.f,{fontSize:"30px"}):"Info"})}),Object(x.jsx)(ft.a,{children:Object(x.jsxs)(Je.e,{children:[Object(x.jsx)(Je.b,{}),Object(x.jsxs)(Je.g,{children:[n.nom&&n.nom+" "+n.prenom,n.nomprenom&&n.nomprenom," "]}),Object(x.jsx)(Je.d,{}),Object(x.jsxs)(Je.c,{children:[n.photo&&Object(x.jsx)(C.a,{children:Object(x.jsx)(q.a,{size:"xl",name:n.nom+" "+n.prenom,src:"".concat(H).concat(n.photo)})}),n.Adresse&&Object(x.jsxs)(A.a,{children:["Adresse : ",n.Adresse," "]}),n.Code_APCI&&Object(x.jsxs)(A.a,{children:["Code_APCI : ",n.Code_APCI," "]}),n.email&&Object(x.jsx)(A.a,{as:"a",href:"mailto:"+n.email,children:Object(x.jsx)(ce.a,{my:1,colorScheme:"green",leftIcon:Object(x.jsx)(tt.a,{}),variant:"outline",children:"Email"})}),n.telephone&&Object(x.jsx)(A.a,{display:"block",as:"a",href:"tel:"+n.telephone,children:Object(x.jsx)(ce.a,{my:1,leftIcon:Object(x.jsx)(et.a,{}),colorScheme:"green",variant:"outline",children:"Appeller"})})]}),Object(x.jsx)(Je.f,{children:"Ce sont des informations personnelles sur votre patient"})]})})]})},Qt=function(){var e=Object(c.useContext)(p).user,t=Object(J.a)(),n=Object(c.useState)(0),r=Object(O.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(""),l=Object(O.a)(o,2),j=l[0],d=l[1],b=Object(c.useState)(""),u=Object(O.a)(b,2),m=u[0],h=u[1],f=Object(c.useState)(1),g=Object(O.a)(f,2),v=g[0],S=g[1],y=Object(c.useState)([[""],[""]]),_=Object(O.a)(y,2),z=_[0],k=_[1],P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)("pm",(function(){return Z.get("pm",{params:t})}),n)}({params:{patient_id:e.id,page:v},onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){s(e.data.total),d(e.data.next_page_url),h(e.data.prev_page_url),k(!!e.data.data&&e.data.data||[])}}),w=P.isLoading,I=P.refetch,E=Object(c.useState)({fn:function(e){return Object(x.jsx)(Gt,{data:e})},fn2:function(e){return Object(x.jsx)(Jt,{data:e})}}),D=Object(O.a)(E,2),M=D[0];D[1];return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(X.a,{display:w?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{display:w?"none":"",as:"section",py:{base:0,md:"12"},w:"100%",children:Object(x.jsxs)(C.a,{maxW:{base:"xl",md:"7xl"},mx:"auto",px:{base:"1",md:"8"},children:[Object(x.jsx)(Xt,{refetch:I}),Object(x.jsxs)(C.a,{children:[Object(x.jsx)(Ne,{header:["Nom Prenom","domaine"],content:z,fntable:M,message:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(me.a,{as:"h2",size:"lg",fontWeight:"extrabold",letterSpacing:"tight",children:"Vous n'avez aucun m\xe9decin dans votre liste."}),Object(x.jsx)(A.a,{mt:"4",fontSize:"lg",children:"Si vous voulez trouver un m\xe9decin,entrer ses coordonn\xe9es dans le barre ci-dessus"}),Object(x.jsx)(A.a,{mt:!0,fontSize:"lg",children:"(C.I.N , E-mail, Num\xb0t\xe9l)"})]})}}),Object(x.jsx)(We,{total:i,next_page_url:j,prev_page_url:m,page:v,setPage:S})]})]})})]})},en=n(417),tn=function(e){var t=e.patientsWaiting,n=e.setCurrentPatient,a=e.DeleteMutate,r=e.currentPatient,i=e.SPTWRMutate,s=Object(c.useState)(!1),o=Object(O.a)(s,2),l=o[0],j=o[1],d=function(){return j(!1)},b=Object(c.useRef)(),u=Object(c.useState)(!1),p=Object(O.a)(u,2),m=p[0],h=p[1],f=function(){return h(!1)},g=Object(c.useRef)(),S=function(e,t){e.stopPropagation(),a({id:t}),t==r.rendez_vous_id&&n({}),d()},y=function(e,t){e.stopPropagation(),i({id:t}),t==r.rendez_vous_id&&n({}),f()};return 0!=t.length?Object(x.jsx)(He.a,{columns:{base:1,md:3,lg:5},spacing:2,children:t.map((function(e){return Object(x.jsxs)(C.a,{_hover:{cursor:"pointer"},bg:Object(v.d)("green.100","gray.800"),borderRadius:"20px",textAlign:"center",p:2,onClick:function(t){t.stopPropagation(),n(e)},children:[e.nomprenom,Object(x.jsxs)(C.a,{children:[Object(x.jsx)(_t,{hoverMassage:"Supprimer la r\xe9servation",Header:"Supprimer la r\xe9servation",Body:"Voulez-vous vraiment supprimer cette r\xe9servation avec ".concat(e.nomprenom),icon:Object(x.jsx)(Qe.a,{w:4,h:4}),colorScheme:"teal",bg:"red.300",target:e.rendez_vous_id,fnTodo:S,btOK:"Effacer",btNon:"Annuler",isOpen:l,setIsOpen:j,onClose:d,cancelRef:b}),Object(x.jsx)(_t,{hoverMassage:"Envoyer cette patient \xe0 la salle d'attente",Header:"envoyer \xe0 la salle d'attente",Body:"\xcates-vous s\xfbr que vous voulez envoyer ".concat(e.nomprenom," \xe0 la salle d'attente"),icon:Object(x.jsx)(en.a,{w:4,h:4}),colorScheme:"teal",bg:"green.300",target:e.rendez_vous_id,fnTodo:y,btOK:"Effacer",btNon:"Annuler",isOpen:m,setIsOpen:h,onClose:f,cancelRef:g})]})]},"".concat(e.id))}))}):Object(x.jsx)(Q.a,{children:Object(x.jsx)(me.a,{as:"h2",size:"lg",fontWeight:"extrabold",letterSpacing:"tight",children:"Aucun patient pour le moment"})})},nn=n(34),cn=n(418),an=function(e){var t=Object(se.b)(e),n=t.errorMessage,r=t.id,i=t.isValid,s=t.isSubmitted,o=t.setValue,l=t.value,j=e.label,d=e.type,b=e.required,u=e.note,p=e.Placeholder,m=e.dtValue,h=a.a.useState(!1),f=Object(O.a)(h,2),g=f[0],v=f[1],S=!i&&(g||s);return Object(c.useEffect)((function(){o(m)}),[m]),Object(x.jsxs)(G.a,{children:[Object(x.jsxs)(oe.a,{htmlFor:r,children:[j,!!b&&" *"]}),Object(x.jsx)(cn.a,{id:r,type:d||"text",placeholder:p||j,value:l||m||"",onChange:function(e){return o(e.target.value)},onBlur:function(){return v(!0)},"aria-invalid":S,"aria-required":!!b,"aria-describedby":S?"".concat(r,"-error"):null}),S&&Object(x.jsx)(A.a,{id:"".concat(r,"-error"),color:"tomato",children:n}),u&&Object(x.jsx)(G.b,{id:"".concat(r,"-note"),children:u})]})},rn=n(398),sn=function(e){var t=Object(se.b)(e),n=t.errorMessage,r=t.id,i=t.isValid,s=t.isSubmitted,o=t.setValue,l=t.value,j=e.label,d=e.type,b=e.required,u=e.note,p=e.Placeholder,m=e.dtValue,h=a.a.useState(!1),f=Object(O.a)(h,2),g=f[0],v=f[1],S=!i&&(g||s);return Object(c.useEffect)((function(){o(m)}),[m]),Object(x.jsxs)(G.a,{children:[Object(x.jsxs)(oe.a,{htmlFor:r,children:[j,!!b&&" *"]}),Object(x.jsx)(je.a,{min:0,id:r,type:d||"number",placeholder:p||j,value:l||m||"",onChange:function(e){return e.target.value<0?o(0):o(e.target.value)},onBlur:function(){return v(!0)},"aria-invalid":S,"aria-required":!!b,"aria-describedby":S?"".concat(r,"-error"):null}),S&&Object(x.jsx)(A.a,{id:"".concat(r,"-error"),color:"tomato",children:n}),u&&Object(x.jsx)(G.b,{id:"".concat(r,"-note"),children:u})]})},on=n(419),ln=(n(216),{name:"Element",display:"submenu",add:function(e,t){var n=this.setSubmenu.call(e),c=this;n.querySelectorAll(".se-btn-list").forEach((function(t){t.addEventListener("click",c.onClick.bind(e))})),e.initMenuTarget(this.name,t,n)},setSubmenu:function(){var e=this.util.createElement("DIV");return e.className="se-submenu se-list-layer",e.innerHTML='<div class="se-list-inner se-list-font-size">\n                            <ul class="se-list-basic">\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{patientNomPrenom}">\n                                      Nom et prenom du patient\n                                    </button>\n                                </li>\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{sexesPatient}">\n                                      Mr or MMr Patient\n                                    </button>\n                                </li>\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{agePatient}">\n                                    \xc2ge du patient\n                                    </button>\n                                </li>\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{datePatient}">\n                                    date de naissance patient\n                                    </button>\n                                </li>\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{addresPatient}">\n                                    Address patient\n                                    </button>\n                                </li>\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{sexesmedecin}">\n                                      Mr or MMr medecin\n                                    </button>\n                                </li>\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{medecinNomPrenom}">\n                                    Nom et prenom du medecin\n                                    </button>\n                                </li>\n                              \n                                <li>\n                                    <button type="button" class="se-btn-list" value="{thisDate}">\n                                    date de cette journ\xe9e\n                                    </button>\n                                </li>\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{specialiteMedecin}">\n                                    specialite medecin\n                                    </button>\n                                </li>\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{domaineMedecin}">\n                                    domain medecin\n                                    </button>\n                                </li>\n                            </ul>\n                        </div>',e},onClick:function(e){var t=e.target.value,n=this.util.createElement("span");this.util.addClass(n,"se-custom-tag"),n.textContent=t,this.insertNode(n);var c=this.util.createTextNode(this.util.zeroWidthSpace);n.parentNode.insertBefore(c,n.nextSibling),this.submenuOff()}}),jn=(n(217),function(e){var t,n=e.user,r=e.refetch,i=Object(J.a)(),s=(t={onError:function(e){},onSuccess:function(e){u(),i({title:"Type de certification ajout\xe9 avec succ\xe8s",description:"Vous pouvez le s\xe9lectionner nouveau \xe0 partir de 'Type de certificat'",status:"success",duration:"4000",isClosable:!0}),void 0!=r&&r()}},Object(Ce.a)((function(e){var t=e.type,n=e.structure,c=e.cms_users_id;return Z.post("addct",{type:t,structure:n,cms_users_id:c})}),t)),o=s.mutate,l=s.isLoading,j=Object(ke.a)(),d=j.isOpen,b=j.onOpen,u=j.onClose,p=a.a.useRef(),m=Object(c.useRef)(),h=Object(se.c)(),f=Object(c.useState)(""),g=Object(O.a)(f,2),S=g[0],y=g[1];return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(ce.a,{ref:p,colorScheme:Object(v.d)("green","gray"),onClick:b,children:"Ajouter un certificat"}),Object(x.jsx)(Pe.a,{isOpen:d,placement:"right",onClose:u,size:"full",finalFocusRef:p,children:Object(x.jsx)(we.h,{children:Object(x.jsxs)(Pe.b,{bgColor:Object(v.d)("green.50","gray.700"),children:[Object(x.jsx)(we.c,{}),Object(x.jsx)(we.g,{children:"Cr\xe9ez votre type de certificat"}),Object(x.jsxs)(we.b,{children:[Object(x.jsx)(X.a,{display:l?"block":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{display:l?"none":"block",children:Object(x.jsx)(se.a,{connect:h,onValidSubmit:function(e){e.structure=S,e.cms_users_id=n.id,o(e)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:h.submit,children:[Object(x.jsx)(C.a,{mb:5,children:Object(x.jsx)(de,{name:"type",label:"nom de certif",required:"vous devez saisir le nom de la certification"})}),Object(x.jsx)(it.a,{ref:m,lang:"fr",name:"my-editor",height:"auto",placeholder:"S'il vous pla\xeet \xe9crivez votre structure de certificat ici...",showToolbar:!0,values:S,onChange:function(e){y(e)},setOptions:{plugins:[ln],buttonList:[["undo","redo"],["font","fontSize","formatBlock",":p-More Paragraph-default.more_paragraph"],["paragraphStyle","blockquote"],["bold","underline","italic","strike","subscript","superscript"],["fontColor","hiliteColor","textStyle"],["removeFormat"],["image"],["align","horizontalRule","list","lineHeight"],[{name:"Element",dataCommand:"Element",buttonClass:"",title:"Element",dataDisplay:"submenu",innerHTML:'<div style="width: 70px;">Mod\xe8le</div>'}],["fullScreen"]]}}),Object(x.jsx)(C.a,{p:2,borderLeft:"1px",my:2,children:"Utiliser le boutton 'mod\xe8le' pour cr\xe9er vos propres certificats . Exemple : si vou ajoutez 'patientNomPr\xe9nom' , lors de votre consulation le nom de votre patient sera ajout\xe9 automatiquement en utilisant votre certificat mod\xe9lis\xe9e."}),Object(x.jsx)(C.a,{py:3,children:Object(x.jsxs)(ce.a,{colorScheme:"green",type:"submit",children:["Sauvegarder ",h.isValid?"\ud83d\udc4c":""]})})]})})})]}),Object(x.jsx)(we.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:u,children:"Annuler"})})]})})})]})}),dn=function(e){var t=Object(c.useContext)(p).user,n=Object(c.useState)(""),a=Object(O.a)(n,2),r=(a[0],a[1]),i=Object(c.useRef)(),s=e.id,o=e.removeComponentsForm,l=e.Patient,j=e.name,d=e.key,b=Object(c.useState)(""),u=Object(O.a)(b,2),m=u[0],h=u[1],f=Object(c.useState)(!0),g=Object(O.a)(f,2),S=g[0],y=g[1],_=Object(J.a)(),z=Object(c.useState)([]),k=Object(O.a)(z,2),P=k[0],w=k[1],I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)("gc",(function(){return Z.get("gc",{params:t})}),n)}({params:{cms_users_id:t.id},onError:function(e){_({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){w(e.data)}}),E=(I.isLoading,I.refetch),A=Object(c.useState)({}),D=Object(O.a)(A,2),M=D[0],V=D[1],L={cms_users_id:l.id},F=Ye({params:L,onError:function(e){_({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){V(e.data)}}),R=(F.isLoading,F.refetch,function(e,t,n){return e.split(t).join(n)}),q=function(e){var n="homme"==t.sexes?"Mr.":"Mrs.",c="homme"==l.sexes?"Mr.":"Mrs.";return e=R(e,"{sexesPatient}",c),e=R(e,"{medecinNomPrenom}",t.nom+" "+t.prenom),e=R(e,"{patientNomPrenom}",M.nom+" "+M.prenom),e=R(e,"{addresPatient}",l.Adresse),e=R(e,"{sexesmedecin}",n),e=R(e,"{specialiteMedecin}",""),e=R(e,"{domaineMedecin}",""),e=R(e,"{datePatient}",M.date_naissance?new Date(M.date_naissance).toISOString().slice(0,10):""),e=R(e,"{thisDate}",(new Date).toISOString().slice(0,10)),e=R(e,"{agePatient}",M.date_naissance?Math.abs(new Date(Date.now()-new Date(M.date_naissance).getTime()).getUTCFullYear()-1970):"")};return Object(x.jsxs)(dt.d,{boxShadow:"lg",children:[Object(x.jsxs)(dt.b,{children:[Object(x.jsxs)(C.a,{flex:"1",textAlign:"left",children:[""!=m?m:"Certificat",Object(x.jsx)(on.a,{mx:5,onClick:function(e){e.stopPropagation(),y(!S)}}),Object(x.jsx)(je.a,{placeholder:"\xc9crivez le titre de cet \xe9l\xe9ment",display:S?"none":"inline",onChange:function(e){return h(e.target.value)}})]}),Object(x.jsx)(dt.c,{mx:3}),Object(x.jsx)(rn.a,{onClick:function(){return o(s)},colorScheme:"red",bgColor:"red.300",float:"right"})]}),Object(x.jsxs)(dt.e,{bgColor:Object(v.d)("green.50","gray.700"),pb:4,children:[Object(x.jsx)(jn,{user:t}),Object(x.jsx)(C.a,{py:2,children:Object(x.jsx)(st,{required:"Vous devez \xe9crire un certificat ou simplement le supprimer",name:j,editorRef:i,Patient:l})}),Object(x.jsx)(C.a,{py:2,children:Object(x.jsx)(ve,{label:"Type de certificat",data:P,onChange:function(e){return function(e){E(),r(e.value),i.current.editor.setContents(q(e.value))}(e)},name:"selectvalue"})})]})]},"c"+d)},bn=function(e){var t,n=e.id,a=e.removeComponentsForm,r=e.name,i=e.key,s=Object(c.useState)(""),o=Object(O.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)(!0),b=Object(O.a)(d,2),u=b[0],p=b[1],m=Object(J.a)(),h=Object(c.useState)([]),f=Object(O.a)(h,2),g=f[0],S=f[1],y=Object(c.useState)(""),_=Object(O.a)(y,2),z=_[0],k=_[1],P=Object(c.useState)(""),w=Object(O.a)(P,2),I=w[0],E=w[1],A=Object(c.useState)(""),D=Object(O.a)(A,2),M=D[0],V=D[1],L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)(["get acte (select2)",t],(function(){return Z.get("gac",{params:t})}),n)}({onError:function(e){m({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){S(e.data)}}),F=(L.isLoading,L.refetch,t={onError:function(e){},onSuccess:function(e){k(e.data.code),E(e.data.designation),V(e.data.price)}},Object(Ce.a)((function(e){var t=e.id;return Z.post("ga",{id:t})}),t)),R=F.mutate;F.isLoading;return Object(x.jsxs)(dt.d,{boxShadow:"lg",children:[Object(x.jsxs)(dt.b,{children:[Object(x.jsxs)(C.a,{flex:"1",textAlign:"left",children:[""!=l?l:"Acte",Object(x.jsx)(on.a,{mx:5,onClick:function(e){e.stopPropagation(),p(!u)}}),Object(x.jsx)(je.a,{placeholder:"\xc9crivez le titre de cet \xe9l\xe9ment",display:u?"none":"inline",onChange:function(e){return j(e.target.value)}})]}),Object(x.jsx)(dt.c,{mx:3}),Object(x.jsx)(rn.a,{onClick:function(){return a(n)},colorScheme:"red",bgColor:"red.300",float:"right"})]}),Object(x.jsxs)(dt.e,{bgColor:Object(v.d)("green.50","gray.700"),pb:4,children:[Object(x.jsx)(ve,{label:"S\xe9lectionner une acte",data:g,onChange:function(e){return R({id:e.value})},name:"selectvalue"}),Object(x.jsx)(de,{name:"".concat(r,".code"),label:"Code",dtValue:z}),Object(x.jsx)(an,{name:"".concat(r,".designation"),label:"Diagnostic",dtValue:I}),Object(x.jsx)(an,{name:"".concat(r,".note"),label:"Note",dtValue:""}),Object(x.jsx)(sn,{name:"".concat(r,".prix"),label:"Prix",dtValue:M})]})]},"a"+i)},un=function(e){var t=e.id,n=e.removeComponentsForm,a=e.name,r=Object(c.useState)(""),i=Object(O.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)(!0),j=Object(O.a)(l,2),d=j[0],b=j[1];return Object(x.jsxs)(dt.d,{boxShadow:"lg",children:[Object(x.jsxs)(dt.b,{children:[Object(x.jsxs)(C.a,{flex:"1",textAlign:"left",children:[""!=s?s:"Examen",Object(x.jsx)(on.a,{mx:5,onClick:function(e){e.stopPropagation(),b(!d)}}),Object(x.jsx)(je.a,{placeholder:"\xc9crivez le titre de cet \xe9l\xe9ment",display:d?"none":"inline",onChange:function(e){return o(e.target.value)}})]}),Object(x.jsx)(dt.c,{mx:3}),Object(x.jsx)(rn.a,{onClick:function(){return n(t)},colorScheme:"red",bgColor:"red.300",float:"right"})]}),Object(x.jsxs)(dt.e,{bgColor:Object(v.d)("green.50","gray.700"),pb:4,children:[Object(x.jsx)(de,{name:"".concat(a,".type"),label:"Type d'examen",required:"Il est requis de compl\xe9ter ce champ"}),Object(x.jsx)(an,{name:"".concat(a,".note"),label:"Note d'examen",required:"Il est requis de compl\xe9ter ce champ"}),Object(x.jsx)(sn,{name:"".concat(a,".prix"),label:"Prix d'examen",required:"Il est requis de compl\xe9ter ce champ"})]})]})},On=function(e){var t=Object(se.b)(e),n=(t.errorMessage,t.id),r=(t.isValid,t.isSubmitted,t.setValue),i=(t.value,e.label),s=e.required,o=a.a.useState(!0),l=Object(O.a)(o,2),j=(l[0],l[1]),d=Object(c.useState)(new Date),b=Object(O.a)(d,2),u=b[0],p=b[1],m=Object(c.useState)(null),h=Object(O.a)(m,2),f=h[0],g=h[1];return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsxs)(G.a,{children:[Object(x.jsxs)(oe.a,{htmlFor:n,children:[i,!!s&&" *"]}),Object(x.jsx)(ie.a,{selected:u,onChange:function(e){var t=Object(O.a)(e,2),n=t[0],c=t[1];p(n),g(c),n&&c&&r(n.toISOString().slice(0,10)+"|"+c.toISOString().slice(0,10))},startDate:u,endDate:f,selectsRange:!0,inline:!0,"aria-required":!!s,onBlur:function(){return j(!0)}})]})})},xn=n(430),pn=function(e){var t=Object(se.b)(e),n=t.errorMessage,r=t.id,i=t.isValid,s=t.isSubmitted,o=t.setValue,l=t.value,j=e.label,d=e.required,b=e.note,u=e.Placeholder,p=e.dtValue,m=e.name,h=a.a.useState(!1),f=Object(O.a)(h,2),g=f[0],v=f[1],S=!i&&(g||s);return Object(c.useEffect)((function(){o(p)}),[p]),Object(x.jsxs)(G.a,{children:[Object(x.jsxs)(oe.a,{htmlFor:r,children:[j,!!d&&" *"]}),Object(x.jsxs)(xn.c,{id:r,name:m,placeholder:u||j,value:l||p||"",onChange:function(e){return e>=0?o(e):""},onBlur:function(){return v(!0)},"aria-invalid":S,"aria-required":!!d,"aria-describedby":S?"".concat(r,"-error"):null,children:[Object(x.jsx)(xn.d,{}),Object(x.jsxs)(xn.e,{children:[Object(x.jsx)(xn.b,{}),Object(x.jsx)(xn.a,{})]})]}),S&&Object(x.jsx)(A.a,{id:"".concat(r,"-error"),color:"tomato",children:n}),b&&Object(x.jsx)(G.b,{id:"".concat(r,"-note"),children:b})]})},mn=function(e){e.user;var t,n=e.refetch,c=Object(J.a)(),r=(t={onError:function(e){},onSuccess:function(e){d(),c({title:"Medicament ajout\xe9 avec succ\xe8s",description:"Vous pouvez l'utiliser maintenant dans la consultation",status:"success",duration:"4000",isClosable:!0}),void 0!=n&&n()}},Object(Ce.a)((function(e){var t=e.designation;return Z.post("addm",{designation:t})}),t)),i=r.mutate,s=r.isLoading,o=Object(ke.a)(),l=o.isOpen,j=o.onOpen,d=o.onClose,b=a.a.useRef(),u=Object(se.c)();return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(ce.a,{ref:b,colorScheme:Object(v.d)("green","gray"),onClick:j,children:"Ajouter un medicament"}),Object(x.jsx)(Pe.a,{isOpen:l,placement:"right",onClose:d,size:"md",finalFocusRef:b,children:Object(x.jsx)(we.h,{children:Object(x.jsxs)(Pe.b,{bgColor:Object(v.d)("green.50","gray.700"),children:[Object(x.jsx)(we.c,{}),Object(x.jsx)(we.g,{children:"Ajouter un medicament"}),Object(x.jsxs)(we.b,{children:[Object(x.jsx)(X.a,{display:s?"block":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{display:s?"none":"block",children:Object(x.jsx)(se.a,{connect:u,onValidSubmit:function(e){i(e)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:u.submit,children:[Object(x.jsx)(C.a,{mb:5,children:Object(x.jsx)(de,{name:"designation",label:"Designation",required:"Il est requis de compl\xe9ter ce champ"})}),Object(x.jsx)(C.a,{py:3,children:Object(x.jsxs)(ce.a,{colorScheme:"green",type:"submit",children:["Sauvegarder ",u.isValid?"\ud83d\udc4c":""]})})]})})})]}),Object(x.jsx)(we.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:d,children:"Annuler"})})]})})})]})},hn=function(e){var t=e.id,n=e.removeComponentsForm,a=e.name,r=Object(J.a)(),i=Object(c.useState)(""),s=Object(O.a)(i,2),o=s[0],l=s[1],j=Object(c.useState)([]),d=Object(O.a)(j,2),b=d[0],u=d[1],p=Object(c.useState)(!0),m=Object(O.a)(p,2),h=m[0],f=m[1],g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)("Liste Medicament (select2)",(function(){return Z.get("lms2",{params:t})}),n)}({onError:function(e){r({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){u(e.data)}}).refetch;return Object(x.jsxs)(dt.d,{boxShadow:"lg",children:[Object(x.jsxs)(dt.b,{children:[Object(x.jsxs)(C.a,{flex:"1",textAlign:"left",children:[""!=o?o:"Ordonnance",Object(x.jsx)(on.a,{mx:5,onClick:function(e){e.stopPropagation(),f(!h)}})]}),Object(x.jsx)(dt.c,{mx:3}),Object(x.jsx)(rn.a,{onClick:function(){return n(t)},colorScheme:"red",bgColor:"red.300",float:"right"}),Object(x.jsx)(je.a,{placeholder:"\xc9crivez le titre de cet \xe9l\xe9ment",display:h?"none":"inline",onChange:function(e){return l(e.target.value)}})]}),Object(x.jsxs)(dt.e,{bgColor:Object(v.d)("green.50","gray.700"),pb:4,children:[Object(x.jsx)(mn,{refetch:g}),Object(x.jsx)(On,{name:"".concat(a,".duree"),label:"Dur\xe9e",required:"la valeur de dur\xe9e est obligatoire"}),Object(x.jsx)(ve,{label:"S\xe9lectionner une medicament",data:b,name:"".concat(a,".medicament_id"),required:"le nom de medicament est obligatoire"}),Object(x.jsx)(de,{name:"".concat(a,".duree_entre_chaque_medicament"),label:"duree entre chaque medicament"}),Object(x.jsx)(pn,{name:"".concat(a,".NBR_FOIS_JOURS"),label:"Nombre de fois par jour"})]})]})},fn=function(e){var t=e.id,n=e.removeComponentsForm,a=e.name,r=Object(c.useState)([]),i=Object(O.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)(""),j=Object(O.a)(l,2),d=j[0],b=j[1],u=Object(c.useState)(!0),p=Object(O.a)(u,2),m=p[0],h=p[1],f=Object(J.a)(),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.params,Object(T.a)(e,["params"]));return Object(Se.a)("liste medecin",(function(){return Z.get("lm")}),t)}({onError:function(e){f({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){o(e.data||[])}});g.isLoading,g.refetch;return Object(x.jsxs)(dt.d,{boxShadow:"lg",children:[Object(x.jsxs)(dt.b,{children:[Object(x.jsxs)(C.a,{flex:"1",textAlign:"left",children:[""!=d?d:"Lettre",Object(x.jsx)(on.a,{mx:5,onClick:function(e){e.stopPropagation(),h(!m)}})]}),Object(x.jsx)(dt.c,{mx:3}),Object(x.jsx)(rn.a,{onClick:function(){return n(t)},colorScheme:"red",bgColor:"red.300",float:"right"})]}),Object(x.jsxs)(dt.e,{bgColor:Object(v.d)("green.50","gray.700"),pb:4,children:[Object(x.jsx)(je.a,{placeholder:"\xc9crivez le titre de cet \xe9l\xe9ment",display:m?"none":"inline",onChange:function(e){return b(e.target.value)}}),Object(x.jsx)(ve,{selectValue:"true",label:"S\xe9lectionner un med\xe9cin",data:s,name:"".concat(a,".medecin_destiantaire_id")}),Object(x.jsx)(an,{name:"".concat(a,".description"),label:"Contenu de lettre",required:"Il est requis de compl\xe9ter ce champ"})]})]})},gn=function(e){var t=e.id,n=e.removeComponentsForm,a=e.name,r=Object(c.useState)(""),i=Object(O.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)(!0),j=Object(O.a)(l,2),d=j[0],b=j[1];return Object(x.jsxs)(dt.d,{boxShadow:"lg",children:[Object(x.jsxs)(dt.b,{children:[Object(x.jsxs)(C.a,{flex:"1",textAlign:"left",children:[""!=s?s:"Antecedant",Object(x.jsx)(on.a,{mx:5,onClick:function(e){e.stopPropagation(),b(!d)}}),Object(x.jsx)(je.a,{placeholder:"\xc9crivez le titre de cet \xe9l\xe9ment",display:d?"none":"inline",onChange:function(e){return o(e.target.value)}})]}),Object(x.jsx)(dt.c,{mx:3}),Object(x.jsx)(rn.a,{onClick:function(){return n(t)},colorScheme:"red",bgColor:"red.300",float:"right"})]}),Object(x.jsxs)(dt.e,{bgColor:Object(v.d)("green.50","gray.700"),pb:4,children:[Object(x.jsx)(de,{name:"".concat(a,".type"),label:"type de antecedant"}),Object(x.jsx)(an,{name:"".concat(a,".description"),label:"description de antecedant"})]})]})},vn=function(e){var t=Object(J.a)(),n=Object(c.useContext)(p).user,a=e.Patient,r=e.setCurrentPatient,i=e.refetchPatientListe,s=e.patientsWaiting,o=e.setpatientsWaiting,l=Object(c.useState)(0),j=Object(O.a)(l,2),d=j[0],b=j[1],u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.params,Object(T.a)(e,["params"]));return Object(Ce.a)((function(e){return Z.post("consultation",e)}),t)}({onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){s.splice(s.indexOf(a),1),o(Object(nn.a)(s)),i(),r({}),z([]),t({title:"Enregistr\xe9 avec succ\xe8s \u2714\ufe0f",description:"votre consultation enregistr\xe9 avec succ\xe8s ",status:"success",duration:"3000",isClosable:!0})}}),m=u.mutate,h=u.isLoading,f=Object(se.c)(),g=f.values,S=Object(c.useState)([]),y=Object(O.a)(S,2),_=y[0],z=y[1],k=function(e){b(d+1),z([].concat(Object(nn.a)(_),[e]))},P=function(e){z(Object(nn.a)(_.filter((function(t){return t.id!==e}))))};return Object(x.jsxs)(C.a,{children:[Object(x.jsx)(X.a,{display:h?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{overflowX:"auto",display:h?"none":"",children:Object(x.jsx)(se.a,{connect:f,onValidSubmit:function(){g.rendez_vous_id=a.rendez_vous_id,g.patient_id=a.id,g.medecin_id=n.id,m(g)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:f.submit,children:[Object(x.jsx)(an,{name:"Diagnostic",label:"Diagnostic"}),Object(x.jsx)(ne.a,{my:5}),Object(x.jsxs)(C.a,{display:_.length>0?"block":"none",children:["D\xe9tail",Object(x.jsx)(rn.a,{onClick:function(){return z([])},colorScheme:"red",bgColor:"red.200",float:"right",boxShadow:"dark-lg"})]}),Object(x.jsx)(dt.a,{defaultIndex:[0,1,2,3,4,5,6,7,8,9,10],allowMultiple:!0,children:_.sort((function(e,t){return e-t})).map((function(e,t){var n=e.id,c=e.type;return"certificat"===c?Object(x.jsx)(dn,{id:n,removeComponentsForm:P,Patient:a,name:"certificats[".concat(t,"]")},n):"acte"===c?Object(x.jsx)(bn,{id:n,removeComponentsForm:P,Patient:a,index:t,name:"actes[".concat(t,"]")},n):"examen"===c?Object(x.jsx)(un,{id:n,removeComponentsForm:P,Patient:a,name:"examens[".concat(t,"]")},n):"antecedants"===c?Object(x.jsx)(gn,{id:n,removeComponentsForm:P,Patient:a,name:"antecedants[".concat(t,"]")},n):"ordonnance"===c?Object(x.jsx)(hn,{id:n,removeComponentsForm:P,Patient:a,name:"ordonnances[".concat(t,"]")},n):"lettre"===c?Object(x.jsx)(fn,{id:n,removeComponentsForm:P,Patient:a,name:"lettres[".concat(t,"]")},n):void 0}))}),Object(x.jsx)(C.a,{py:3,children:Object(x.jsxs)(He.a,{minChildWidth:"100px",spacing:"10px",children:[Object(x.jsx)(ce.a,{onClick:function(){return k({id:d,type:"certificat"})},colorScheme:Object(v.d)("green","gray"),children:"Certificat"}),Object(x.jsx)(ce.a,{onClick:function(){return k({id:d,type:"acte"})},colorScheme:Object(v.d)("green","gray"),children:"Acte"}),Object(x.jsx)(ce.a,{onClick:function(){return k({id:d,type:"examen"})},colorScheme:Object(v.d)("green","gray"),children:"Examen"}),Object(x.jsx)(ce.a,{onClick:function(){return k({id:d,type:"antecedants"})},colorScheme:Object(v.d)("green","gray"),children:"Antecedants"}),Object(x.jsx)(ce.a,{onClick:function(){return k({id:d,type:"ordonnance"})},colorScheme:Object(v.d)("green","gray"),children:"Ordonnance"}),Object(x.jsx)(ce.a,{onClick:function(){return k({id:d,type:"lettre"})},colorScheme:Object(v.d)("green","gray"),children:"Lettre"})]})}),Object(x.jsx)(ne.a,{my:5}),Object(x.jsx)(C.a,{right:0,children:Object(x.jsx)(sn,{name:"prix",required:"Vous devez \xe9crire une valeur pour votre consultation",label:"prix consultation",value:0})}),Object(x.jsx)(G.a,{mt:5,align:"center",children:Object(x.jsxs)(ce.a,{w:"40%",type:"submit",borderColor:"green.500",disabled:!f.isValid,children:["Submit",f.isValid?"\ud83d\udc4c":""]})})]})})})]})},Sn=function(){var e,t=Object(J.a)(),n=Object(c.useState)([]),r=Object(O.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)({}),l=Object(O.a)(o,2),j=l[0],d=l[1],b={medecin_id:Object(c.useContext)(p).user.id},u=(e={onError:function(e){},onSuccess:function(e){S()}},Object(Ce.a)((function(e){var t=e.id;return e.etat,Z.post("sptwr",{id:t,etat:"en attente"})}),e)),m=u.mutate,h=u.isLoading,f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)("liste-pattient-wating",(function(){return Z.get("pdcm",{params:t})}),n)}({params:b,onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){s(e.data)}}),g=f.isLoading,S=f.refetch,y=Tt({onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){S()}}),_=y.mutate,z=y.isLoading;return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(X.a,{display:g||z||h?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{w:"100%",p:5,display:g||z||h?"none":"",children:Object(x.jsx)(tn,{SPTWRMutate:m,currentPatient:j,DeleteMutate:_,setCurrentPatient:d,patientsWaiting:i})}),Object(x.jsxs)(C.a,{pb:5,display:""==!!j.nomprenom?"none":"block",children:[Object(x.jsxs)(Q.a,{p:5,bg:Object(v.d)("green.100","gray.800"),mx:"auto",boxShadow:"xl",w:{base:"100%",md:"95%"},borderRadius:"20px",children:[Object(x.jsxs)(A.a,{fontSize:"xl",children:[" ",j.nomprenom]}),Object(x.jsx)(ce.a,{position:"relative",p:0,m:0,left:["5vw","20vw","10vw","20vw"],colorScheme:"green",onClick:function(){return d({})},children:Object(x.jsx)(Qe.a,{w:4,h:4})})]}),Object(x.jsxs)(C.a,{mx:"auto",boxShadow:"lg",bg:Object(v.d)("green.50","gray.800"),w:{base:"90%",md:"92%"},children:[Object(x.jsxs)(He.a,{minChildWidth:"100px",spacing:"10px",children:[Object(x.jsx)(C.a,{m:5,textAlign:"center",children:Object(x.jsx)(qt,{patient:j})}),Object(x.jsx)(C.a,{m:5,textAlign:"center",children:Object(x.jsx)(at,{patient:j})})]}),Object(x.jsx)(C.a,{p:5,children:Object(x.jsx)(vn,{setCurrentPatient:d,Patient:j,refetchPatientListe:S,patientsWaiting:i,setpatientsWaiting:s})})]})]})]})},Cn=function(e){var t,n=Object(z.a)({base:!0,lg:!1}),r=e.refetch,i=e.data,s=e.type,o=e.id,l=e.cms_users_id,j=Object(J.a)(),d=(t={onError:function(e){},onSuccess:function(e){f(),j({title:"Type de certification ajout\xe9 avec succ\xe8s",description:"Vous pouvez le s\xe9lectionner nouveau \xe0 partir de 'Type de certificat'",status:"success",duration:"4000",isClosable:!0}),void 0!=r&&r()}},Object(Ce.a)((function(e){var t=e.type,n=e.structure,c=e.cms_users_id,a=e.id;return Z.post("uct",{type:t,structure:n,cms_users_id:c,id:a})}),t)),b=d.mutate,u=d.isLoading,p=Object(ke.a)(),m=p.isOpen,h=p.onOpen,f=p.onClose,g=Object(c.useState)(i),S=Object(O.a)(g,2),y=S[0],_=S[1];Object(c.useEffect)((function(){_(i)}),[i]);var k=a.a.useRef(),P=Object(c.useRef)(),w=Object(se.c)();return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(ce.a,{ref:k,colorScheme:Object(v.d)("green","gray"),onClick:h,children:n?Object(x.jsx)(F.i,{fontSize:"30px"}):"Mettre \xe0 jour"}),Object(x.jsx)(Pe.a,{isOpen:m,placement:"right",onClose:f,size:"full",finalFocusRef:k,children:Object(x.jsx)(we.h,{children:Object(x.jsxs)(Pe.b,{bgColor:Object(v.d)("green.50","gray.700"),children:[Object(x.jsx)(we.c,{}),Object(x.jsx)(we.g,{children:"Cr\xe9ez votre type de certificat"}),Object(x.jsxs)(we.b,{children:[Object(x.jsx)(X.a,{display:u?"block":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{display:u?"none":"block",children:Object(x.jsx)(se.a,{connect:w,onValidSubmit:function(e){e.structure=y,e.id=o,e.type=s,e.cms_users_id=l,b(e)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:w.submit,children:[Object(x.jsx)(it.a,{ref:P,lang:"fr",name:"my-editor",height:"auto",placeholder:"S'il vous pla\xeet \xe9crivez votre structure de certificat ici...",showToolbar:!0,setContents:y,values:y,onChange:function(e){_(e)},setOptions:{plugins:[ln],buttonList:[["undo","redo"],["font","fontSize","formatBlock",":p-More Paragraph-default.more_paragraph"],["paragraphStyle","blockquote"],["bold","underline","italic","strike","subscript","superscript"],["fontColor","hiliteColor","textStyle"],["removeFormat"],["image"],["align","horizontalRule","list","lineHeight"],[{name:"Element",dataCommand:"Element",buttonClass:"",title:"Element",dataDisplay:"submenu",innerHTML:'<div style="width: 70px;">Mod\xe8le</div>'}],["fullScreen"]]}}),Object(x.jsx)(C.a,{p:2,borderLeft:"1px",my:2,children:"Utiliser le boutton 'mod\xe8le' pour cr\xe9er vos propres certificats . Exemple : si vou ajoutez 'patientNomPr\xe9nom' , lors de votre consulation le nom de votre patient sera ajout\xe9 automatiquement en utilisant votre certificat mod\xe9lis\xe9e."}),Object(x.jsx)(C.a,{py:3,children:Object(x.jsxs)(ce.a,{colorScheme:"green",type:"submit",children:["Sauvegarder ",w.isValid?"\ud83d\udc4c":""]})})]})})})]}),Object(x.jsx)(we.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:f,children:"Annuler"})})]})})})]})},yn=function(){var e=Object(c.useContext)(p).user,t=Object(c.useState)([[""]]),n=Object(O.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(0),o=Object(O.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)(""),b=Object(O.a)(d,2),u=b[0],m=b[1],h=Object(c.useState)(""),f=Object(O.a)(h,2),g=f[0],v=f[1],S=Object(c.useState)(1),_=Object(O.a)(S,2),z=_[0],k=_[1],P=Object(J.a)(),w=Object(c.useState)(""),I=Object(O.a)(w,2),A=I[0],D=I[1],M=e.idMedecin||e.id,V=Object(c.useState)({id:M,page:z}),F=Object(O.a)(V,2),R=F[0],q=F[1],N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)("ltc",(function(){return Z.get("ltc",{params:t})}),n)}({params:R,onError:function(e){P({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){j(e.data.total),m(e.data.next_page_url),v(e.data.prev_page_url),i(!!e.data.data&&e.data.data||[])}}),W=N.isLoading,B=N.refetch;Object(c.useEffect)((function(){B()}),[R]);var H=Object(c.useState)({fn:function(e){return Object(x.jsx)(Cn,{refetch:B,data:e.structure,type:e.type,id:e.id,cms_users_id:e.cms_users_id})}}),U=Object(O.a)(H,2),K=U[0];U[1];return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsxs)(C.a,{children:[Object(x.jsx)(Q.a,{children:Object(x.jsx)(jn,{refetch:B,user:e})}),Object(x.jsx)(X.a,{pt:3,display:W?"block":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsxs)(C.a,{display:W?"none":"",children:[Object(x.jsx)(E.b,{pt:10,spacing:"4",direction:{base:"column",md:"row"},justify:"space-between",children:Object(x.jsxs)(Le.a,{templateColumns:"repeat(2, 1fr)",w:"100%",gap:2,children:[Object(x.jsx)(y.a,{label:"\xc9crivez le nom du certificat que vous avez recherch\xe9 sur ce","aria-label":"\xc9crivez le nom du certificat que vous avez recherch\xe9 sur ce",children:Object(x.jsx)(G.a,{w:"100%",id:"search",children:Object(x.jsxs)(Oe.a,{size:"sm",children:[Object(x.jsx)(oe.a,{srOnly:!0,children:"Filtrer:"}),Object(x.jsx)(xe.a,{pointerEvents:"none",color:"gray.400",children:Object(x.jsx)(L.g,{})}),Object(x.jsx)(je.a,{rounded:"base",type:"search",onChange:function(e){return D(e.target.value)},placeholder:"Filtrer"})]})})}),Object(x.jsx)(y.a,{label:"Rechercher \ud83d\udd0e","aria-label":"Rechercher \ud83d\udd0e",children:Object(x.jsx)(Fe.a,{size:"sm",variant:"outline",children:Object(x.jsx)(ce.a,{w:"100%",onClick:function(){q({id:M,page:z,recherche:A})},iconSpacing:"1",leftIcon:Object(x.jsx)(Ze.a,{fontSize:"1.25em"}),children:"Chercher"})})})]})}),Object(x.jsx)(Ne,{header:["Nom"],content:r,fntable:K}),Object(x.jsx)(We,{total:l,next_page_url:u,prev_page_url:g,page:z,setPage:k})]})]})})},_n=n(420),zn=function(){Object(z.a)({base:!0,lg:!1});var e=Object(c.useContext)(p),t=e.user,n=(e.cleanUser,Object(J.a)()),r=Object(c.useState)(0),i=Object(O.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)(""),j=Object(O.a)(l,2),d=j[0],b=j[1],u=Object(c.useState)(""),m=Object(O.a)(u,2),h=m[0],f=m[1],g=Object(c.useState)(1),v=Object(O.a)(g,2),S=v[0],y=v[1],_=Object(c.useState)([[""],[""],[""]]),k=Object(O.a)(_,2),P=k[0],w=k[1],I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)("cp",(function(){return Z.get("cp",{params:t})}),n)}({params:{patient_id:t.id,page:S},onError:function(e){n({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){o(e.data.total),b(e.data.next_page_url),f(e.data.prev_page_url),w(!!e.data.data&&e.data.data||[])}}),E=I.isLoading,D=I.refetch,M=Tt({onSuccess:function(e){D()}}),V=M.mutate,L=(M.isLoading,Object(c.useState)({fn2:function(e){return Object(x.jsx)(Ft,{Header:"Supprimer la r\xe9servation",Body:"Voulez-vous vraiment supprimer cette r\xe9servation avec ".concat(e.nom," ").concat(e.prenom),icon:Object(x.jsx)(Qe.a,{}),colorScheme:"teal",bg:"red.300",target:{id:e.id},fnTodo:V,btOK:"Effacer",btNon:"Annuler"})},fn:function(e){return Object(x.jsx)(Gt,{data:e})}})),F=Object(O.a)(L,2),R=F[0];F[1];return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(X.a,{display:E?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{display:E?"none":"",as:"section",py:{base:0,md:"12"},w:"100%",children:Object(x.jsx)(C.a,{maxW:{base:"xl",md:"7xl"},mx:"auto",px:{base:"1",md:"8"},children:Object(x.jsxs)(C.a,{overflowX:"auto",children:[Object(x.jsx)(Ne,{header:["Nom Prenom","Date"],content:P,fntable:R,message:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(me.a,{as:"h2",size:"lg",fontWeight:"extrabold",letterSpacing:"tight",children:"Vous n'avez aucun rendez vous"}),Object(x.jsx)(A.a,{mt:"4",fontSize:"lg",children:"si vous voulez r\xe9server un rendez-vous , consulter le lien suivant :"}),Object(x.jsxs)(_n.a,{children:["Reserver un rendez-vous ",Object(x.jsx)(en.a,{mx:"2px"})]})]})}}),Object(x.jsx)(We,{total:s,next_page_url:d,prev_page_url:h,page:S,setPage:y})]})})})]})},kn=n(421),Pn=function(e){Object(z.a)({base:!0,lg:!1});var t=Object(c.useState)([]),n=Object(O.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(0),s=Object(O.a)(i,2),o=s[0],l=s[1],j=Object(c.useState)(""),d=Object(O.a)(j,2),b=d[0],u=d[1],p=Object(c.useState)(""),m=Object(O.a)(p,2),h=m[0],f=m[1],g=Object(c.useState)(1),v=Object(O.a)(g,2),S=v[0],y=v[1],_=Object(c.useState)([]),k=Object(O.a)(_,2),P=k[0],w=k[1],I=Object(c.useState)(-1),E=Object(O.a)(I,2),A=E[0],D=E[1],M=Object(c.useState)(-1),V=Object(O.a)(M,2),L=V[0],F=V[1],R=Object(c.useState)([]),q=Object(O.a)(R,2),N=q[0],W=q[1],B=Object(c.useState)(""),H=Object(O.a)(B,2),U=H[0],K=H[1],$=Object(J.a)(),Y=Object(se.c)(),G=Y.values,ee={search:U,DomaineSelected:A,sousDomaineSelected:L,page:S},te=Object(c.useState)({fn:function(e){return Object(x.jsx)(Jt,{data:e})},fn2:function(e){return Object(x.jsx)(Gt,{data:e})}}),ne=Object(O.a)(te,2),ae=ne[0],re=(ne[1],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)(["Trouver un medecin",t],(function(){return Z.get("tm",{params:t})}),n)}({params:ee,onError:function(e){$({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){l(e.data.total),u(e.data.next_page_url),f(e.data.prev_page_url),r(!!e.data.data&&e.data.data||[])}})),ie=re.isLoading,oe=re.refetch,le=ye({onError:function(e){$({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){w(e.data),oe()}}),je=(le.isLoading,le.refetch),de={id:G.SelectDomaine},be=_e({param:de,onError:function(e){$({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){W(e.data),oe()}}),ue=(be.isLoading,be.mutate);return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(se.a,{connect:Y,onValidSubmit:function(e){},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:Y.submit,children:[Object(x.jsxs)(Le.a,{p:3,templateColumns:{base:"repeat(1, 1fr)",md:"repeat(3, 1fr)"},gap:3,children:[Object(x.jsx)(ve,{data:P,label:"Domaine",onChange:function(e){D(e.value),W([]),F(-1),ue({domaine_id:e.value})},name:"SelectDomaine"}),Object(x.jsx)(ve,{onChange:function(e){F(e.value),je()},data:N,label:"Sous Domaine",name:"selectSousDomaine"}),Object(x.jsx)(ce.a,{top:"45%",onClick:function(){F(-1),D(-1)},children:"Tous les m\xe9decins"})]}),Object(x.jsxs)(C.a,{children:[Object(x.jsx)(Q.a,{children:Object(x.jsx)(X.a,{display:ie?"":"none",textAlign:"center",size:"xl",m:"auto",color:"red.500"})}),Object(x.jsxs)(C.a,{display:ie?"none":"",children:[Object(x.jsx)(Re,{buttonText:"Chercher",buttonIcon:Object(x.jsx)(kn.a,{}),chercherFn:K}),Object(x.jsx)(Ne,{header:["Nom Prenom","domaine"],content:a,fntable:ae,message:function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(me.a,{as:"h2",size:"lg",fontWeight:"extrabold",letterSpacing:"tight",children:"Aucun medecin n'existe sous cette sp\xe9cialit\xe9"})})}}),Object(x.jsx)(We,{total:o,next_page_url:b,prev_page_url:h,page:S,setPage:y})]})]})]})})})},wn=function(e){e.user;var t,n=e.refetch,c=Object(J.a)(),r=(t={onError:function(e){},onSuccess:function(e){d(),c({title:"Type d'acte ajout\xe9 avec succ\xe8s",description:"Vous pouvez le s\xe9lectionner nouveau \xe0 partir dans 'Liste d'acte'",status:"success",duration:"4000",isClosable:!0}),void 0!=n&&n()}},Object(Ce.a)((function(e){var t=e.code,n=e.designation,c=e.price;return Z.post("add_act",{code:t,designation:n,price:c})}),t)),i=r.mutate,s=r.isLoading,o=Object(ke.a)(),l=o.isOpen,j=o.onOpen,d=o.onClose,b=a.a.useRef(),u=Object(se.c)();return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(ce.a,{ref:b,colorScheme:Object(v.d)("green","gray"),onClick:j,children:"Ajouter un acte"}),Object(x.jsx)(Pe.a,{isOpen:l,placement:"right",onClose:d,size:"md",finalFocusRef:b,children:Object(x.jsx)(we.h,{children:Object(x.jsxs)(Pe.b,{bgColor:Object(v.d)("green.50","gray.700"),children:[Object(x.jsx)(we.c,{}),Object(x.jsx)(we.g,{children:"D\xe9finit votre acte"}),Object(x.jsxs)(we.b,{children:[Object(x.jsx)(X.a,{display:s?"block":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{display:s?"none":"block",children:Object(x.jsx)(se.a,{connect:u,onValidSubmit:function(e){i(e)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:u.submit,children:[Object(x.jsxs)(C.a,{mb:5,children:[Object(x.jsx)(de,{name:"code",label:"Code",required:"Il est requis de compl\xe9ter ce champ"}),Object(x.jsx)(de,{name:"designation",label:"Designation",required:"Il est requis de compl\xe9ter ce champ"}),Object(x.jsx)(sn,{name:"price",label:"Price",required:"Il est requis de compl\xe9ter ce champ"})]}),Object(x.jsx)(C.a,{py:3,children:Object(x.jsxs)(ce.a,{colorScheme:"green",type:"submit",children:["Sauvegarder ",u.isValid?"\ud83d\udc4c":""]})})]})})})]}),Object(x.jsx)(we.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:d,children:"Annuler"})})]})})})]})},In=function(e){var t,n=e.data,c=e.refetch,r=Object(z.a)({base:!0,lg:!1}),i=Object(J.a)(),s=(t={onError:function(e){},onSuccess:function(e){u(),i({title:"Type de certification ajout\xe9 avec succ\xe8s",description:"Vous pouvez le s\xe9lectionner nouveau \xe0 partir de 'Type de certificat'",status:"success",duration:"4000",isClosable:!0}),void 0!=c&&c()}},Object(Ce.a)((function(e){var t=e.code,n=e.designation,c=e.price,a=e.id;return Z.post("uact",{code:t,designation:n,price:c,id:a})}),t)),o=s.mutate,l=s.isLoading,j=Object(ke.a)(),d=j.isOpen,b=j.onOpen,u=j.onClose,O=a.a.useRef(),p=Object(se.c)();return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(ce.a,{ref:O,colorScheme:Object(v.d)("green","gray"),onClick:b,children:r?Object(x.jsx)(F.i,{fontSize:"30px"}):"Mettre \xe0 jour"}),Object(x.jsx)(Pe.a,{isOpen:d,placement:"right",onClose:u,size:"md",finalFocusRef:O,children:Object(x.jsx)(we.h,{children:Object(x.jsxs)(Pe.b,{children:[Object(x.jsx)(we.c,{}),Object(x.jsx)(we.g,{children:"Mettre \xe0 jour votre acte"}),Object(x.jsxs)(we.b,{children:[Object(x.jsx)(X.a,{display:l?"block":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{display:l?"none":"block",children:Object(x.jsx)(se.a,{connect:p,onValidSubmit:function(e){e.id=n.id,o(e)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:p.submit,children:[Object(x.jsxs)(C.a,{mb:5,children:[Object(x.jsx)(de,{name:"code",label:"Code",dtValue:n.code,required:"Il est requis de compl\xe9ter ce champ"}),Object(x.jsx)(de,{name:"designation",dtValue:n.designation,label:"Designation",required:"Il est requis de compl\xe9ter ce champ"}),Object(x.jsx)(sn,{dtValue:n.price,name:"price",label:"Price",required:"Il est requis de compl\xe9ter ce champ"})]}),Object(x.jsx)(C.a,{py:3,children:Object(x.jsxs)(ce.a,{colorScheme:"green",type:"submit",children:["Sauvegarder ",p.isValid?"\ud83d\udc4c":""]})})]})})})]}),Object(x.jsx)(we.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:u,children:"Annuler"})})]})})})]})},En=function(){var e=Object(c.useContext)(p).user,t=Object(c.useState)([[""]]),n=Object(O.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(0),o=Object(O.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)(""),b=Object(O.a)(d,2),u=b[0],m=b[1],h=Object(c.useState)(""),f=Object(O.a)(h,2),g=f[0],v=f[1],S=Object(c.useState)(1),_=Object(O.a)(S,2),z=_[0],k=_[1],P=Object(J.a)(),w=Object(c.useState)(""),I=Object(O.a)(w,2),A=I[0],D=I[1],M=Object(c.useState)({page:z}),V=Object(O.a)(M,2),F=V[0],R=V[1],q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)("la",(function(){return Z.get("la",{params:t})}),n)}({params:F,onError:function(e){P({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){j(e.data.total),m(e.data.next_page_url),v(e.data.prev_page_url),i(!!e.data.data&&e.data.data||[])}}),N=q.isLoading,W=q.refetch;Object(c.useEffect)((function(){W()}),[F]);var B=Object(c.useState)({fn:function(e){return Object(x.jsx)(In,{data:e,refetch:W})}}),H=Object(O.a)(B,2),U=H[0];H[1];return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsxs)(C.a,{children:[Object(x.jsx)(Q.a,{children:Object(x.jsx)(wn,{refetch:W,user:e})}),Object(x.jsx)(E.b,{pt:10,spacing:"4",direction:{base:"column",md:"row"},justify:"space-between",children:Object(x.jsxs)(Le.a,{templateColumns:"repeat(2, 1fr)",w:"100%",gap:2,children:[Object(x.jsx)(y.a,{label:"\xc9crivez le nom du certificat que vous avez recherch\xe9 sur ce","aria-label":"\xc9crivez le nom du certificat que vous avez recherch\xe9 sur ce",children:Object(x.jsx)(G.a,{w:"100%",id:"search",children:Object(x.jsxs)(Oe.a,{size:"sm",children:[Object(x.jsx)(oe.a,{srOnly:!0,children:"Filtrer:"}),Object(x.jsx)(xe.a,{pointerEvents:"none",color:"gray.400",children:Object(x.jsx)(L.g,{})}),Object(x.jsx)(je.a,{rounded:"base",type:"search",onChange:function(e){return D(e.target.value)},placeholder:"Filtrer"})]})})}),Object(x.jsx)(y.a,{label:"Rechercher \ud83d\udd0e","aria-label":"Rechercher \ud83d\udd0e",children:Object(x.jsx)(Fe.a,{size:"sm",variant:"outline",children:Object(x.jsx)(ce.a,{w:"100%",onClick:function(){R({page:z,recherche:A})},iconSpacing:"1",leftIcon:Object(x.jsx)(Ze.a,{fontSize:"1.25em"}),children:"Chercher"})})})]})}),Object(x.jsx)(X.a,{pt:3,display:N?"block":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsxs)(C.a,{display:N?"none":"",children:[Object(x.jsx)(Ne,{header:["code","designation"],content:r,fntable:U}),Object(x.jsx)(We,{total:l,next_page_url:u,prev_page_url:g,page:z,setPage:k})]})]})})},Tn=function(){Object(c.useContext)(p).user;var e=Object(c.useState)([[""]]),t=Object(O.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(0),s=Object(O.a)(i,2),o=s[0],l=s[1],j=Object(c.useState)(""),d=Object(O.a)(j,2),b=d[0],u=d[1],m=Object(c.useState)(""),h=Object(O.a)(m,2),f=h[0],g=h[1],v=Object(c.useState)(1),S=Object(O.a)(v,2),_=S[0],z=S[1],k=Object(J.a)(),P=Object(c.useState)(""),w=Object(O.a)(P,2),I=w[0],A=w[1],D=Object(c.useState)({page:_}),M=Object(O.a)(D,2),V=M[0],F=M[1],R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)("listem",(function(){return Z.get("listem",{params:t})}),n)}({params:V,onError:function(e){k({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){l(e.data.total),u(e.data.next_page_url),g(e.data.prev_page_url),r(!!e.data.data&&e.data.data||[])}}),q=R.isLoading,N=R.refetch;Object(c.useEffect)((function(){N()}),[V]);return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsxs)(C.a,{children:[Object(x.jsx)(Q.a,{children:Object(x.jsx)(mn,{refetch:N})}),Object(x.jsx)(E.b,{pt:10,spacing:"4",direction:{base:"column",md:"row"},justify:"space-between",children:Object(x.jsxs)(Le.a,{templateColumns:"repeat(2, 1fr)",w:"100%",gap:2,children:[Object(x.jsx)(y.a,{label:"\xc9crivez le nom du certificat que vous avez recherch\xe9 sur ce","aria-label":"\xc9crivez le nom du certificat que vous avez recherch\xe9 sur ce",children:Object(x.jsx)(G.a,{w:"100%",id:"search",children:Object(x.jsxs)(Oe.a,{size:"sm",children:[Object(x.jsx)(oe.a,{srOnly:!0,children:"Filtrer:"}),Object(x.jsx)(xe.a,{pointerEvents:"none",color:"gray.400",children:Object(x.jsx)(L.g,{})}),Object(x.jsx)(je.a,{rounded:"base",type:"search",onChange:function(e){return A(e.target.value)},placeholder:"Filtrer"})]})})}),Object(x.jsx)(y.a,{label:"Rechercher \ud83d\udd0e","aria-label":"Rechercher \ud83d\udd0e",children:Object(x.jsx)(Fe.a,{size:"sm",variant:"outline",children:Object(x.jsx)(ce.a,{w:"100%",onClick:function(){F({page:_,recherche:I})},iconSpacing:"1",leftIcon:Object(x.jsx)(Ze.a,{fontSize:"1.25em"}),children:"Chercher"})})})]})}),Object(x.jsx)(X.a,{pt:3,display:q?"block":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsxs)(C.a,{display:q?"none":"",children:[Object(x.jsx)(Ne,{header:["nom"],content:n}),Object(x.jsx)(We,{total:o,next_page_url:b,prev_page_url:f,page:_,setPage:z})]})]})})},An=function(){var e=Object(c.useContext)(p).user;return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsxs)(C.a,{flex:"1",borderWidth:"2px",rounded:"xl",px:{base:0,md:1},py:{base:2,md:1},children:[Object(x.jsx)(Me,{path:"/dashboard",component:Ht,isAuth:!0,exact:!0}),Object(x.jsx)(Me,{path:"/dashboard/Consultation",component:Sn,isAuth:"medecin"==e.fonctionnalite,exact:!0}),Object(x.jsx)(Me,{path:"/dashboard/Mod\xe8le de certificat",component:yn,isAuth:"medecin"==e.fonctionnalite||"secretaire"==e.fonctionnalite,exact:!0}),Object(x.jsx)(Me,{path:"/dashboard/Liste d'actes",component:En,isAuth:"medecin"==e.fonctionnalite||"secretaire"==e.fonctionnalite,exact:!0}),Object(x.jsx)(Me,{path:"/dashboard/Gestion de compte",component:De,isAuth:!0,exact:!0}),Object(x.jsx)(Me,{path:"/dashboard/Mes rendez vous",component:zn,isAuth:"patient"==e.fonctionnalite||"secretaire"==e.fonctionnalite,exact:!0}),Object(x.jsx)(Me,{path:"/dashboard/Rappel",component:Be,isAuth:"patient"==e.fonctionnalite,exact:!0}),Object(x.jsx)(Me,{path:"/dashboard/Mes patients",component:vt,isAuth:"medecin"==e.fonctionnalite,exact:!0}),Object(x.jsx)(Me,{path:"/dashboard/Mes m\xe9decins",component:Qt,isAuth:"patient"==e.fonctionnalite||"secretaire"==e.fonctionnalite,exact:!0}),Object(x.jsx)(Me,{path:"/dashboard/Trouver un m\xe9decin",component:Pn,isAuth:!0,exact:!0}),Object(x.jsx)(Me,{path:"/dashboard/Liste medicament",component:Tn,isAuth:"medecin"==e.fonctionnalite||"secretaire"==e.fonctionnalite,exact:!0})]})})},Dn=n(422),Mn=function(e){var t=Object(g.g)(),n=e.notif,c=e.refetch,r=e.removeElement,i=Object(J.a)(),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);return Object(Ce.a)((function(e){var t=e.id;return Z.post("rmnot",{id:t})}),t)}({onError:function(e){i({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){c()}}),o=(s.isLoading,s.mutate),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);return Object(Ce.a)((function(e){var t=e.id;return Z.post("vnotif",{id:t})}),t)}({onSuccess:function(e){c()}}).mutate;return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsxs)(C.a,{p:2,onClick:function(){t.push(n.url||"/dashboard")},onMouseEnter:function(){0==n.is_read&&(l({id:n.id}),n.is_read=1)},color:Object(v.d)("green.900","gray.100"),bgColor:1==n.is_read?"":Object(v.d)("green.50","gray.500"),children:[Object(x.jsx)(C.a,{float:"right",fontSize:"10px",colorScheme:"red",children:Object(x.jsx)(Xe.a,{size:"xs",m:1,bg:"red.300",colorScheme:"teal",fontSize:"10px",icon:Object(x.jsx)(Qe.a,{}),onClick:function(e){r(n),e.stopPropagation(),o({id:n.id})}})}),n.content]}),Object(x.jsx)(ne.a,{})]})},Vn=function(e){var t=Object(c.useContext)(p).user,n=Object(J.a)(),a=Object(c.useState)([]),r=Object(O.a)(a,2),i=r[0],s=r[1],o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(T.a)(e,["params"]);return Object(Se.a)("notification",(function(){return Z.get("notification",{params:t})}),n)}({params:{id:t.id},onError:function(e){n({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){s(e.data)}}),l=(o.isLoading,o.refetch),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);return Object(Ce.a)((function(e){var t=e.id;return Z.post("rmanotif",{id:t})}),t)}({onError:function(e){n({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})}}).mutate,d=function(e){var t=Object(nn.a)(i);t.splice(t.indexOf(e),1),s(t)};return i.length?Object(x.jsxs)(Je.a,{children:[Object(x.jsx)(Je.h,{children:Object(x.jsxs)(Dn.a,{mx:3,size:"lg",colorScheme:"gray",borderRadius:"full",_hover:{cursor:"pointer"},children:[Object(x.jsx)(y.a,{label:"Notification","aria-label":"Notification",children:"\ud83d\udd14"}),Object(x.jsx)(Dn.b,{children:0!=i.length?i.length:""})]})}),Object(x.jsxs)(Je.e,{mx:2,children:[Object(x.jsx)(Je.b,{}),Object(x.jsx)(Je.d,{}),Object(x.jsxs)(Je.g,{children:[Object(x.jsx)(A.a,{fontSize:"2xl",children:" Notification"}),0!=i.length?Object(x.jsx)(ce.a,{fontSize:"13px",onClick:function(){j({id:t.id}),s([])},float:"right",mr:2,children:"Effacer tout"}):""]}),Object(x.jsx)(Je.c,{overflowY:"scroll",maxH:"70vh",children:i.map((function(e){return Object(x.jsx)(Mn,{removeElement:d,refetch:l,notif:e})}))}),Object(x.jsx)(ne.a,{})]})]}):null},Ln=n(233),Fn=function(e){var t=e.onClick,n=e.isOpen;return Object(x.jsxs)(C.a,{display:{base:"block",md:"none"},ml:"-8",mr:"2",as:"button",type:"button",rounded:"md",p:"1",fontSize:"xl",color:"gray.500",_hover:{bg:"gray.100"},onClick:t,children:[Object(x.jsx)(C.a,{srOnly:!0,children:n?"Close Menu":"Open Menu"}),n?Object(x.jsx)(P.d,{}):Object(x.jsx)(P.c,{})]})},Rn=function(){var e=Object(_.a)(),t=Object(O.a)(e,2),n=t[0],a=t[1],r=Object(z.a)({base:!0,md:!1});return c.useEffect((function(){0==r&&a.off()}),[r,a]),Object(u.a)({isOpen:n},a)},qn=function(){var e=Object(v.c)(),t=e.colorMode,n=e.toggleColorMode,c=Object(g.h)().pathname,a=Rn(),r=a.isOpen,i=a.toggle,s=(a.actions,Object(Ln.useSwipeable)({onSwipedLeft:function(){return i()},onSwipedRight:function(){return i()},preventDefaultTouchmoveEvent:!0,trackMouse:!0}));return Object(x.jsxs)(S.a,Object(u.a)(Object(u.a)({},s),{},{height:"100vh",w:"100vw",bg:Object(v.d)("green.500","inherit"),overflow:"hidden",sx:{"--sidebar-width":"230px"},children:[Object(x.jsx)(C.a,{as:"nav",display:"block",flex:"1",width:"var(--sidebar-width)",left:"0",py:"5",px:"1",color:"gray.200",position:"fixed",children:Object(x.jsxs)(C.a,{fontSize:"sm",lineHeight:"tall",children:[Object(x.jsx)($,{}),Object(x.jsx)(I,{pt:"5",pb:"6",children:Object(x.jsx)(R,{toggle:i})})]})}),Object(x.jsx)(C.a,{flex:"1",p:{base:"0",md:"6"},marginStart:{md:"var(--sidebar-width)"},position:"relative",left:r?"var(--sidebar-width)":"0",transition:"left 0.2s",children:Object(x.jsx)(C.a,{maxW:"2560px",bg:Object(v.d)("white","gray.700"),height:"100%",pb:"6",rounded:{md:"lg"},children:Object(x.jsxs)(S.a,{direction:"column",height:"full",children:[Object(x.jsxs)(S.a,{w:"full",py:"4",justify:"space-between",align:"center",px:"10",children:[Object(x.jsxs)(S.a,{align:"center",minH:"8",children:[Object(x.jsx)(Fn,{onClick:i,isOpen:r}),Object(x.jsx)(w,{path:c})]}),Object(x.jsxs)(S.a,{align:"center",minH:"8",children:[Object(x.jsx)(Vn,{}),Object(x.jsx)(C.a,{display:"inline",_hover:{cursor:"pointer"},onClick:n,children:Object(x.jsx)(y.a,{label:"Mode sombre","aria-label":"Mode sombre",children:"light"===t?"\u2600\ufe0f":"\ud83c\udf19"})})]})]}),Object(x.jsx)(S.a,{direction:"column",flex:"1",overflow:"auto",px:{base:1,md:6,lg:8},children:Object(x.jsx)(I,{children:Object(x.jsx)(An,{})})})]})})})]}))},Nn=n(423),Wn=function(){var e,t=Object(g.g)(),n=Object(c.useContext)(p).setUser,r=Object(J.a)(),i=(e={onError:function(e){r({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){var c=Object(u.a)({},e.data);0!==Object.entries(e.data).length&&"Active"==c.status?(c.isAuthenticated=!0,localStorage.setItem("user",JSON.stringify(c)),n(c),r({title:"\ud83d\udc68\u200d\u2695\ufe0f Bienvenue "+("homme"==c.sexes?"Mr ":"Mrs ")+c.nom,description:" Vous \xeates maintenant connect\xe9 \xe0 votre compte.",status:"success",duration:"4000",isClosable:!0})):r({titre:"V\xe9rifiez vos informations\ud83d\udd10",description:"Entrez votre e-mail, t\xe9l\xe9phone ou CIN et votre mot de passe",status:"success",duration:4e3,isClosable:!0}),t.push("/dashboard")}},Object(Ce.a)((function(e){var t=e.user,n=e.password;return Z.post("login",{user:t,password:n})}),e)),s=i.mutate,o=i.isLoading,l=Object(se.c)();return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(X.a,{display:o?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsxs)(C.a,{display:o?"none":"",children:[Object(x.jsx)(se.a,{connect:l,onValidSubmit:function(e){s(e)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:l.submit,children:[Object(x.jsx)(de,{name:"user",label:"Nom d'utilisateur",required:"Il est requis de compl\xe9ter ce champ",note:"Connectez-vous avec  N\xb0 T\xe9l\xe9phone ou votre N\xb0 C.I.N ou E-mail"}),Object(x.jsx)(pe,{name:"password",label:"Mot de passe",required:"Il est requis de compl\xe9ter ce champ",type:"password"}),Object(x.jsx)(G.a,{mt:5,align:"center",children:Object(x.jsxs)(ce.a,{w:"40%",type:"submit",borderColor:"green.500",disabled:!l.isValid,children:["Se connecter",l.isValid?"\ud83d\udc4c":""]})})]})}),Object(x.jsx)(A.a,{mt:"4",align:"center",maxW:"md",fontWeight:"medium",children:Object(x.jsx)(C.a,{marginStart:"1",color:Object(v.d)("blue.600","blue.200"),_hover:{color:"blue.600"},display:{base:"block",sm:"revert"},children:Object(x.jsx)(f.b,{to:"singup",children:"Cr\xe9ez votre compte \u2728"})})})]})]})},Bn=function(){var e=Object(g.g)(),t=Object(J.a)(),n=Dt({onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(n){1==(n=n.data).api_status&&(n.exists?t({title:n.elementExists+" existe d\xe9ja",description:"choisir un autre "+n.elementExists+" \ud83d\udcad",status:"success",duration:"4000",isClosable:!0}):(t({title:" \u2728 ",description:"\ud83c\udf89Votre compte a \xe9t\xe9 enregistr\xe9",status:"success",duration:"4000",isClosable:!0}),e.push("/login")))}}),r=n.mutate,i=n.isLoading,s=Object(c.useState)("patient"),o=Object(O.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)("homme"),b=Object(O.a)(d,2),u=b[0],p=b[1],m=Object(se.c)(),h=m.values;return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(X.a,{display:i?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsxs)(E.b,{maxW:400,display:i?"none":"",margin:"auto",spacing:5,children:[Object(x.jsx)(se.a,{connect:m,onValidSubmit:function(e){e.sexes=u,e.id_cms_privileges=l,r(e)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:m.submit,children:[Object(x.jsx)(G.a,{children:Object(x.jsx)(Q.a,{children:Object(x.jsx)(ee.a,{onChange:j,value:l,name:"id_cms_privileges",children:Object(x.jsxs)(E.b,{direction:"row",size:"lg",children:[Object(x.jsx)(te.a,{value:"patient",py:3,mx:5,children:"\ud83d\ude4b\u200d\u2642 Patient"}),Object(x.jsx)(te.a,{value:"medecin",py:3,mx:5,children:"\ud83e\ude7a M\xe9decin"})]})})})}),Object(x.jsx)(de,{name:"nom",label:"Nom",required:"Il est requis de compl\xe9ter ce champ",validations:[{rule:Object(Y.e)("^[a-zA-Z ]*$"),message:"Le nom ne contient que des lettres"}]}),Object(x.jsx)(de,{name:"prenom",label:"Pr\xe9nom",required:"Il est requis de compl\xe9ter ce champ",validations:[{rule:Object(Y.e)("^[a-zA-Z ]*$"),message:"Le prenom ne contient que des lettres"}]}),Object(x.jsx)(G.a,{children:Object(x.jsx)(Q.a,{children:Object(x.jsx)(ee.a,{onChange:p,value:u,name:"sexes",children:Object(x.jsxs)(E.b,{direction:"row",size:"lg",children:[Object(x.jsx)(te.a,{value:"homme",py:3,mx:5,children:"Homme \ud83d\udc68\u200d\ud83e\uddb0"}),Object(x.jsx)(te.a,{value:"femme",py:3,mx:5,children:"Femme \ud83d\udc69\u200d\ud83e\uddb0"})]})})})}),Object(x.jsx)(le,{name:"date_naissance",label:"Date de naissance"}),Object(x.jsx)(de,{name:"email",label:"E-mail",validations:[{rule:Object(Y.a)(),message:"Veuillez v\xe9rifier le format de l'E-mail"},{rule:function(e){return!!e||!!h.cin||!!h.telephone},message:'Le champ E-mail doit contenir "@" et "." ',deps:[h.cin,h.telephone]}]}),Object(x.jsx)(de,{name:"cin",label:"C.I.N",validations:[{rule:Object(Y.b)(8),message:"La carte d'identit\xe9 doit \xeatre constitu\xe9e  de 8 chiffres"},{rule:Object(Y.d)(),message:"La carte d'identit\xe9 ne contient que des chiffres"},{rule:Object(Y.b)(8),message:"La carte d'identit\xe9 doit \xeatre constitu\xe9e  de 8 chiffres"},{rule:function(e){return!!e||!!h.email||!!h.telephone},message:"La carte d'identit\xe9 doit \xeatre constitu\xe9e  de 8 chiffres",deps:[h.email,h.telephone]}]}),Object(x.jsx)(de,{name:"telephone",label:"T\xe9l\xe9phone",validations:[{rule:Object(Y.b)(8),message:"La num\xe9ro de t\xe9l\xe9phone doit \xeatre constitu\xe9e  de 8 chiffres"},{rule:Object(Y.d)(),message:"La num\xe9ro de t\xe9l\xe9phone  ne contient que des chiffres"},{rule:function(e){return!!e||!!h.cin||!!h.email},message:"La num\xe9ro de t\xe9l\xe9phone doit \xeatre constitu\xe9e  de 8 chiffres",deps:[h.cin,h.email]}]}),Object(x.jsx)(pe,{name:"password",label:"Mot de passe",required:"Il est requis de compl\xe9ter ce champ ",type:"password",validations:[{rule:Object(Y.c)(6),message:"Le mot de passe doit contenir au moins 6 caract\xe8res"}]}),Object(x.jsx)(pe,{name:"R_password",label:"R\xe9p\xe9ter le mot de passe",required:"Il est requis de compl\xe9ter le champ correspondant au r\xe9p\xe9ter mot de passe",type:"password",validations:[{rule:function(e){return e==h.password},message:"Le mot de passe r\xe9p\xe9t\xe9 doit \xeatre le m\xeame.",deps:[h.cin,h.telephone]}]}),Object(x.jsx)(G.a,{mt:5,align:"center",children:Object(x.jsxs)(ce.a,{type:"submit",borderColor:"green.500",disabled:!m.isValid,children:["Cr\xe9er mon compte",m.isValid?"\ud83d\udc4c":""]})})]})}),Object(x.jsx)(Q.a,{children:Object(x.jsxs)(f.b,{to:"login",children:["Se connecter",Object(x.jsx)(en.a,{mx:"2px"})]})})]})]})},Hn=function(){return Object(x.jsx)(C.a,{bg:Object(v.d)("green.50","inherit"),minH:"100vh",py:"12",px:{sm:"6",lg:"8"},children:Object(x.jsxs)(C.a,{maxW:{sm:"md"},mx:{sm:"auto"},w:{sm:"full"},children:[Object(x.jsxs)(C.a,{children:[Object(x.jsx)(C.a,{children:Object(x.jsx)(Nn.a,{maxW:["140px","140px","140px","275px"],m:"auto",src:"./logo192.png",alt:"Tbiby"})}),Object(x.jsx)(me.a,{mt:"6",textAlign:"center",size:"xl",fontWeight:"extrabold",children:"Bienvenue \xe0 Tbiby"})]}),Object(x.jsx)(C.a,{maxW:{sm:"md"},mx:{sm:"auto"},mt:"8",w:{sm:"full"},children:Object(x.jsxs)(C.a,{bg:Object(v.d)("white","gray.700"),py:"8",px:{base:"4",md:"10"},shadow:"base",rounded:{sm:"lg"},children:[Object(x.jsx)(g.b,{component:Wn,exact:!0,path:"/login"}),Object(x.jsx)(g.b,{component:Bn,exact:!0,path:"/Singup"})]})})]})})},Un=function(){var e=Object(g.g)();return Object(x.jsx)(Q.a,{minH:"100vh",textAlign:"center",children:Object(x.jsxs)(C.a,{children:[Object(x.jsx)(C.a,{children:Object(x.jsx)(Nn.a,Object(ae.a)({src:"",w:"100%"},"src","./image/404.png"))}),Object(x.jsx)(C.a,{mt:10,children:Object(x.jsx)(ce.a,{onClick:function(){return e.push("/dashboard")},variant:"outline",size:"lg",colorScheme:"green",children:"\ud83d\udea6 Page d'accueil \ud83d\udea6"})})]})})},Kn=function(e){var t=e.isAuth,n=Object(T.a)(e,["isAuth"]);return t?Object(x.jsx)(g.a,{to:{pathname:"/dashboard"}}):Object(x.jsx)(g.b,Object(u.a)({},n))};var Zn=function(){var e=Object(c.useContext)(p).user;return new d.a,Object(x.jsx)(a.a.Fragment,{children:Object(x.jsx)(f.a,{children:Object(x.jsxs)(g.d,{children:[Object(x.jsx)(g.b,{path:"/",exact:!0,children:Object(x.jsx)(g.a,{to:"/dashboard"})}),Object(x.jsx)(Kn,{component:Hn,path:"/login",isAuth:e.isAuthenticated}),Object(x.jsx)(Kn,{component:Hn,path:"/singup",isAuth:e.isAuthenticated}),Object(x.jsx)(Ve,{component:qn,path:"/dashboard",isAuth:e.isAuthenticated}),Object(x.jsx)(g.b,{component:Un,path:"*"})]})})})};var $n=function(){var e=new d.a;return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsx)(b.a,{client:e,children:Object(x.jsx)(h,{children:Object(x.jsx)(Zn,{})})})})},Yn=n(424),Jn={".chakra-collapse":{overflow:"visible!important"},".chakra-accordion .css-0 > * ":{display:"block"}},Xn=Object(Yn.a)({config:{initialColorMode:"light",useSystemColorMode:!1}}),Gn={styles:{global:function(){return Object(u.a)({},Jn)}}},Qn=Object(Yn.a)(Gn),ec=function(){i.a.render(Object(x.jsxs)(a.a.StrictMode,{children:[Object(x.jsx)(o.a,{initialColorMode:Xn.config.initialColorMode}),Object(x.jsxs)(l.a,{theme:Qn,children:[Object(x.jsx)(j.a,{}),Object(x.jsx)($n,{})]})]}),document.getElementById("root")),s()};window.cordova?document.addEventListener("deviceready",ec,!1):ec()}},[[367,1,2]]]);
//# sourceMappingURL=main.0df676c4.chunk.js.map