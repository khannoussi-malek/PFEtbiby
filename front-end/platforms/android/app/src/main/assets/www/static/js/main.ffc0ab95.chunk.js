(this.webpackJsonptbiby=this.webpackJsonptbiby||[]).push([[0],{189:function(e,t,n){},217:function(e,t,n){},369:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(42),i=n.n(r),s=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,442)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},o=n(427),l=n(428),j=n(374),d=(n(174),n(434)),b=n(135),u=n(14),O=n(3),x=n(1),p=Object(c.createContext)(),m={id:null,nom:null,prenom:null,isAuthenticated:!1,telephone:null,email:null,cin:null,sexes:null,photo:null,fonctionnalite:"",idMedecin:null},h=function(e){var t=localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user"))||m,n=Object(c.useState)(t),a=Object(O.a)(n,2),r=a[0],i=a[1];return Object(x.jsx)(p.Provider,Object(u.a)({value:{user:r,setUser:i,cleanUser:function(){localStorage.clear(),i({})}}},e))},g=n(44),f=n(38),v=n(168),S=n(404),C=n(388),y=n(436),_=n(167),z=n(375),k=n(387),P=n(91),I=function(e,t){var n=e.path,c=Object(f.g)(),a=n.split("/");return a.shift(),Object(x.jsx)(k.a,Object(u.a)(Object(u.a)({fontSize:"lg"},t),{},{separator:Object(x.jsx)(C.a,{as:P.a,color:"gray.400",fontSize:"md",top:"2px",pos:"relative"}),children:a.map((function(e){return Object(x.jsx)(k.b,{color:"inherit",children:Object(x.jsx)(k.c,{onClick:function(){"dashboard"!=e?c.push(e):c.push("/dashboard")},children:e.charAt(0).toUpperCase()+e.slice(1)})},e)}))}))},w=function(e){return Object(x.jsx)(C.a,Object(u.a)(Object(u.a)({overflowY:"auto",height:"85vh",minH:"px",maxH:"full"},e),{},{sx:{"&::-webkit-scrollbar-track":{bg:"transparent"},"&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-thumb":{bg:Object(v.d)("green.500","gray.700"),borderRadius:"20px"}}}))},E=n(438),A=n(18),M=n(389),F=n(390),D=function(e){Object(f.h)().pathname;var t=Object(f.g)(),n=e.children,c=e.linkto,a=e.icon,r=void 0===a?Object(x.jsx)(V,{}):a,i=e.avatar,s=e.isActive,o=Object(A.a)(e,["children","linkto","icon","avatar","isActive"]);return Object(x.jsx)(C.a,Object(u.a)(Object(u.a)({as:"a",marginEnd:"2",fontSize:"sm",color:"white",bgColor:s?Object(v.d)("green.300","gray.600"):"",onClick:function(){return t.push("/dashboard/"+c)},display:"block",px:"3",py:"2",rounded:"md",cursor:"pointer",_hover:{color:"white",bg:Object(v.d)("green.300","gray.600")},className:"group",fontWeight:"medium",transition:"background .1s ease-out"},o),{},{children:Object(x.jsxs)(E.a,{fontSize:"md",children:[Object(x.jsx)(C.a,{opacity:i?1:.5,_groupHover:{opacity:1},children:i||r}),Object(x.jsx)(M.a,{children:n})]})}))},V=Object(F.a)({viewBox:"0 0 16 16",path:Object(x.jsx)("path",{d:"M3.38974 12.6633L9.42974 12.6633C9.86308 12.6633 10.2697 12.4567 10.5164 12.1033L13.1497 8.39C13.3164 8.15667 13.3164 7.85 13.1497 7.61667L10.5097 3.89667C10.2697 3.54334 9.86308 3.33667 9.42974 3.33667L3.38974 3.33667C2.84974 3.33667 2.53641 3.95667 2.84974 4.39667L5.42974 8.00334L2.84974 11.61C2.53641 12.05 2.84974 12.6633 3.38974 12.6633V12.6633Z",fill:"currentcolor"})}),T=n(34),L=n(35),R=function(){var e=Object(c.useContext)(p),t=e.user,n=e.cleanUser,r=Object(f.g)(),i=Object(f.h)().pathname,s=[],o=[{url:"Dashboard",icon:Object(x.jsx)(L.a,{fontSize:"20px"})},{url:"Historiques",icon:Object(x.jsx)(L.c,{fontSize:"20px"})},{url:"Trouver un m\xe9decin",icon:Object(x.jsx)(T.i,{fontSize:"20px"})},{url:"Mes rendez vous",icon:Object(x.jsx)(T.c,{fontSize:"20px"})},{url:"Mes m\xe9decins",icon:Object(x.jsx)(T.e,{fontSize:"20px"})}];"patient"==t.fonctionnalite?s=o:"medecin"==t.fonctionnalite?s=[{url:"Dashboard",icon:Object(x.jsx)(L.a,{fontSize:"20px"})},{url:"Mes patients",icon:Object(x.jsx)(T.d,{fontSize:"20px"})},{url:"Consultation",icon:Object(x.jsx)(L.d,{fontSize:"20px"})},{url:"Mod\xe8le de certificat",icon:Object(x.jsx)(L.b,{fontSize:"20px"})},{url:"Liste d'actes",icon:Object(x.jsx)(L.i,{fontSize:"20px"})},{url:"Liste medicament",icon:Object(x.jsx)(L.j,{fontSize:"20px"})}]:"secretaire"==t.fonctionnalite&&(s=[{url:"Dashboard",icon:Object(x.jsx)(L.a,{fontSize:"20px"})},{url:"Mes patients",icon:Object(x.jsx)(T.d,{fontSize:"20px"})},{url:"Mod\xe8le de certificat",icon:Object(x.jsx)(L.b,{fontSize:"20px"})},{url:"Liste d'actes",icon:Object(x.jsx)(L.i,{fontSize:"20px"})},{url:"Liste medicament",icon:Object(x.jsx)(L.j,{fontSize:"20px"})},{url:"Mon historiques",icon:Object(x.jsx)(L.c,{fontSize:"20px"})},{url:"Mes rendez vous",icon:Object(x.jsx)(T.c,{fontSize:"20px"})},{url:"Mes m\xe9decins",icon:Object(x.jsx)(T.e,{fontSize:"20px"})},{url:"Trouver un m\xe9decin",icon:Object(x.jsx)(T.i,{fontSize:"20px"})}]);var l="/dashboard"==i?i:i.split("/dashboard/")[1];return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(C.a,{mb:{base:"70px"},children:s.map((function(e){return Object(x.jsx)(D,{linkto:"Dashboard"==e.url?"":e.url,icon:e.icon,isActive:!!l&&-1!==l.toLowerCase().indexOf(e.url.toLowerCase()),children:e.url},e.url)}))}),Object(x.jsx)(C.a,{pos:"fixed",w:{base:"62%",md:"50%"},bottom:{base:"20px",md:"24px"},left:{base:"72px",md:"95px"},children:Object(x.jsx)(E.b,{rounded:8,children:Object(x.jsx)(D,{bgColor:"gray.600",_hover:{bgColor:"gray.300",color:"black"},onClick:function(){n(),r.push("/login")},icon:Object(x.jsx)(T.b,{}),fontSize:"xlx",p:4,children:"Se d\xe9connecter"})})})]})},q=n(391),N=n(220),W=n.n(N),B=n(221),H="http://192.168.137.1:8000",U=Date.now(),K=B.Md5.hashStr("pfetbiby2020"+U+navigator.userAgent).toString(),Z=(new d.a,W.a.create({baseURL:H+"/api/",headers:{"X-Authorization-Time":U,"X-Authorization-Token":K}})),J=function(){var e=Object(c.useContext)(p).user,t=Object(f.g)();e.photo;return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsx)(C.a,{as:"div",p:"3",display:"block",transition:"background 0.1s",rounded:"xl",_hover:{bg:"whiteAlpha.200"},whiteSpace:"nowrap",onClick:function(){t.push("/dashboard/gestion de compte")},children:Object(x.jsxs)(E.a,{children:[Object(x.jsx)(q.a,{size:"md",src:e.photo?"".concat(H).concat(e.photo):"",name:e.nom+" "+e.prenom}),Object(x.jsx)(C.a,{lineHeight:"1",children:Object(x.jsx)(M.a,{fontWeight:"semibold",children:e.nom+" "+e.prenom})}),Object(x.jsx)(C.a,{size:"lg",mr:8,right:"0px",children:Object(x.jsx)(T.f,{})})]})})})},$=n(26),Y=n(431),X=n(372),G=n(102),Q=n(405),ee=n(238),te=n(440),ne=n(406),ce=n(225),ae=n(21),re=n(134),ie=n.n(re),se=n(9),oe=(n(188),n(189),n(392)),le=function(e){var t,n=Object(c.useState)(new Date),r=Object(O.a)(n,2),i=r[0],s=r[1],o=Object(se.b)(e),l=(o.errorMessage,o.id),j=(o.isValid,o.isSubmitted,o.setValue),d=o.value,b=e.label,u=(e.type,e.required),p=(e.note,e.dValue),m=e.SyncWithVariable,h=a.a.useState(!0),g=Object(O.a)(h,2),f=(g[0],g[1]);return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsxs)(G.a,{children:[Object(x.jsxs)(oe.a,{htmlFor:l,children:[b,!!u&&" *"]}),Object(x.jsx)(ie.a,(t={selected:i,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",id:l,onBlur:function(){return f(!0)},dateFormat:"yyyy-MM-dd"},Object(ae.a)(t,"selected",i),Object(ae.a)(t,"value",d||p),Object(ae.a)(t,"onChange",(function(e){m&&m(e),j(e.toISOString().slice(0,10),s(e))})),t))]})})},je=n(393),de=function(e){var t=Object(se.b)(e),n=t.errorMessage,r=t.id,i=t.isValid,s=t.isSubmitted,o=t.setValue,l=t.value,j=e.label,d=e.type,b=e.required,u=e.note,p=e.Placeholder,m=e.dtValue,h=a.a.useState(!1),g=Object(O.a)(h,2),f=g[0],v=g[1],S=!i&&(f||s);return Object(c.useEffect)((function(){o(m)}),[m]),Object(x.jsxs)(G.a,{children:[Object(x.jsxs)(oe.a,{htmlFor:r,children:[j,!!b&&" *"]}),Object(x.jsx)(je.a,{id:r,type:d||"text",placeholder:p||j,value:l||m||"",onChange:function(e){return o(e.target.value)},onBlur:function(){return v(!0)},"aria-invalid":S,"aria-required":!!b,"aria-describedby":S?"".concat(r,"-error"):null}),S&&Object(x.jsx)(M.a,{id:"".concat(r,"-error"),color:"tomato",children:n}),u&&Object(x.jsx)(G.b,{id:"".concat(r,"-note"),children:u})]})},be=n(396),ue=n(397),Oe=n(394),xe=n(395),pe=function(e){var t=Object(c.useState)(!1),n=Object(O.a)(t,2),r=n[0],i=n[1],s=Object(se.b)(e),o=s.errorMessage,l=s.id,j=s.isValid,d=s.isSubmitted,b=s.setValue,u=s.value,p=e.label,m=e.required,h=e.note,g=a.a.useState(!1),f=Object(O.a)(g,2),v=f[0],S=f[1],C=!j&&(v||d);return Object(x.jsxs)(G.a,{children:[Object(x.jsxs)(oe.a,{htmlFor:l,children:[p,!!m&&" *"]}),Object(x.jsxs)(Oe.a,{children:[Object(x.jsx)(je.a,{id:l,type:r?"text":"password",value:null!==u&&void 0!==u?u:"",onChange:function(e){return b(e.target.value)},onBlur:function(){return S(!0)},"aria-invalid":C,"aria-required":!!m,"aria-describedby":C?"".concat(l,"-error"):null}),Object(x.jsx)(xe.b,{children:Object(x.jsx)(ce.a,{bgColor:"transparent",size:"sm",onClick:function(){return i(!r)},children:r?Object(x.jsx)(be.a,{}):Object(x.jsx)(ue.a,{})})})]}),C&&Object(x.jsxs)(M.a,{id:"".concat(l,"-error"),color:"tomato",children:["\ud83d\udd75 ",o]}),h&&Object(x.jsx)(G.b,{id:"".concat(l,"-note"),children:h})]})},me=n(398),he=function(e){var t=e.title,n=e.children,c=Object(A.a)(e,["title","children"]);return Object(x.jsxs)(E.b,Object(u.a)(Object(u.a)({direction:{base:"column",md:"row"},spacing:"6",py:"4"},c),{},{children:[Object(x.jsx)(C.a,{children:t&&Object(x.jsx)(me.a,{as:"h2",fontWeight:"semibold",fontSize:"lg",flexShrink:0,children:t})}),n]}))},ge=function(e){var t=e.gcInfo,n=e.age;return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsx)(he,{title:"information sp\xe9cifique",children:Object(x.jsxs)(E.c,{width:"full",spacing:"6",children:[n()>18?"":Object(x.jsx)(de,{name:"parent",label:"Repr\xe9sentant l\xe9gal",Placeholder:t.parent}),Object(x.jsx)(de,{name:"Code_APCI",label:"Code APCI",Placeholder:t.Code_APCI,validations:[{rule:Object($.d)(),message:"Le code-APCI ne contient que des chiffres"}]}),Object(x.jsx)(de,{name:"Adresse",label:"Adresse",dtValue:t.Adresse,Placeholder:t.Adresse})]})})})},fe=n(236),ve=function(e){var t=Object(c.useState)(0),n=Object(O.a)(t,2),r=(n[0],n[1],Object(se.b)(e)),i=r.errorMessage,s=r.id,o=r.isValid,l=r.isSubmitted,j=r.setValue,d=r.value,b=e.data,p=e.name,m=e.label,h=e.note,g=e.required,f=a.a.useState(!1),S=Object(O.a)(f,2),C=S[0],y=S[1],_=!o&&(C||l),z={control:function(e){return Object(u.a)(Object(u.a)({},e),{},{backgroundColor:"white"})},option:function(e,t){t.data;var n=t.isDisabled,c=t.isFocused;t.isSelected;return Object(u.a)(Object(u.a)({},e),{},{backgroundColor:c?Object(v.d)("green","teal"):"white",color:c?"#FFF":"#000",cursor:n?"not-allowed":"default"})}};return Object(x.jsxs)(G.a,{children:[Object(x.jsxs)(oe.a,{htmlFor:s,children:[m," ",!!g&&" *"]}),Object(x.jsx)(fe.a,{id:s,isSearchable:!0,value:null!==d&&void 0!==d?d:"",name:p,placeholder:d,onChange:function(e){return function(e){j(e)}(e)},options:b,onBlur:function(){return y(!0)},styles:z}),_&&Object(x.jsx)(M.a,{id:"".concat(s,"-error"),color:"tomato",children:i}),h&&Object(x.jsx)(G.b,{id:"".concat(s,"-note"),children:h})]})},Se=n(435),Ce=n(441),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);return Object(Se.a)("domaine",(function(){return Z.get("dom")}),t)},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.params,Object(A.a)(e,["params"]));return Object(Ce.a)((function(e){var t=e.domaine_id;return Z.post("sousdom",{domaine_id:t})}),t)},ze=function(e){var t=Object(se.b)(e),n=t.errorMessage,c=t.id,r=t.isValid,i=t.isSubmitted,s=t.setValue,o=t.value,l=e.label,j=e.type,d=e.required,b=e.note,u=a.a.useState(!1),p=Object(O.a)(u,2),m=p[0],h=p[1],g=!r&&(m||i);return Object(x.jsxs)(G.a,{mt:5,children:[Object(x.jsxs)(oe.a,{htmlFor:c,children:[l,!!d&&" *"]}),Object(x.jsx)(je.a,{id:c,type:j||"text",value:null!==o&&void 0!==o?o:"",onChange:function(e){return s(e.target.value)},onBlur:function(){return h(!0)},"aria-invalid":g,"aria-required":!!d,"aria-describedby":g?"".concat(c,"-error"):null}),g&&Object(x.jsxs)(M.a,{id:"".concat(c,"-error"),color:"tomato",children:["\ud83d\udd75 ",n]}),b&&Object(x.jsx)(G.b,{id:"".concat(c,"-note"),children:b})]})},ke=n(400),Pe=n(439),Ie=n(48),we=function(e){var t,n=e.refetch,r=Object(Y.a)(),i=(t={onError:function(e){r({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){d(),r({title:"Acte ajout\xe9 avec succ\xe8s",description:"Vous pouvez le choisir \xe0 partir de la liste",status:"success",duration:"4000",isClosable:!0}),n()}},Object(Ce.a)((function(e){var t=e.nom;return Z.post("ad",{nom:t})}),t)),s=i.mutate,o=(i.isLoading,Object(ke.a)()),l=o.isOpen,j=o.onOpen,d=o.onClose,b=Object(c.useRef)(),u=Object(se.c)();u.values;return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(ce.a,{mx:2,position:"relative",top:"31px",ref:b,colorScheme:Object(v.d)("green","teal"),onClick:j,children:"Ajouter"}),Object(x.jsx)(Pe.a,{isOpen:l,placement:"right",onClose:d,finalFocusRef:b,children:Object(x.jsx)(Ie.h,{children:Object(x.jsxs)(Pe.b,{children:[Object(x.jsx)(Ie.c,{}),Object(x.jsx)(Ie.g,{children:"Ajout acte"}),Object(x.jsx)(Ie.b,{children:Object(x.jsx)(se.a,{connect:u,onValidSubmit:function(e){s(e)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:u.submit,multiple:!0,children:[Object(x.jsx)(ze,{name:"nom",label:"Domaine",required:"Il est requis de compl\xe9ter le champ correspondant au domaine",validations:[{rule:Object($.e)("^[a-zA-Z ]*$"),message:"Le nom ne contient que des lettres"}]}),Object(x.jsxs)(C.a,{m:2,children:[Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:d,children:"Annuler"}),Object(x.jsxs)(ce.a,{w:"40%",type:"submit",borderColor:"green.500",disabled:!u.isValid,children:["Enregistrer",u.isValid?"\ud83d\udc4c":""]})]})]})})}),Object(x.jsx)(Ie.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:d,children:"Annuler"})})]})})})]})},Ee=function(e){var t,n=e.mutateSousD,r=e.domaine,i=Object(Y.a)(),s=(t={onError:function(e){i({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){i({title:"Sous domaine ajout\xe9 avec succ\xe8s",description:"Vous pouvez le choisir \xe0 partir de la liste",status:"success",duration:"4000",isClosable:!0}),n({domaine_id:r}),b()}},Object(Ce.a)((function(e){var t=e.nom,n=e.domaine_id;return Z.post("asd",{nom:t,domaine_id:n})}),t)),o=s.mutate,l=(s.isLoading,Object(ke.a)()),j=l.isOpen,d=l.onOpen,b=l.onClose,u=Object(c.useRef)(),O=Object(se.c)();O.values;return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(ce.a,{mx:2,position:"relative",top:"31px",ref:u,colorScheme:Object(v.d)("green","teal"),onClick:d,children:"Ajouter"}),Object(x.jsx)(Pe.a,{isOpen:j,placement:"right",onClose:b,finalFocusRef:u,children:Object(x.jsx)(Ie.h,{children:Object(x.jsxs)(Pe.b,{children:[Object(x.jsx)(Ie.c,{}),Object(x.jsx)(Ie.g,{children:"Ajout Sous-domaine"}),Object(x.jsx)(Ie.b,{children:Object(x.jsx)(se.a,{connect:O,onValidSubmit:function(e){e.domaine_id=r,o(e)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:O.submit,multiple:!0,children:[Object(x.jsx)(ze,{name:"nom",label:"Sous Domaine",required:"Il est requis de compl\xe9ter le champ correspondant au sous-domaine",validations:[{rule:Object($.e)("^[a-zA-Z ]*$"),message:"Le nom ne contient que des lettres"}]}),Object(x.jsxs)(C.a,{m:2,children:[Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:b,children:"Annuler"}),Object(x.jsxs)(ce.a,{w:"40%",type:"submit",borderColor:"green.500",disabled:!O.isValid,children:["Enregister",O.isValid?"\ud83d\udc4c":""]})]})]})})}),Object(x.jsx)(Ie.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:b,children:"Annuler"})})]})})})]})},Ae=function(e){var t=e.gcInfo,n=e.valueForm,r=Object(c.useState)([]),i=Object(O.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)([]),j=Object(O.a)(l,2),d=j[0],b=j[1],u=Object(c.useState)(0),p=Object(O.a)(u,2),m=p[0],h=p[1],g=Object(Y.a)(),f=ye({onError:function(e){g({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){o(e.data)}}),v=(f.isLoading,f.refetch),y={id:n.SelectDomaine},_=_e({param:y,onError:function(e){g({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){b(e.data)}}),z=(_.isLoading,_.mutate);return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsx)(he,{title:"Information sp\xe9cifique",children:Object(x.jsxs)(E.c,{width:"full",spacing:"6",children:[Object(x.jsx)(de,{name:"adresse_physique",label:"Adresse",Placeholder:t.adresse_physique}),Object(x.jsxs)(S.a,{w:"100%",children:[Object(x.jsx)(ve,{data:s,label:"Domaine",onChange:function(e){h(e.value),b([]),z({domaine_id:e.value})},name:"SelectDomaine"}),Object(x.jsx)(C.a,{children:Object(x.jsx)(we,{refetch:v})})]}),Object(x.jsxs)(S.a,{w:"100%",children:[Object(x.jsx)(ve,{onChange:function(){return v()},data:d,label:"Sous Domaine",name:"selectSousDomaine"}),Object(x.jsx)(C.a,{display:0!=m?"":"none",children:Object(x.jsx)(Ee,{mutateSousD:z,domaine:m})})]}),Object(x.jsx)(de,{name:"secretaire",label:"Secr\xe9taire",note:"Entrez le cin ou le num\xe9ro de t\xe9l\xe9phone ou l'email de la secr\xe9taire. Pour supprimer vous devez \xe9crire 'supprimer'",Placeholder:t.secretaire})]})})})},Me=function(e){var t=Object(se.b)(e),n=t.errorMessage,c=t.id,r=t.isValid,i=t.isSubmitted,s=e.label,o=(e.type,e.required),l=e.note,j=e.Placeholder,d=(e.pictures,e.setPictures),b=a.a.useState(!1),u=Object(O.a)(b,2),p=u[0],m=u[1],h=!r&&(p||i);return Object(x.jsxs)(G.a,{children:[Object(x.jsx)(oe.a,{htmlFor:c,children:Object(x.jsxs)(ce.a,{leftIcon:Object(x.jsx)(P.b,{}),onClick:function(){document.getElementById(c).click()},children:["Changer la photo ",!!o&&" *"]})}),Object(x.jsx)("input",{id:c,type:"file",placeholder:j||s,onChange:function(e){return function(e){d(e.target.files[0])}(e)},onBlur:function(){return m(!0)},"aria-invalid":h,"aria-required":!!o,"aria-describedby":h?"".concat(c,"-error"):null,style:{display:"none"}}),h&&Object(x.jsx)(M.a,{id:"".concat(c,"-error"),color:"tomato",children:n}),l&&Object(x.jsx)(G.b,{id:"".concat(c,"-note"),children:l})]})},Fe=function(){var e,t,n=Object(c.useState)(null),r=Object(O.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(null),l=Object(O.a)(o,2),j=l[0],d=l[1],b=Object(c.useContext)(p),m=b.user,h=b.setUser,g=(e={onError:function(e){P({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){w();var t=Object(u.a)(Object(u.a)({},m),e.data);localStorage.setItem("user",JSON.stringify(t)),h(t);for(var n="",c=0,a=Object.entries(e.data);c<a.length;c++){var r=Object(O.a)(a[c],2),i=(r[0],r[1]);n+="|  ".concat(i," |  ")}P(""!=n?{title:"Erreur sous la forme",description:n,status:"success",duration:"4000",isClosable:!0}:{title:"Mise \xe0 jour r\xe9ussie",status:"success",duration:"4000",isClosable:!0})}},Object(Ce.a)((function(e){return Z({method:"POST",url:H+"/api/ucp",data:e})}),e)),f=g.mutate,S=g.isLoading,y=Object(c.useState)({}),_=Object(O.a)(y,2),z=_[0],k=_[1],P=Object(Y.a)(),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)("gcf",(function(){return Z.get("gcf",{params:t})}),n)}({params:{id:m.id},onError:function(e){P({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){console.log(e),console.log("user"),console.log(m);var t=Object(u.a)({},e.data);t.isAuthenticated=!0,t.fonctionnalite=m.fonctionnalite,h(t),k(e.data),R(t.sexes)}}),w=(I.isLoading,I.refetch),F=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),c=1;c<t;c++)n[c-1]=arguments[c];return Object(Ce.a)((function(e){return Z.post("rmpp",e)}),n)}({onError:function(e){P({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){w()}}),D=F.mutate,V=(F.isLoading,a.a.useState()),T=Object(O.a)(V,2),L=T[0],R=T[1],N=Object(se.c)(),W=N.values;return(t=i,new Promise((function(e,n){var c=new FileReader;c.readAsDataURL(t),c.onload=function(){return e(c.result)},c.onerror=function(e){return n(e)}}))).then((function(e){return d(e)})).catch((function(e){return console.log(e)})),Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(X.a,{display:S?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{px:{base:"4",md:"3",lg:"10"},py:"16",mx:"auto",display:S?"none":"",children:Object(x.jsx)(se.a,{connect:N,onValidSubmit:function(e){e.id=m.id,e.sexes=L,e.id_cms_privileges=m.fonctionnalite,e.photo=i,e.SelectDomaine&&(e.SelectDomaine=e.SelectDomaine.value),e.selectSousDomaine&&(e.selectSousDomaine=e.selectSousDomaine.value);var t=new FormData;Object.keys(e).map((function(n,c){t.append(n,e[n])})),f(t)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:N.submit,multiple:!0,children:[Object(x.jsx)(he,{title:"informations g\xe9n\xe9rales",children:Object(x.jsxs)(E.c,{width:"full",spacing:"6",children:[Object(x.jsx)(de,{name:"nom",label:"Nom",validations:[{rule:Object($.e)("^[a-zA-Z ]*$"),message:"Le nom ne contient que des lettres"}],Placeholder:z.nom}),Object(x.jsx)(de,{name:"prenom",label:"Pr\xe9nom",Placeholder:z.prenom,validations:[{rule:Object($.e)("^[a-zA-Z ]*$"),message:"Le prenom ne contient que des lettres"}]}),Object(x.jsx)(G.a,{children:Object(x.jsx)(Q.a,{children:Object(x.jsx)(ee.a,{onChange:R,value:L,name:"sexes",children:Object(x.jsxs)(E.b,{direction:"row",size:"lg",children:[Object(x.jsx)(te.a,{value:"homme",_selected:!0,py:3,px:10,children:"Homme \ud83d\udc68\u200d\ud83e\uddb0"}),Object(x.jsx)(te.a,{value:"femme",py:3,px:10,children:"Femme \ud83d\udc69\u200d\ud83e\uddb0"})]})})})}),Object(x.jsx)(le,{name:"date_naissance",label:"Date de naissance",dValue:z.date_naissance}),Object(x.jsx)(de,{name:"cin",label:"C.I.N",Placeholder:z.cin,validations:[{rule:Object($.d)(),message:"La carte d'identit\xe9 ne contient que des chiffres"},{rule:Object($.b)(8),message:"La carte d'identit\xe9 doit \xeatre constitu\xe9e  de 8 chiffres"},{rule:function(e){return!!e||!!W.email||!!W.telephone},message:"La carte d'identit\xe9 doit \xeatre constitu\xe9e  de 8 chiffres",deps:[W.email,W.telephone]}]}),Object(x.jsx)(de,{name:"telephone",label:"T\xe9l\xe9phone",Placeholder:z.telephone,validations:[{rule:Object($.d)(),message:"La num\xe9ro de t\xe9l\xe9phone  ne contient que des chiffres"},{rule:Object($.b)(8),message:"La num\xe9ro de t\xe9l\xe9phone doit \xeatre constitu\xe9e  de 8 chiffres"},{rule:function(e){return!!e||!!W.cin||!!W.email},message:"La num\xe9ro de t\xe9l\xe9phone doit \xeatre constitu\xe9e  de 8 chiffres",deps:[W.cin,W.email]}]}),Object(x.jsx)(de,{name:"email",label:"E-mail",Placeholder:z.email,validations:[{rule:Object($.a)(),message:"Veuillez v\xe9rifier le format de l'E-mail(doit contenir @ et .)"},{rule:function(e){return!!e||!!W.cin||!!W.telephone},message:'Le champ E-mail doit contenir "@" et "."',deps:[W.cin,W.telephone]}]}),Object(x.jsx)(pe,{name:"password",label:"Mot de passe",type:"password",validations:[{rule:Object($.c)(6),message:"Le mot de passe doit contenir au moins 6 caract\xe8res"}]})]})}),Object(x.jsx)(ne.a,{}),Object(x.jsx)(he,{title:"Photo de Profil",children:Object(x.jsxs)(E.c,{direction:"row",spacing:"10",align:"center",width:"full",children:[Object(x.jsx)(q.a,{size:"xl",name:z.nom+" "+z.prenom,src:j||z.photo&&"".concat(H).concat(z.photo)}),Object(x.jsxs)(C.a,{children:[Object(x.jsxs)(E.a,{spacing:"5",children:[Object(x.jsx)(Me,{pictures:i,setPictures:s,name:"photo",label:"photo"}),Object(x.jsx)(ce.a,{display:z.photo||j?"block":"none",variant:"ghost",colorScheme:"red",onClick:function(){j&&d(null,s(null))||D({id:m.id}),w()},children:"Effacer"})]}),Object(x.jsx)(M.a,{fontSize:"sm",mt:"3",color:Object(v.d)("gray.500","whiteAlpha.600"),children:".jpg, .gif, or .png."})]})]})}),Object(x.jsx)(ne.a,{}),"patient"==m.fonctionnalite?Object(x.jsx)(ge,{gcInfo:z,age:function(){return Math.abs(new Date(Date.now()-new Date(W.date_naissance||z.date_naissance).getTime()).getUTCFullYear()-1970)}}):"","medecin"==m.fonctionnalite?Object(x.jsx)(Ae,{valueForm:W,gcInfo:z}):"",Object(x.jsx)(G.a,{mt:5,align:"center",children:Object(x.jsxs)(ce.a,{w:"40%",type:"submit",borderColor:"green.500",disabled:!N.isValid,children:["Sauvegarder",N.isValid?"\ud83d\udc4c":""]})})]})})})]})},De=function(e){var t=e.isAuth,n=Object(A.a)(e,["isAuth"]);return Object(c.useContext)(p).user.isAuthenticated?t?Object(x.jsx)(f.b,Object(u.a)({exact:!0},n)):Object(x.jsx)(f.a,{to:{pathname:"/dashboard"}}):Object(x.jsx)(f.a,{to:{pathname:"/login"}})},Ve=De,Te=n(230),Le=n(226),Re=function(e){var t=e.chercherFn,n=e.buttonText,a=e.buttonIcon,r=e.buttonhoverTesxt,i=e.inputhoverTesxt,s=Object(c.useState)(""),o=Object(O.a)(s,2),l=o[0],j=o[1];return Object(x.jsx)(E.b,{pt:10,spacing:"4",direction:{base:"column",md:"row"},justify:"space-between",children:Object(x.jsxs)(Te.a,{templateColumns:"repeat(2, 1fr)",w:"100%",gap:2,children:[Object(x.jsx)(y.a,{label:i||"","aria-label":i||"",children:Object(x.jsx)(G.a,{w:"100%",id:"search",children:Object(x.jsxs)(Oe.a,{size:"sm",children:[Object(x.jsx)(oe.a,{srOnly:!0,children:"Filtrer par nom ou par e-mail"}),Object(x.jsx)(xe.a,{pointerEvents:"none",color:"gray.400",children:Object(x.jsx)(T.i,{})}),Object(x.jsx)(je.a,{rounded:"base",type:"search",onChange:function(e){return j(e.target.value)},placeholder:"Filtrer"})]})})}),Object(x.jsx)(y.a,{label:r||"","aria-label":r||"",children:Object(x.jsx)(Le.a,{size:"sm",variant:"outline",children:Object(x.jsx)(ce.a,{w:"100%",onClick:function(){return t(l)},iconSpacing:"1",leftIcon:a,children:n})})})]})})},qe=n(407),Ne=function(e){var t=e.header,n=e.content,a=e.fntable,r=e.message;return Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)(C.a,{display:n&&0!=n.length?"none":"",maxW:"2xl",mx:"auto",px:{base:"6",lg:"8"},py:{base:"16",sm:"20"},textAlign:"center",children:r?r():Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(me.a,{as:"h2",size:"lg",fontWeight:"extrabold",letterSpacing:"tight",children:"Vous n'avez aucune information"})})}),Object(x.jsxs)(qe.a,{overflowX:"scroll",w:"100%",display:0==n.length?"none":"",my:"8",borderWidth:"1px",fontSize:"sm",children:[Object(x.jsx)(qe.e,{bg:Object(v.d)("green.100","gray.800"),children:Object(x.jsxs)(qe.f,{textAlign:"center",children:[t.map((function(e,t){return Object(x.jsx)(qe.d,{maxW:"10%",whiteSpace:"normal",scope:"col",color:Object(v.d)("green.900","gray.50"),children:e},t)})),a?Object(x.jsx)(qe.d,{textAlign:"center",color:Object(v.d)("green.900","gray.50"),children:"acte"}):""]})}),Object(x.jsx)(qe.b,{children:n.map((function(e,n){return Object(x.jsxs)(qe.f,{whiteSpace:"normal",children:[Object.values(e).slice(1).map((function(e,n){return n<Object.values(t).length?Object(x.jsx)(qe.c,{maxW:"100px",whiteSpace:"normal",children:e},n):null})),a?Object(x.jsxs)(qe.c,{textAlign:"right",children:[Object(x.jsxs)(C.a,{textAlign:"center",children:[a?a.fn(e):"",a?!!a.fn2&&a.fn2(e):""]}),Object(x.jsx)(C.a,{textAlign:"center",children:a?!!a.fn3&&a.fn3(e):""})]}):""]},n)}))})]})]})},We=function(e){var t=e.total,n=e.prev_page_url,c=e.next_page_url,a=e.setPage,r=e.page;return Object(x.jsx)(C.a,{px:2,display:0==t?"none":"",children:Object(x.jsxs)(S.a,{align:"center",justify:"space-between",children:[Object(x.jsxs)(M.a,{color:Object(v.d)("green.600","gray.400"),fontSize:"sm",children:[t," Colonne"]}),Object(x.jsxs)(Le.a,{variant:"outline",size:"sm",children:[n?Object(x.jsx)(ce.a,{as:"a",onClick:function(){return a(r-1)},rel:"Pr\xe9c\xe9dente",children:"Pr\xe9c\xe9dente"}):"",Object(x.jsxs)(C.a,{m:1,children:[" Page ",r]}),c?Object(x.jsx)(ce.a,{as:"a",onClick:function(){return a(r+1)},rel:"Suivante",children:"Suivante"}):""]})]})})},Be=n(408),He=function(e){return Object(Ce.a)((function(e){var t=e.medecin_id,n=e.patient_id;return Z.post("rmp",{medecin_id:t,patient_id:n})}),e)},Ue=function(e){var t=Object(c.useContext)(p),n=t.user,r=(t.cleanUser,e.refetch),i=Object(c.useState)(""),s=Object(O.a)(i,2),o=s[0],l=s[1],j=He({onError:function(e){l("V\xe9rifiez les informations de contact ou la liste que vous avez ins\xe9r\xe9es")},onSuccess:function(e){l(""),r()}}),d=j.mutate,b=j.isLoading,u=Object(se.c)();return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsx)(se.a,{connect:u,onValidSubmit:function(e){e.medecin_id=n.id,d(e)},children:Object(x.jsx)("form",{noValidate:!0,onSubmit:u.submit,children:Object(x.jsx)(E.b,{spacing:"2",direction:{base:"column",md:"row"},justify:"space-between",children:Object(x.jsxs)(Be.a,{columns:2,spacing:1,w:"100%",children:[Object(x.jsx)(y.a,{label:"Entrez le cin, l'email ou le t\xe9l\xe9phone du patient","aria-label":"Entrez le cin, l'email ou le t\xe9l\xe9phone du patient",children:Object(x.jsxs)(G.a,{minW:{md:"320px"},id:"search",children:[Object(x.jsx)(de,{name:"patient_id",Placeholder:"ajouter un patient"}),Object(x.jsx)(M.a,{color:"tomato",children:o})]})}),Object(x.jsx)(y.a,{label:"ajouter un patient","aria-label":"ajouter un patient",children:Object(x.jsx)(Le.a,{size:"sm",variant:"outline",children:Object(x.jsxs)(ce.a,{position:"relative",top:"8px",type:"submit",fontSize:"20px",p:5,w:"100%",children:[Object(x.jsx)(X.a,{display:b?"":"none",color:"red.500"}),"Ajouter \ud83e\udd12"]})})})]})})})})})},Ke=n(62),Ze=n(409),Je=function(e){var t=Object(c.useContext)(p),n=t.user,a=(t.cleanUser,e.patient),r=Object(Y.a)(),i=n.id,s=Object(c.useState)(0),o=Object(O.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)(""),b=Object(O.a)(d,2),u=b[0],m=b[1],h=Object(c.useState)(""),g=Object(O.a)(h,2),f=g[0],v=g[1],S=Object(c.useState)(1),C=Object(O.a)(S,2),y=C[0],_=C[1],z=Object(c.useState)([[""]]),k=Object(O.a)(z,2),P=k[0],I=k[1],w={};w=n.email?{patient_id:a.id,page:y}:{medecin_id:i,patient_id:a.id,page:y},console.log(w);var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)(["hact",t],(function(){return Z.get("hact",{params:t})}),n)}({params:w,onError:function(e){r({title:":Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:4e3,isClosable:!0})},onSuccess:function(e){j(e.data.total),m(e.data.next_page_url),v(e.data.prev_page_url),I(e.data.data&&e.data.data||[])}}),F=M.isLoading;M.refetch;return Object(x.jsx)(x.Fragment,{children:F?Object(x.jsxs)(E.b,{mt:"40px",children:[Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Ne,{header:["Code","Designation","note","Date"],content:P}),Object(x.jsx)(We,{total:l,next_page_url:u,prev_page_url:f,page:y,setPage:_})]})})},$e=function(e){var t=Object(ke.a)(),n=t.isOpen,c=t.onOpen,r=t.onClose,i=e.patient,s=a.a.useRef();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ce.a,{ref:s,colorScheme:Object(v.d)("green","green"),onClick:c,children:"Acte"}),Object(x.jsxs)(Pe.a,{isOpen:n,placement:"left",size:"xl",onClose:r,finalFocusRef:s,children:[Object(x.jsx)(Ie.h,{}),Object(x.jsxs)(Pe.b,{bg:Object(v.d)("green.50","gray.700"),children:[Object(x.jsx)(Ie.c,{}),Object(x.jsx)(Ie.g,{children:"Acte"}),Object(x.jsx)(Ie.b,{children:Object(x.jsx)(Je,{patient:i})}),Object(x.jsx)(Ie.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:r,children:"Annuler"})})]})]})]})},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)(["pinfo",t],(function(){return Z.get("pinfo",{params:t})}),n)},Xe=n(432),Ge=n(411),Qe=n(412),et=n(69),tt=n(410),nt=function(e){var t=e.medecin,n=Object(c.useState)([]),r=Object(O.a)(n,2),i=r[0],s=r[1],o={id:t},l=Object(Y.a)(),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)(["medecininfo",t],(function(){return Z.get("medecininfo",{params:t})}),n)}({params:o,onError:function(e){l({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){s(e.data)}});j.isLoading,j.refetch;return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(M.a,{children:i.nom}),i.photo&&Object(x.jsx)(q.a,{size:"xl",name:i.nom,src:"".concat(H).concat(i.photo)}),Object(x.jsx)(M.a,{display:"block",as:"a",href:"tel:"+i.telephone,children:Object(x.jsx)(ce.a,{my:1,leftIcon:Object(x.jsx)(et.a,{}),colorScheme:"green",variant:"outline",children:"Appelles"})}),Object(x.jsx)(M.a,{as:"a",href:"mailto:"+i.email,children:Object(x.jsx)(ce.a,{my:1,colorScheme:"green",leftIcon:Object(x.jsx)(tt.a,{}),variant:"outline",children:"Email"})}),Object(x.jsx)(M.a,{children:i.sexes})]})},ct=function(e){var t=e.data;return Object(z.a)({base:!0,lg:!1})?Object(x.jsx)(M.a,{fontSize:"20px",color:Object(v.d)("green.700","gray.50"),m:1,children:Object(x.jsxs)(Xe.a,{children:[Object(x.jsx)(Xe.h,{children:Object(x.jsx)(M.a,{textAlign:"center",bgColor:Object(v.d)("green.100","gray.500"),_hover:{background:Object(v.d)("blue.100","gray.600")},style:{cursor:"pointer"},borderRadius:"20px",p:2,colorScheme:"green",children:"Description"})}),Object(x.jsxs)(Xe.e,{children:[Object(x.jsx)(Xe.b,{}),Object(x.jsx)(Xe.d,{}),Object(x.jsx)(Xe.g,{children:"Plus d'information"}),Object(x.jsx)(Xe.c,{children:t.description})]})]})}):null},at=function(e){var t=Object(z.a)({base:!0,lg:!1}),n=e.patient,r=Object(Y.a)(),i={patient_id:n.id},s=Object(c.useState)(0),o=Object(O.a)(s,2),l=o[0],j=(o[1],Object(c.useState)("")),d=Object(O.a)(j,2),b=d[0],u=(d[1],Object(c.useState)("")),p=Object(O.a)(u,2),m=p[0],h=(p[1],Object(c.useState)(1)),g=Object(O.a)(h,2),f=g[0],S=g[1],C=Object(c.useState)([]),_=Object(O.a)(C,2),k=_[0],P=_[1],I=Object(ke.a)(),w=I.isOpen,E=I.onOpen,F=I.onClose,D=["type","description","Date"];D=t?["type"]:["type","description","Date"];var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)("antecedants",(function(){return Z.get("antecedants",{params:t})}),n)}({params:i,onError:function(e){r({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){P(e.data.data)}}),L=V.isLoading,R=(V.refetch,Object(c.useState)({fn:function(e){return Object(x.jsx)(M.a,{fontSize:"20px",colorScheme:Object(v.d)("green.700","gray.50"),children:Object(x.jsxs)(Xe.a,{children:[Object(x.jsx)(Xe.h,{children:Object(x.jsx)(M.a,{textAlign:"center",bgColor:Object(v.d)("green.100","gray.500"),_hover:{background:Object(v.d)("blue.100","gray.600")},style:{cursor:"pointer"},borderRadius:"20px",p:2,colorScheme:"green",children:e.medecin})}),Object(x.jsxs)(Xe.e,{children:[Object(x.jsx)(Xe.b,{}),Object(x.jsx)(Xe.d,{}),Object(x.jsx)(Xe.g,{children:"Plus d'information"}),Object(x.jsx)(Xe.c,{children:Object(x.jsx)(nt,{medecin:e.medecin_id})})]})]})})},fn2:function(e){return Object(x.jsx)(ct,{data:e})}})),q=Object(O.a)(R,2),N=q[0];q[1];return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(ce.a,{colorScheme:Object(v.d)("green","green"),onClick:E,children:Object(x.jsx)(y.a,{label:"Trouver tous les ant\xe9c\xe9dents m\xe9dicaux","aria-label":"Trouver tous les ant\xe9c\xe9dents m\xe9dicaux",children:t?Object(x.jsx)(T.g,{fontSize:"30px"}):"Ant\xe9c\xe9dents"})}),Object(x.jsxs)(Pe.a,{placement:"left",size:"xl",onClose:F,isOpen:w,children:[Object(x.jsx)(Ie.h,{}),Object(x.jsxs)(Pe.b,{bg:Object(v.d)("green.50","gray.700"),children:[Object(x.jsxs)(Ie.g,{borderBottomWidth:"1px",children:["Antecedants",Object(x.jsx)(Ge.a,{float:"right",variant:"outline",size:"xs",m:1,colorScheme:"red",fontSize:"10px",icon:Object(x.jsx)(Qe.a,{}),onClick:function(){return F()}})]}),Object(x.jsx)(Ie.b,{display:L?"":"none",children:Object(x.jsx)(Ze.c,{mt:"7",noOfLines:7,spacing:"7"})}),Object(x.jsxs)(Ie.b,{display:L?"none":"",children:[Object(x.jsx)(Ne,{header:D,content:k,fntable:N}),Object(x.jsx)(We,{total:l,next_page_url:b,prev_page_url:m,page:f,setPage:S})]}),Object(x.jsx)(Ie.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:F,children:"Annuler"})})]})]})]})},rt=n(100),it=n.n(rt),st=function(e){var t=Object(c.useContext)(p).user,n=Object(c.useState)(""),r=Object(O.a)(n,2),i=r[0],s=r[1],o=Object(se.b)(e),l=o.errorMessage,j=o.id,d=o.isValid,b=o.isSubmitted,u=o.setValue,m=o.value,h=e.label,g=e.required,f=e.note,v=e.Placeholder,S=e.dtValue,C=e.Patient,y=e.editorRef,_=e.disabled,z=a.a.useState(!1),k=Object(O.a)(z,2),P=k[0],I=k[1],w=!d&&(P||b),E=Object(Y.a)(),A=Object(c.useState)({}),F=Object(O.a)(A,2),D=F[0],V=F[1],T={cms_users_id:C.id},L=Ye({params:T,onError:function(e){E({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){V(e.data)}}),R=(L.isLoading,L.refetch,function(e,t,n){return e.split(t).join(n)}),q=function(){var e=window.open("","PRINT");e.document.write(function(e){var n="homme"==t.sexes?"Mr.":"Mrs.",c="homme"==C.sexes?"Mr.":"Mrs.";return e=R(e,"{sexesPatient}",c),e=R(e,"{medecinNomPrenom}",t.nom+" "+t.prenom),e=R(e,"{patientNomPrenom}",D.nom+" "+D.prenom),e=R(e,"{addresPatient}",C.Adresse),e=R(e,"{sexesmedecin}",n),e=R(e,"{specialiteMedecin}",""),e=R(e,"{domaineMedecin}",""),e=R(e,"{datePatient}",D.date_naissance?new Date(D.date_naissance).toISOString().slice(0,10):""),e=R(e,"{thisDate}",(new Date).toISOString().slice(0,10)),R(e,"{agePatient}",D.date_naissance?Math.abs(new Date(Date.now()-new Date(D.date_naissance).getTime()).getUTCFullYear()-1970):"")}(i)),e.document.close(),e.focus(),e.addEventListener("afterprint",(function(t){e.close()})),e.print()};return Object(x.jsxs)(G.a,{children:[Object(x.jsx)(oe.a,{htmlFor:j,children:h}),Object(x.jsx)(it.a,{disable:!!_,ref:y,id:j,placeholder:v||"S'il vous pla\xeet \xe9crivez votre structure de certificat ici...",value:m||S||"",onBlur:function(){return I(!0)},"aria-invalid":w,"aria-required":!!g,"aria-describedby":w?"".concat(j,"-error"):null,lang:"fr",name:"my-editor",height:"auto",showToolbar:!0,values:i,onChange:function(e){s(e),u(e)},setOptions:{height:200,buttonList:[["undo","redo"],["font","fontSize","formatBlock",":p-More Paragraph-default.more_paragraph"],["paragraphStyle","blockquote"],["bold","underline","italic","strike","subscript","superscript"],["fontColor","hiliteColor","textStyle"],["align","horizontalRule","list","lineHeight"],["removeFormat"]]}}),w&&Object(x.jsx)(M.a,{id:"".concat(j,"-error"),color:"tomato",children:l}),Object(x.jsx)(Ge.a,{m:2,onClick:function(){return q()},variant:"outline",colorScheme:"teal","aria-label":"Send email",icon:Object(x.jsx)(Ke.b,{}),size:"lg"}),f&&Object(x.jsx)(G.b,{id:"".concat(j,"-note"),children:f})]})},ot=n(413),lt=function(e){var t=e.structure,n=e.patientId,a=Object(c.useRef)(),r=Object(ke.a)(),i=r.isOpen,s=r.onOpen,o=r.onClose,l=Object(c.useRef)(),j=(Object(c.useRef)(),Object(se.c)());return Object(c.useEffect)((function(){a.current&&a.current.editor.setContents(t)})),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ce.a,{onClick:s,colorScheme:Object(v.d)("green","green"),children:"Certificat"}),Object(x.jsxs)(ot.a,{motionPreset:"slideInBottom",leastDestructiveRef:l,onClose:o,isOpen:i,isCentered:!0,children:[Object(x.jsx)(Ie.h,{}),Object(x.jsxs)(ot.b,{minW:{md:"700px",lg:"90vw"},children:[Object(x.jsx)(Ie.g,{children:"Certificat"}),Object(x.jsx)(Ie.c,{}),Object(x.jsx)(Ie.b,{children:Object(x.jsx)(se.a,{connect:j,onValidSubmit:function(e){},children:Object(x.jsx)("form",{noValidate:!0,onSubmit:j.submit,children:Object(x.jsx)(st,{Patient:{id:n},disabled:!0,editorRef:a,name:"certif"})})})})]})]})]})},jt=function(e){var t=Object(c.useContext)(p),n=t.user,r=(t.cleanUser,e.patient),i=Object(Y.a)(),s=n.id,o=Object(c.useState)(0),l=Object(O.a)(o,2),j=l[0],d=l[1],b=Object(c.useState)(""),u=Object(O.a)(b,2),m=u[0],h=u[1],g=Object(c.useState)(""),f=Object(O.a)(g,2),v=f[0],S=f[1],C=Object(c.useState)(1),y=Object(O.a)(C,2),_=y[0],z=y[1],k=Object(c.useState)([[""]]),P=Object(O.a)(k,2),I=P[0],w=P[1],M=Object(c.useState)({fn:function(e){return Object(x.jsx)(lt,{structure:e.structure,patientId:e.patient_id})}}),F=Object(O.a)(M,2),D=F[0],V=(F[1],{medecin_id:s,patient_id:r.id,page:_}),T=(a.a.useRef(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)(["hcertif",t],(function(){return Z.get("hcertif",{params:t})}),n)}({params:V,onError:function(e){i({title:"Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:4e3,isClosable:!0})},onSuccess:function(e){d(e.data.total),h(e.data.next_page_url),S(e.data.prev_page_url),e.data.data!==[]&&w(e.data.data)}})),L=T.isLoading;T.refetch;return Object(x.jsx)(x.Fragment,{children:L?Object(x.jsxs)(E.b,{mt:"40px",children:[Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Ne,{header:["date"],content:I,fntable:D}),Object(x.jsx)(We,{total:j,next_page_url:m,prev_page_url:v,page:_,setPage:z})]})})},dt=function(e){var t=Object(ke.a)(),n=t.isOpen,c=t.onOpen,r=t.onClose,i=e.patient,s=a.a.useRef();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ce.a,{ref:s,colorScheme:Object(v.d)("green","green"),onClick:c,children:"Certificat"}),Object(x.jsxs)(Pe.a,{isOpen:n,placement:"left",size:"xl",onClose:r,finalFocusRef:s,children:[Object(x.jsx)(Ie.h,{}),Object(x.jsxs)(Pe.b,{bg:Object(v.d)("green.50","gray.700"),children:[Object(x.jsx)(Ie.c,{}),Object(x.jsx)(Ie.g,{children:"Certificat"}),Object(x.jsx)(Ie.b,{children:Object(x.jsx)(jt,{patient:i})}),Object(x.jsx)(Ie.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:r,children:"Annuler"})})]})]})]})},bt=n(433),ut=function(e){var t=Object(Y.a)(),n=e.data,a=Object(c.useState)({}),r=Object(O.a)(a,2),i=r[0],s=r[1],o=Object(c.useState)({}),l=Object(O.a)(o,2),j=l[0],d=l[1],b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)("Detatil Of Consultation",(function(){return Z.get("cd",{params:t})}),n)}({params:{id:n.id},onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){s(e.data.data.consultation),d(e.data.data.detail)}});b.isLoading,b.refetch;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(M.a,{pb:2,fontSize:"23px",children:null!=i?Object(x.jsxs)(x.Fragment,{children:["Diagnostic: ",i.Diagnostic]}):""}),Object(x.jsx)(M.a,{pb:2,fontSize:"23px",children:null!=i?Object(x.jsxs)(x.Fragment,{children:["Prix: ",i.prix]}):""}),Object(x.jsx)(M.a,{children:null!=j?Object(x.jsx)(Be.a,{minChildWidth:"100px",spacing:"10px",children:Object(x.jsx)(bt.a,{allowMultiple:!0,children:Object.keys(j).map((function(e){if(0!=j[e].length)return Object(x.jsxs)(bt.d,{children:[Object(x.jsxs)(bt.b,{bgColor:"green.100",children:[Object(x.jsx)(C.a,{flex:"1",textAlign:"left",fontSize:"30px",children:e}),Object(x.jsx)(bt.c,{})]}),Object(x.jsx)(bt.e,{pb:4,children:j[e].map((function(t){return Object(x.jsx)(C.a,{borderBottom:"1px",borderColor:"gray.200",pb:2,children:Object.keys(t).map((function(n){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(M.a,{children:"certificat"==e?Object(x.jsx)(lt,{structure:t.structure,patientId:t.patient_id}):Object(x.jsx)(x.Fragment,{children:null!=t[n]?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(M.a,{fontSize:"20px",children:[n,":"]}),Object(x.jsx)(M.a,{fontSize:"15px",children:t[n]})]}):""})})})}))})}))})]})}))})}):""})]})},Ot=function(e){var t=Object(z.a)({base:!0,lg:!1}),n=e.data,a=Object(ke.a)(),r=a.isOpen,i=a.onOpen,s=a.onClose,o=Object(c.useRef)();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ce.a,{ref:o,m:1,colorScheme:Object(v.d)("green","green"),onClick:i,children:t?Object(x.jsx)(L.e,{fontSize:"30px"}):" Historique Consultation"}),Object(x.jsx)(Pe.a,{size:"xl",isOpen:r,placement:"left",onClose:s,finalFocusRef:o,children:Object(x.jsx)(Ie.h,{children:Object(x.jsxs)(Pe.b,{bg:Object(v.d)("green.50","gray.700"),children:[Object(x.jsx)(Ie.c,{}),Object(x.jsx)(Ie.g,{children:"Historique consultation"}),Object(x.jsx)(Ie.b,{children:Object(x.jsx)(ut,{data:n})}),Object(x.jsx)(Ie.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:s,children:"Annuler"})})]})})})]})},xt=function(e){var t=Object(c.useContext)(p),n=t.user,r=(t.cleanUser,e.patient),i=Object(Y.a)(),s=n.id,o=Object(c.useState)(0),l=Object(O.a)(o,2),j=l[0],d=l[1],b=Object(c.useState)(""),u=Object(O.a)(b,2),m=u[0],h=u[1],g=Object(c.useState)(""),f=Object(O.a)(g,2),v=f[0],S=f[1],C=Object(c.useState)(1),y=Object(O.a)(C,2),_=y[0],z=y[1],k=Object(c.useState)([[""]]),P=Object(O.a)(k,2),I=P[0],w=P[1],M={};M=n.email?{patient_id:r.id,page:_}:{medecin_id:s,patient_id:r.id,page:_};a.a.useRef();var F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)("hex",(function(){return Z.get("hex",{params:t})}),n)}({params:M,onError:function(e){i({title:"Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:4e3,isClosable:!0})},onSuccess:function(e){d(e.data.total),h(e.data.next_page_url),S(e.data.prev_page_url),e.data.data!==[]&&w(e.data.data)}}),D=F.isLoading;F.refetch;return Object(x.jsx)(x.Fragment,{children:D?Object(x.jsxs)(E.b,{mt:"40px",children:[Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Ne,{header:["Note","Type","Prix"],content:I}),Object(x.jsx)(We,{total:j,next_page_url:m,prev_page_url:v,page:_,setPage:z})]})})},pt=function(e){var t=Object(c.useContext)(p),n=(t.user,t.cleanUser,Object(ke.a)()),r=n.isOpen,i=n.onOpen,s=n.onClose,o=e.patient,l=a.a.useRef();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ce.a,{ref:l,onClick:i,colorScheme:Object(v.d)("green","green"),children:"Examen"}),Object(x.jsxs)(Pe.a,{isOpen:r,placement:"left",size:"xl",onClose:s,finalFocusRef:l,children:[Object(x.jsx)(Ie.h,{}),Object(x.jsxs)(Pe.b,{bg:Object(v.d)("green.50","gray.700"),children:[Object(x.jsx)(Ie.c,{}),Object(x.jsx)(Ie.g,{children:"Examen"}),Object(x.jsx)(Ie.b,{children:Object(x.jsx)(xt,{patient:o})}),Object(x.jsx)(Ie.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:s,children:"Annuler"})})]})]})]})},mt=function(e){var t=Object(c.useContext)(p),n=t.user,r=(t.cleanUser,e.patient),i=Object(Y.a)(),s=(n.id,Object(c.useState)(0)),o=Object(O.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)(""),b=Object(O.a)(d,2),u=b[0],m=b[1],h=Object(c.useState)(""),g=Object(O.a)(h,2),f=g[0],S=g[1],C=Object(c.useState)(1),y=Object(O.a)(C,2),_=y[0],z=y[1],k=Object(c.useState)([[""]]),P=Object(O.a)(k,2),I=P[0],w=P[1],E={patient_id:r.id,page:_},F=(a.a.useRef(),Object(c.useState)({fn:function(e){return Object(x.jsx)(M.a,{fontSize:"20px",colorScheme:Object(v.d)("green.700","gray.50"),children:Object(x.jsxs)(Xe.a,{children:[Object(x.jsx)(Xe.h,{children:Object(x.jsx)(M.a,{textAlign:"center",bgColor:Object(v.d)("green.100","gray.500"),_hover:{background:Object(v.d)("blue.100","gray.600")},style:{cursor:"pointer"},borderRadius:"20px",p:2,colorScheme:"green",children:e.medecin})}),Object(x.jsxs)(Xe.e,{children:[Object(x.jsx)(Xe.b,{}),Object(x.jsx)(Xe.d,{}),Object(x.jsx)(Xe.g,{children:"Plus d'information"}),Object(x.jsx)(Xe.c,{children:Object(x.jsx)(nt,{medecin:e.medecin_id})})]})]})})}})),D=Object(O.a)(F,2),V=D[0],T=(D[1],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)("hl",(function(){return Z.get("hl",{params:t})}),n)}({params:E,onError:function(e){i({title:":Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:4e3,isClosable:!0})},onSuccess:function(e){j(e.data.total),m(e.data.next_page_url),S(e.data.prev_page_url),e.data.data!==[]&&w(e.data.data)}}));T.isLoading,T.refetch;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Ne,{header:["Description","Date"],content:I,fntable:V}),Object(x.jsx)(We,{total:l,next_page_url:u,prev_page_url:f,page:_,setPage:z})]})},ht=function(e){var t=Object(ke.a)(),n=t.isOpen,c=t.onOpen,r=t.onClose,i=e.patient,s=a.a.useRef();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ce.a,{ref:s,colorScheme:Object(v.d)("green","green"),onClick:c,children:"Lettre"}),Object(x.jsxs)(Pe.a,{isOpen:n,placement:"left",size:"xl",onClose:r,finalFocusRef:s,children:[Object(x.jsx)(Ie.h,{}),Object(x.jsxs)(Pe.b,{bg:Object(v.d)("green.50","gray.700"),children:[Object(x.jsx)(Ie.c,{}),Object(x.jsx)(Ie.g,{children:"Lettre"}),Object(x.jsx)(Ie.b,{children:Object(x.jsx)(mt,{patient:i})}),Object(x.jsx)(Ie.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:r,children:"Annuler"})})]})]})]})},gt=function(e){var t=Object(c.useContext)(p).user,n=e.patient,r=Object(Y.a)(),i=t.id,s=Object(c.useState)(0),o=Object(O.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)(""),b=Object(O.a)(d,2),u=b[0],m=b[1],h=Object(c.useState)(""),g=Object(O.a)(h,2),f=g[0],v=g[1],S=Object(c.useState)(1),C=Object(O.a)(S,2),y=C[0],_=C[1],z=Object(c.useState)([[""]]),k=Object(O.a)(z,2),P=k[0],I=k[1],w={};w=t.email?{patient_id:n.id,page:y}:{medecin_id:i,patient_id:n.id,page:y};a.a.useRef();var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)("hor",(function(){return Z.get("hor",{params:t})}),n)}({params:w,onError:function(e){r({title:" Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:4e3,isClosable:!0})},onSuccess:function(e){j(e.data.total),m(e.data.next_page_url),v(e.data.prev_page_url),e.data.data!==[]&&I(e.data.data)}}),F=M.isLoading;M.refetch;return Object(x.jsx)(x.Fragment,{children:F?Object(x.jsxs)(E.b,{mt:"40px",children:[Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Ne,{header:["M\xe9dicament","date fin"],content:P}),Object(x.jsx)(We,{total:l,next_page_url:u,prev_page_url:f,page:y,setPage:_})]})})},ft=function(e){var t=Object(c.useContext)(p),n=(t.user,t.cleanUser,Object(ke.a)()),r=n.isOpen,i=n.onOpen,s=n.onClose,o=e.patient,l=a.a.useRef();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ce.a,{ref:l,onClick:i,colorScheme:Object(v.d)("green","green"),children:"Ordonnance"}),Object(x.jsxs)(Pe.a,{isOpen:r,placement:"left",size:"xl",onClose:s,finalFocusRef:l,children:[Object(x.jsx)(Ie.h,{}),Object(x.jsxs)(Pe.b,{bg:Object(v.d)("green.50","gray.700"),children:[Object(x.jsx)(Ie.c,{}),Object(x.jsx)(Ie.g,{children:"Ordonnance"}),Object(x.jsx)(Ie.b,{children:Object(x.jsx)(gt,{patient:o})}),Object(x.jsx)(Ie.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:s,children:"Annuler"})})]})]})]})},vt=function(e){var t=e.patient,n=Object(c.useContext)(p).user,r=Object(c.useState)(0),i=Object(O.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)(""),j=Object(O.a)(l,2),d=j[0],b=j[1],u=Object(c.useState)(""),m=Object(O.a)(u,2),h=m[0],g=m[1],f=Object(c.useState)(1),v=Object(O.a)(f,2),S=v[0],C=v[1],y=Object(c.useState)([""],[""]),_=Object(O.a)(y,2),z=_[0],k=_[1],P=Object(Y.a)(),I={};t?I={patient_id:t.id,medecin_id:n.id,page:S}:(I={patient_id:n.id,page:S},t=n);var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)("hc",(function(){return Z.get("hc",{params:t})}),n)}({params:I,onError:function(e){P({title:"Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:4e3,isClosable:!0})},onSuccess:function(e){o(e.data.total),b(e.data.next_page_url),g(e.data.prev_page_url),e.data.data&&e.data.data.map((function(e){null==e.Diagnostic&&(e.Diagnostic="Aucun diagnostic \xe9crit")})),k(!!e.data.data&&e.data.data||[])}}),M=w.isLoading,F=(w.refetch,Object(c.useState)({fn:function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(Ot,{data:e})})}})),D=Object(O.a)(F,2),V=D[0];D[1];return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsxs)(Be.a,{minChildWidth:"100px",spacing:"10px",children:[Object(x.jsx)(dt,{patient:t}),Object(x.jsx)($e,{patient:t}),Object(x.jsx)(at,{patient:t}),Object(x.jsx)(pt,{patient:t}),Object(x.jsx)(ft,{patient:t}),Object(x.jsx)(ht,{patient:t})]}),M?Object(x.jsxs)(E.b,{mt:"40px",children:[Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(x.jsx)(Ze.a,{startColor:"gray.100",endColor:"green.500",height:"40px"})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Ne,{header:["date","Diagnostic"],content:z,fntable:V}),Object(x.jsx)(We,{total:s,next_page_url:d,prev_page_url:h,page:S,setPage:C})]})]})},St=function(e){var t=Object(z.a)({base:!0,lg:!1}),n=e.patient,a=Object(ke.a)(),r=a.isOpen,i=a.onOpen,s=a.onClose,o=Object(c.useRef)();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ce.a,{ref:o,m:1,colorScheme:"green",onClick:i,children:Object(x.jsx)(y.a,{label:"Tout ce que j'ai fait pour ce patient","aria-label":"Tout ce que j'ai fait pour ce patient",children:t?Object(x.jsx)(L.f,{fontSize:"30px"}):"Historique"})}),Object(x.jsx)(Pe.a,{size:"xl",isOpen:r,placement:"right",onClose:s,finalFocusRef:o,children:Object(x.jsx)(Ie.h,{children:Object(x.jsxs)(Pe.b,{bg:Object(v.d)("green.50","gray.700"),children:[Object(x.jsx)(Ie.c,{}),Object(x.jsx)(Ie.g,{children:"Historique patient"}),Object(x.jsx)(Ie.b,{children:Object(x.jsx)(vt,{patient:n})}),Object(x.jsx)(Ie.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:s,children:"Annuler"})})]})})})]})},Ct=n(401),yt=function(e){var t=Object(z.a)({base:!0,lg:!1}),n=e.data;return Object(x.jsxs)(Xe.a,{children:[Object(x.jsx)(Xe.h,{children:Object(x.jsx)(ce.a,{m:1,colorScheme:"green",children:Object(x.jsx)(y.a,{label:"Plus d'informations sur ".concat(n.nom+" "+n.prenom),"aria-label":"Plus d'informations sur ".concat(n.nom+" "+n.prenom),children:t?Object(x.jsx)(L.h,{fontSize:"30px"}):"Informations"})})}),Object(x.jsx)(Ct.a,{children:Object(x.jsxs)(Xe.e,{borderColor:"green",children:[Object(x.jsx)(Xe.b,{}),Object(x.jsxs)(Xe.g,{children:[n.nom+" "+n.prenom," "]}),Object(x.jsx)(Xe.d,{}),Object(x.jsxs)(Xe.c,{children:[n.photo&&Object(x.jsx)(C.a,{children:Object(x.jsx)(q.a,{size:"xl",name:n.nom+" "+n.prenom,src:"".concat(H).concat(n.photo)})}),n.Adresse&&Object(x.jsxs)(M.a,{children:["Adresse : ",n.Adresse," "]}),n.Code_APCI&&Object(x.jsxs)(M.a,{children:["Code_APCI : ",n.Code_APCI," "]}),""!=n.email&&null!=n.email?Object(x.jsx)(M.a,{as:"a",href:"mailto:"+n.email,children:Object(x.jsx)(ce.a,{my:1,colorScheme:"green",leftIcon:Object(x.jsx)(tt.a,{}),variant:"outline",children:"Email"})}):"",""!=n.telephone&&null!=n.telephone?Object(x.jsx)(M.a,{display:"block",as:"a",href:"tel:"+n.telephone,children:Object(x.jsx)(ce.a,{my:1,leftIcon:Object(x.jsx)(et.a,{}),colorScheme:"green",variant:"outline",children:"Appeller"})}):"",n.cin&&Object(x.jsxs)(M.a,{children:["cin : ",n.cin," "]})]}),Object(x.jsx)(Xe.f,{children:"Ce sont des informations personnelles sur votre patient"})]})})]})},_t=function(){var e=Object(c.useContext)(p),t=e.user,n=(e.cleanUser,Object(ke.a)()),r=(n.isOpen,n.onOpen,n.onClose,Object(Y.a)()),i=t.id,s=Object(c.useState)(0),o=Object(O.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)(""),b=Object(O.a)(d,2),u=b[0],m=b[1],h=Object(c.useState)(""),g=Object(O.a)(h,2),f=g[0],v=g[1],S=Object(c.useState)(1),y=Object(O.a)(S,2),_=y[0],z=y[1],k=Object(c.useState)([[""],[""]]),P=Object(O.a)(k,2),I=P[0],w=P[1],E=Object(c.useState)(""),M=Object(O.a)(E,2),F=M[0],D=M[1],V={medecin_id:i,patient_id:F,page:_},T=(a.a.useRef(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)(["Liste de mes patients",t],(function(){return Z.get("lrmp",{params:t})}),n)}({params:V,onError:function(e){r({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){j(e.data.total),m(e.data.next_page_url),v(e.data.prev_page_url),w(!!e.data.data&&e.data.data||[])}})),L=T.isLoading,R=T.refetch,q=Object(c.useState)("medecin"==t.fonctionnalite?{fn:function(e){return Object(x.jsx)(yt,{data:e})},fn2:function(e){return Object(x.jsx)(St,{patient:e})}}:{fn:function(e){return Object(x.jsx)(yt,{data:e})}}),N=Object(O.a)(q,2),W=N[0];N[1];return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(X.a,{display:L?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{display:L?"none":"",as:"section",py:{base:0,md:"12"},w:"100%",children:Object(x.jsx)(C.a,{maxW:{base:"xl",md:"7xl"},mx:"auto",px:{base:"1",md:"8"},children:Object(x.jsxs)(C.a,{children:[Object(x.jsx)(Ue,{refetch:R}),Object(x.jsx)(Re,{buttonText:"Chercher",buttonIcon:Object(x.jsx)(Ke.a,{fontSize:"1.25em"}),chercherFn:D,buttonhoverTesxt:"Rechercher \ud83d\udd0e",inputhoverTesxt:"\xe9cris quoi que ce soit pour indiquer sur la personne que tu veux trouver"}),Object(x.jsx)(Ne,{header:["Nom","Prenom"],content:I,fntable:W,message:function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(me.a,{as:"h2",size:"lg",fontWeight:"extrabold",letterSpacing:"tight",children:"vous n'avez aucun patient"})})}}),Object(x.jsx)(We,{total:l,next_page_url:u,prev_page_url:f,page:_,setPage:z})]})})})]})},zt=n(416),kt=n(63),Pt=n(51),It=function(e){var t=e.hoverMassage,n=e.target,c=e.isOpen,a=e.setIsOpen,r=e.cancelRef,i=e.onClose,s=e.fnTodo,o=e.Header,l=e.Body,j=e.icon,d=e.colorScheme,b=e.bg,u=e.btOK,O=e.btNon;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(y.a,{label:!!t&&t,"aria-label":!!t&&t,children:Object(x.jsx)(Ge.a,{size:"sm",m:1,bg:b,colorScheme:d,icon:j,onClick:function(){return a(!0)}})}),Object(x.jsx)(ot.a,{isOpen:c,leastDestructiveRef:r,onClose:i,children:Object(x.jsx)(Ie.h,{children:Object(x.jsxs)(ot.b,{children:[Object(x.jsx)(Ie.g,{fontSize:"lg",fontWeight:"bold",children:o}),Object(x.jsx)(Ie.b,{children:l}),Object(x.jsxs)(Ie.f,{children:[Object(x.jsx)(ce.a,{ref:r,onClick:i,colorScheme:"green",children:O}),Object(x.jsx)(ce.a,{colorScheme:"green",onClick:function(e){return s(e,n)},ml:3,children:u})]})]})})})]})},wt=function(e){var t=Object(c.useState)(!1),n=Object(O.a)(t,2),a=n[0],r=n[1],i=function(){return r(!1)},s=Object(c.useRef)(),o=Object(c.useState)(!1),l=Object(O.a)(o,2),j=l[0],d=l[1],b=function(){return d(!1)},p=Object(c.useRef)(),m=e.taskvalue,h=(e.task,e.setTask,e.DeleteMutate),g=e.EnteredMutate,f=e.usertype,S=function(e){e.stopPropagation(),g({id:m.id}),i()},y=function(e){e.stopPropagation(),h({id:m.id}),i()};return Object(x.jsx)(Pt.b,{draggableId:m.id.toString(),index:m.id,children:function(e,t){return Object(x.jsxs)(Xe.a,{children:[Object(x.jsx)(Xe.h,{children:Object(x.jsx)(C.a,Object(u.a)(Object(u.a)(Object(u.a)({onClick:function(e){return function(e){e.stopPropagation()}(e)},ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{style:(t.isDragging,n=e.draggableProps.style,Object(u.a)(Object(u.a)({},n),{},{userSelect:"none",padding:3,margin:"0 0 0px 0"})),border:"2px",borderRadius:"20px",bgColor:t.isDragging?"#3b8a5b":"#b3e6c8",borderColor:"green.200",mx:3,px:2,children:Object(x.jsxs)(C.a,{color:"gray.800",fontSize:"17px",children:[Object(x.jsx)(It,{hoverMassage:"Supprimer ce r\xe9servatitien",Header:"Supprimer la r\xe9servation",Body:"Voulez-vous vraiment supprimer cette r\xe9servation avec ".concat(m.nomprenom),icon:Object(x.jsx)(Qe.a,{}),colorScheme:"teal",bg:"red.300",fnTodo:y,btOK:"Effacer",btNon:"Annuler",isOpen:a,setIsOpen:r,onClose:i,cancelRef:s}),m.nomprenom,"medecin"==f||"secretaire"==f?Object(x.jsx)(It,{hoverMassage:"Envoyer ce patient au m\xe9decin",Header:"Confirmer",Body:"Voulez-vous confirmer que ".concat(m.nomprenom," d\xe9butera sa consultation ? "),icon:Object(x.jsx)(T.a,{w:4,h:4}),bg:"blue.300",btOK:"oui",btNon:"Non",fnTodo:S,isOpen:j,setIsOpen:d,onClose:b,cancelRef:p}):""]})}))}),Object(x.jsxs)(Xe.e,{bg:Object(v.d)("green.50","gray.800"),children:[Object(x.jsx)(Xe.g,{fontWeight:"semibold",children:m.nomprenom}),Object(x.jsxs)(Xe.c,{children:["Votre rendez-vous est le ",m.start.slice(0,10)+" ","\xe0"," "+m.start.slice(11,19)]})]})]});var n}},m.id)},Et=function(e){var t=e.usertype,n=e.HoursValue,c=e.key,a=e.value,r=e.DeleteMutate,i=e.addtask,s=e.task,o=e.EnteredMutate,l=e.setTask;return Object(x.jsx)(C.a,{h:"160px",fontSize:"20px",border:"1px",borderColor:Object(v.d)("green.200","cyan.800"),children:Object(x.jsxs)(Te.a,{h:"100%",templateRows:"repeat(4, 1fr)",border:"3px",borderColor:"red.200",gap:0,children:[Object(x.jsx)(Pt.c,{droppableId:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"00",children:function(e,c){return Object(x.jsx)(Te.b,Object(u.a)(Object(u.a)({},e.droppableProps),{},{ref:e.innerRef,bgColor:Object(v.d)("green.50","cyan.600"),color:Object(v.d)("green.800","gray.300"),maxH:"40px",onClick:function(e){return i(e,a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"00",a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15")},borderBottom:"1px",id:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"00",borderColor:"gray.200",children:Object(x.jsxs)(S.a,{children:[Object(x.jsx)(M.a,{fontSize:"xs",children:n.slice(0,3)+"00"}),s.map((function(e){return e.start===a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"00"?Object(x.jsx)(wt,{usertype:t,EnteredMutate:o,DeleteMutate:r,task:s,setTask:l,taskvalue:e},e.id):""})),e.placeholder]})}))}}),Object(x.jsx)(Pt.c,{droppableId:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15",children:function(e,c){return Object(x.jsx)(Te.b,Object(u.a)(Object(u.a)({},e.droppableProps),{},{ref:e.innerRef,bgColor:Object(v.d)("green.100","cyan.700"),maxH:"40px",color:Object(v.d)("green.800","gray.300"),onClick:function(e){return i(e,a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15",a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30")},borderBottom:"1px",id:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15",borderColor:"gray.200",children:Object(x.jsxs)(S.a,{children:[Object(x.jsx)(M.a,{fontSize:"xs",children:n.slice(0,3)+"15"}),s.map((function(e){return e.start===a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15"?Object(x.jsx)(wt,{usertype:t,EnteredMutate:o,DeleteMutate:r,task:s,setTask:l,taskvalue:e},e.id):""})),e.placeholder]})}))}}),Object(x.jsx)(Pt.c,{droppableId:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30",children:function(e,c){return Object(x.jsx)(Te.b,Object(u.a)(Object(u.a)({},e.droppableProps),{},{ref:e.innerRef,bgColor:Object(v.d)("green.200","cyan.800"),maxH:"40px",color:Object(v.d)("green.800","gray.300"),onClick:function(e){return i(e,a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30",a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45")},borderBottom:"1px",id:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30",borderColor:"gray.200",children:Object(x.jsxs)(S.a,{children:[Object(x.jsx)(M.a,{fontSize:"xs",children:n.slice(0,3)+"30"}),s.map((function(e){return e.start===a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30"?Object(x.jsx)(wt,{usertype:t,EnteredMutate:o,DeleteMutate:r,task:s,setTask:l,taskvalue:e},e.id):""})),e.placeholder]})}))}}),Object(x.jsx)(Pt.c,{droppableId:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45",children:function(e,c){return Object(x.jsx)(Te.b,Object(u.a)(Object(u.a)({},e.droppableProps),{},{ref:e.innerRef,bgColor:Object(v.d)("green.300","cyan.900"),color:Object(v.d)("green.800","gray.300"),maxH:"40px",onClick:function(e){return i(e,a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45",a.toISOString().slice(0,10)+"T"+(parseInt(n.slice(0,2))<9)?"0".concat(parseInt(n.slice(0,2))+1,":00"):parseInt(n.slice(0,2))+1+":00")},borderBottom:"1px",id:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45",borderColor:"gray.200",children:Object(x.jsxs)(S.a,{children:[Object(x.jsx)(M.a,{fontSize:"xs",children:n.slice(0,3)+"45"}),s.map((function(e){return e.start===a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45"?Object(x.jsx)(wt,{usertype:t,EnteredMutate:o,DeleteMutate:r,task:s,setTask:l,taskvalue:e},e.id):""})),e.placeholder]})}))}})]})},c)};var At=function(e){for(var t=e.usertype,n=e.EnteredMutate,c=e.rowNumber,a=e.date,r=e.DeleteMutate,i=e.task,s=e.updateTask,o=e.setTask,l=e.addtask,j=["07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00"],d=function(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n},b=[],u=0;u<c;u++)0===u?b.push(a):b.push(d(b[b.length-1],1));var p,m=[],h=Object(kt.a)(b.entries());try{var g=function(){var e=Object(O.a)(p.value,2),c=e[0],a=e[1];m.push(Object(x.jsxs)(C.a,{children:[Object(x.jsx)(Q.a,{w:"100%",border:"1px",borderColor:Object(v.d)("green.200","cyan.900"),bgColor:Object(v.d)("green.300","cyan.900"),color:Object(v.d)("green.800","gray.50"),h:10,align:"center",children:a.toISOString().slice(0,10)},"key".concat(c)),j.map((function(e){return Object(x.jsx)(Et,{EnteredMutate:n,usertype:t,DeleteMutate:r,HoursValue:e,value:a,addtask:l,task:i,setTask:o},e.slice(0,4))}))]}))};for(h.s();!(p=h.n()).done;)g()}catch(f){h.e(f)}finally{h.f()}return Object(x.jsx)(C.a,{children:Object(x.jsxs)(Te.a,{templateColumns:"repeat(10, 1fr)",gap:0,children:[Object(x.jsx)(Te.b,{colSpan:1,children:Object(x.jsxs)(C.a,{w:"100%",border:"1px",bgColor:Object(v.d)("green.300","cyan.900"),borderColor:Object(v.d)("green.200","cyan.900"),children:[Object(x.jsx)(Q.a,{h:10,align:"center"}),j.map((function(e){return Object(x.jsx)(Q.a,{border:"1px",borderColor:Object(v.d)("green.200","cyan.900"),bgColor:Object(v.d)("green.300","cyan.900"),color:Object(v.d)("green.800","gray.50"),h:"160px",px:2,fontSize:"20px",children:e},e)}))]})}),Object(x.jsx)(Te.b,{colSpan:9,w:"100%",children:Object(x.jsx)(Te.a,{w:"100%",templateColumns:"repeat("+parseInt(c)+", 1fr)",gap:0,children:Object(x.jsx)(Pt.a,{onDragEnd:function(e){return s(e)},children:m})})})]})})},Mt=n(415),Ft=n(417),Dt=function(e){return Object(Ce.a)((function(e){var t=e.id,n=e.date_reservation;return Z.post("updater",{id:t,date_reservation:n})}),e)},Vt=function(e){return Object(Ce.a)((function(e){var t=e.id;return Z.post("deleter",{id:t})}),e)},Tt=function(e){var t=Object(c.useState)(!1),n=Object(O.a)(t,2),r=n[0],i=n[1],s=Object(se.b)(e),o=s.errorMessage,l=s.id,j=s.isValid,d=s.isSubmitted,b=s.setValue,u=s.value,p=e.label,m=e.required,h=e.note,g=a.a.useState(!1),f=Object(O.a)(g,2),v=f[0],S=f[1],C=!j&&(v||d);return Object(x.jsxs)(G.a,{mt:5,children:[Object(x.jsxs)(oe.a,{htmlFor:l,children:[p,!!m&&" *"]}),Object(x.jsxs)(Oe.a,{children:[Object(x.jsx)(je.a,{id:l,type:r?"text":"password",value:null!==u&&void 0!==u?u:"",onChange:function(e){return b(e.target.value)},onBlur:function(){return S(!0)},"aria-invalid":C,"aria-required":!!m,"aria-describedby":C?"".concat(l,"-error"):null}),Object(x.jsx)(xe.b,{children:Object(x.jsx)(ce.a,{size:"sm",onClick:function(){return i(!r)},children:r?Object(x.jsx)(be.a,{}):Object(x.jsx)(ue.a,{})})})]}),C&&Object(x.jsxs)(M.a,{id:"".concat(l,"-error"),color:"tomato",children:["\ud83d\udd75 ",o]}),h&&Object(x.jsx)(G.b,{id:"".concat(l,"-note"),children:h})]})},Lt=function(e){return Object(Ce.a)((function(e){var t=e.cin,n=e.email,c=e.id_cms_privileges,a=e.nom,r=e.password,i=e.prenom,s=e.telephone,o=e.sexes,l=e.date_naissance;return Z.post("singup",{cin:t,email:n,id_cms_privileges:c,nom:a,password:r,prenom:i,telephone:s,sexes:o,date_naissance:l})}),e)},Rt=function(e){var t=e.medecin_id,n=e.addPatient,r=Object(c.useState)("patient"),i=Object(O.a)(r,2),s=i[0],o=(i[1],Object(se.c)()),l=o.values,j=Object(c.useState)("homme"),d=Object(O.a)(j,2),b=d[0],u=d[1],p=Object(Y.a)(),m=Lt({onError:function(e){p({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){1==(e=e.data).api_status&&(e.exists?p({title:e.elementExists+" existe d\xe9ja",description:"choisir un autre "+e.elementExists+" \ud83d\udcad",status:"success",duration:"4000",isClosable:!0}):(p({title:" \u2728 ",description:"\ud83c\udf89 Compte a \xe9t\xe9 enregistr\xe9",status:"success",duration:"4000",isClosable:!0}),n({medecin_id:t,patient_id:e.id})))}}),h=m.mutate,g=m.isLoading;return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(X.a,{display:g?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(E.b,{maxW:400,display:g?"none":"",margin:"auto",spacing:5,children:Object(x.jsx)(se.a,{connect:o,onValidSubmit:function(e){e.sexes=b,e.id_cms_privileges=s,delete e.R_password,h(e)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:o.submit,children:[Object(x.jsx)(ze,{name:"nom",label:"Nom",required:"Il est requis de compl\xe9ter ce champ",validations:[{rule:Object($.e)("^[a-zA-Z ]*$"),message:"Le nom ne contient que des lettres"}]}),Object(x.jsx)(ze,{name:"prenom",label:"Pr\xe9nom",required:"Il est requis de compl\xe9ter ce champ",validations:[{rule:Object($.e)("^[a-zA-Z ]*$"),message:"Le prenom ne contient que des lettres"}]}),Object(x.jsx)(G.a,{children:Object(x.jsx)(Q.a,{children:Object(x.jsx)(ee.a,{onChange:u,value:b,name:"sexes",children:Object(x.jsxs)(E.b,{direction:"row",size:"lg",children:[Object(x.jsx)(te.a,{value:"homme",py:3,mx:5,children:"Homme \ud83d\udc68\u200d\ud83e\uddb0"}),Object(x.jsx)(te.a,{value:"femme",py:3,mx:5,children:"Femme \ud83d\udc69\u200d\ud83e\uddb0"})]})})})}),Object(x.jsx)(le,{name:"date_naissance",label:"Date de naissance"}),Object(x.jsx)(ze,{name:"email",label:"E-mail",validations:[{rule:Object($.a)(),message:"Veuillez v\xe9rifier le format de l'E-mail"},{rule:function(e){return!!e||!!l.cin||!!l.telephone},message:'Le champ E-mail doit contenir "@" et "." ',deps:[l.cin,l.telephone]}]}),Object(x.jsx)(ze,{name:"cin",label:"C.I.N",validations:[{rule:Object($.b)(8),message:"La carte d'identit\xe9 doit \xeatre constitu\xe9e  de 8 chiffres"},{rule:Object($.d)(),message:"La carte d'identit\xe9 ne contient que des chiffres"},{rule:Object($.b)(8),message:"La carte d'identit\xe9 doit \xeatre constitu\xe9e  de 8 chiffres"},{rule:function(e){return!!e||!!l.email||!!l.telephone},message:"La carte d'identit\xe9 doit \xeatre constitu\xe9e  de 8 chiffres",deps:[l.email,l.telephone]}]}),Object(x.jsx)(ze,{name:"telephone",label:"T\xe9l\xe9phone",validations:[{rule:Object($.b)(8),message:"La num\xe9ro de t\xe9l\xe9phone doit \xeatre constitu\xe9e  de 8 chiffres"},{rule:Object($.d)(),message:"La num\xe9ro de t\xe9l\xe9phone  ne contient que des chiffres"},{rule:function(e){return!!e||!!l.cin||!!l.email},message:"La num\xe9ro de t\xe9l\xe9phone doit \xeatre constitu\xe9e  de 8 chiffres",deps:[l.cin,l.email]}]}),Object(x.jsx)(Tt,{name:"password",label:"Mot de passe",required:"Il est requis de compl\xe9ter ce champ ",type:"password",validations:[{rule:Object($.c)(6),message:"Le mot de passe doit contenir au moins 6 caract\xe8res"}]}),Object(x.jsx)(Tt,{name:"R_password",label:"R\xe9p\xe9ter le mot de passe",required:"Il est requis de compl\xe9ter le champ correspondant au r\xe9p\xe9ter mot de passe",type:"password",validations:[{rule:function(e){return e==l.password},message:"Le mot de passe r\xe9p\xe9t\xe9 doit \xeatre le m\xeame.",deps:[l.cin,l.telephone]}]}),Object(x.jsx)(G.a,{mt:5,align:"center",children:Object(x.jsxs)(ce.a,{type:"submit",borderColor:"green.500",disabled:!o.isValid,children:["Cr\xe9er mon compte",o.isValid?"\ud83d\udc4c":""]})})]})})})]})},qt=function(e){var t,n=Object(Y.a)(),a=Object(c.useState)(""),r=Object(O.a)(a,2),i=(r[0],r[1]),s=e.medecin_id,o=e.refetchTask,l=e.currentDateStart,j=e.listPatientDashboardAPIRefetch,d=e.cancelRef,b=e.isOpen,u=e.onClose,p=e.end,m=e.listPatient,h=(t={onError:function(e){n({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){o(),u()}},Object(Ce.a)((function(e){var t=e.medecin_id,n=e.patient_id,c=e.etat,a=e.date_reservation;return Z.post("cr",{medecin_id:t,patient_id:n,etat:c,date_reservation:a})}),t)),g=h.mutate,f=h.isLoading,v=Object(c.useState)(""),S=Object(O.a)(v,2),y=S[0],_=S[1],z=He({onError:function(e){_("V\xe9rifier les informations de votre patient.")},onSuccess:function(e){_(""),D("old"),j()}}),k=z.mutate,P=z.isLoading,I=Object(se.c)(),w=Object(c.useState)("old"),A=Object(O.a)(w,2),F=A[0],D=A[1],V=function(e,t,n){e=e.replace("T"," ")+":00",g({medecin_id:s,patient_id:n,etat:"en attente",date_reservation:e})};return Object(x.jsx)(C.a,{children:Object(x.jsxs)(ot.a,{motionPreset:"slideInBottom",leastDestructiveRef:d,onClose:u,isOpen:b,isCentered:!0,children:[Object(x.jsx)(Ie.h,{}),Object(x.jsxs)(ot.b,{minW:{md:"700px"},children:[Object(x.jsx)(Ie.g,{children:"Confirmer la r\xe9servation"}),Object(x.jsx)(Ie.c,{}),Object(x.jsx)(X.a,{display:f||P?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsxs)(Ie.b,{display:f||P?"none":"",children:[Object(x.jsx)(Q.a,{children:Object(x.jsx)(ee.a,{onChange:D,value:F,children:Object(x.jsxs)(E.b,{direction:"row",children:[Object(x.jsx)(te.a,{value:"old",children:"Patient associ\xe9 "}),Object(x.jsx)(te.a,{value:"new",children:"Patient non-associ\xe9"}),Object(x.jsx)(te.a,{value:"create",children:"Inscrire un patient"})]})})}),Object(x.jsx)(se.a,{connect:I,onValidSubmit:function(e){"new"==F?k({medecin_id:s,patient_id:e.user}):(i(e.selectvalue.label),V(l,p,e.selectvalue.value))},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:I.submit,children:[Object(x.jsxs)(M.a,{pb:2,px:5,children:["create"!=F?"R\xe9servation d'un rendez-vous le ".concat(l.slice(0,10)+" "," \xe0 ").concat(l.slice(11,19)," pour : "):"","new"==F?Object(x.jsxs)(C.a,{children:[Object(x.jsx)(de,{name:"user",label:"Email ou CIN ou Telephone",required:"email ou CIN or Telephone"}),Object(x.jsx)(M.a,{color:"tomato",children:y})]}):"old"==F?Object(x.jsx)(ve,{required:"S\xe9lect un patient.",data:m,name:"selectvalue"}):""]}),"create"!=F?Object(x.jsxs)(Ie.f,{children:[Object(x.jsx)(ce.a,{display:f?"none":"",ref:d,onClick:u,children:"Non"}),Object(x.jsx)(ce.a,{display:f?"none":"",disabled:!I.isValid,type:"submit",ml:3,children:"Oui"})]}):""]})}),"create"==F?Object(x.jsx)(C.a,{maxH:"60vh",w:"100%",overflowY:"scroll",children:Object(x.jsx)(Rt,{addPatient:k,medecin_id:s})}):""]})]})]})})},Nt=n(414),Wt=function(e){var t=e.target,n=e.fnTodo,a=e.Header,r=e.Body,i=e.icon,s=e.colorScheme,o=e.bg,l=e.btOK,j=e.btNon,d=(e.submitcolor,Object(c.useState)(!1)),b=Object(O.a)(d,2),u=b[0],p=b[1],m=function(){return p(!1)},h=Object(c.useRef)();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Ge.a,{size:"md",m:1,bg:o,colorScheme:s,fontSize:"10px",icon:i,onClick:function(){return p(!0)}}),Object(x.jsx)(ot.a,{isOpen:u,leastDestructiveRef:h,onClose:m,children:Object(x.jsx)(Ie.h,{children:Object(x.jsxs)(ot.b,{children:[Object(x.jsx)(Ie.g,{fontSize:"lg",fontWeight:"bold",children:a}),Object(x.jsx)(Ie.b,{children:r}),Object(x.jsxs)(Ie.f,{children:[Object(x.jsx)(ce.a,{ref:h,onClick:m,children:j}),Object(x.jsx)(ce.a,{colorScheme:s,onClick:function(){n(t),m()},ml:3,children:l})]})]})})})]})},Bt=function(e){var t=e.data,n=e.type;return null==t?null:Object(x.jsxs)(C.a,{children:[Object(x.jsxs)(M.a,{fontSize:"xl",borderBottom:"1px",borderColor:Object(v.d)("green.300","gray.500"),px:2,display:"inline",color:Object(v.d)("green.700","gray.50"),children:[n,":"]}),Object(x.jsx)(M.a,{fontSize:"xl",px:2,display:"inline",color:"gray.500",children:t})]})},Ht=function(e){var t=e.patient,n=Object(z.a)({base:!0,lg:!1}),r=Object(c.useState)({}),i=Object(O.a)(r,2),s=i[0],o=i[1],l=Object(Y.a)(),j={cms_users_id:t.id},d=Ye({params:j,onError:function(e){l({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){o(e.data)}}),b=d.isLoading,u=(d.refetch,Object(ke.a)()),p=u.isOpen,m=u.onOpen,h=u.onClose;return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(ce.a,{colorScheme:"green",onClick:m,children:Object(x.jsx)(y.a,{label:"Obtenez les informations g\xe9n\xe9rales sur ".concat(s.nom," ").concat(s.prenom),"aria-label":"Obtenez les informations g\xe9n\xe9rales sur ".concat(s.nom," ").concat(s.prenom),children:n?Object(x.jsx)(T.h,{fontSize:"30px"}):"Informations"})}),Object(x.jsxs)(Pe.a,{placement:"left",size:"md",onClose:h,isOpen:p,children:[Object(x.jsx)(Ie.h,{}),Object(x.jsxs)(Pe.b,{bg:Object(v.d)("green.50","gray.700"),children:[Object(x.jsxs)(Ie.g,{borderBottomWidth:"1px",children:["Information de patient",Object(x.jsx)(Ge.a,{float:"right",variant:"outline",size:"xs",m:1,colorScheme:"red",fontSize:"10px",icon:Object(x.jsx)(Qe.a,{}),onClick:function(){return h()}})]}),Object(x.jsxs)(Ie.b,{display:b?"":"none",children:[Object(x.jsx)(Ze.b,{size:"12"}),Object(x.jsx)(Ze.c,{mt:"7",noOfLines:7,spacing:"7"})]}),Object(x.jsxs)(Ie.b,{display:b?"none":"",children:[Object(x.jsx)(q.a,{my:3,size:"xl",src:s.photo?"".concat(H).concat(s.photo):"".concat(H).concat("/vendor/crudbooster/avatar.jpg"),name:t.nomprenom}),Object(x.jsx)(Bt,{data:s.nom,type:"Nom"}),Object(x.jsx)(Bt,{data:s.prenom,type:"Prenom"}),Object(x.jsx)(Bt,{data:s.cin,type:"C.I.N"}),Object(x.jsx)(Bt,{data:s.Date_Naissance,type:"Date naissance"}),Object(x.jsx)(Bt,{data:s.email,type:"E-mail"}),s.email?Object(x.jsx)(M.a,{as:"a",href:"mailto:"+s.email,children:Object(x.jsx)(ce.a,{my:1,colorScheme:"green",leftIcon:Object(x.jsx)(tt.a,{}),variant:"outline",children:"Email"})}):"",Object(x.jsx)(Bt,{data:s.sexes,type:"Sexe"}),Object(x.jsx)(Bt,{data:s.telephone,type:"Telephone"}),s.telephone?Object(x.jsx)(M.a,{display:"block",as:"a",href:"tel:"+s.telephone,children:Object(x.jsx)(ce.a,{my:1,leftIcon:Object(x.jsx)(et.a,{}),colorScheme:"green",variant:"outline",children:"Appeller"})}):""]}),Object(x.jsx)(Ie.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:h,children:"Annuler"})})]})]})]})},Ut=function(e){var t,n=e.refetchDashboard,a=Object(c.useContext)(p).user,r=Object(ke.a)(),i=r.isOpen,s=r.onOpen,o=r.onClose,l=Object(c.useRef)(),j=Object(Y.a)(),d=Object(c.useState)(0),b=Object(O.a)(d,2),u=b[0],m=b[1],h=Object(c.useState)(""),g=Object(O.a)(h,2),f=g[0],v=g[1],S=Object(c.useState)(""),y=Object(O.a)(S,2),_=y[0],k=y[1],P=Object(c.useState)(1),I=Object(O.a)(P,2),w=I[0],E=I[1],M=Object(c.useState)([]),F=Object(O.a)(M,2),D=F[0],V=F[1],T=Object(c.useState)(["nom prenom","Date"]),L=Object(O.a)(T,2),R=L[0],q=(L[1],t={onError:function(e){j({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){n(),Q()}},Object(Ce.a)((function(e){var t=e.id,n=(e.etat,e.state);return Z.post("sptwr",{id:t,etat:"en attente",state:n})}),t)),N=q.mutate,W=(q.isLoading,{medecin_id:a.id}),B=Vt({onError:function(e){j({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){Q(),n()}}),H=B.mutate,U=(B.isLoading,Object(z.a)({base:!0,lg:!1})),K=Object(c.useState)({fn2:function(e){return Object(x.jsx)(Wt,{Header:"Supprimer la proposition r\xe9servation",Body:"Voulez-vous vraiment supprimer cette proposition de r\xe9servation avec ".concat(e.nomprenom),icon:Object(x.jsx)(Qe.a,{}),colorScheme:"teal",bg:"red.300",target:{id:e.idR},fnTodo:H,btOK:"Effacer",btNon:"Annuler"})},fn:function(e){return Object(x.jsx)(Wt,{Header:"Valider la r\xe9servation",Body:"Voulez-vous vraiment valider cette proposition de r\xe9servation avec ".concat(e.nomprenom),icon:Object(x.jsx)(Nt.a,{}),colorScheme:"teal",bg:"green.300",target:{id:e.idR,etat:"en attente",state:"valide"},fnTodo:N,btOK:"Valide",submitcolor:"gray.50",btNon:"Annuler"})},fn3:function(e){return Object(x.jsx)(Ht,{patient:e})}}),J=Object(O.a)(K,2),$=J[0],X=(J[1],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)(["valider un rendez vous ",t],(function(){return Z.get("vr",{params:t})}),n)}({params:W,onError:function(e){j({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){m(e.data.total),v(e.data.next_page_url),k(e.data.prev_page_url),V(!!e.data.data&&e.data.data||[]),n()}})),G=X.isLoading,Q=X.refetch;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(ce.a,{position:"absolute",bottom:"7%",right:"4%",ref:l,colorScheme:"teal",onClick:s,children:[U?"":"Valider un rendez vous ",0!=D.length?"\ud83d\udceb":"\ud83d\udcea"]}),Object(x.jsx)(Pe.a,{size:"lg",isOpen:i,placement:"right",onClose:o,finalFocusRef:l,children:Object(x.jsx)(Ie.h,{children:Object(x.jsxs)(Pe.b,{children:[Object(x.jsx)(Ie.c,{}),Object(x.jsx)(Ie.g,{children:"\ud83d\udceb Valider un rendez vous "}),Object(x.jsx)(Ie.b,{children:Object(x.jsxs)(C.a,{display:G?"none":"",children:[Object(x.jsx)(Ne,{header:R,content:D,fntable:$,message:function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(me.a,{as:"h2",size:"lg",fontWeight:"extrabold",letterSpacing:"tight",children:"Vous n'avez aucune r\xe9servation de la part d'aucun patient"})})}}),Object(x.jsx)(We,{total:u,next_page_url:f,prev_page_url:_,page:w,setPage:E})]})}),Object(x.jsx)(Ie.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:o,children:"Annuler"})})]})})})]})},Kt=function(){var e,t=Object(Y.a)(),n=Object(f.g)(),r=Object(c.useContext)(p).user,i=Object(c.useState)([{start:"2021-03-22T00:00"}]),s=Object(O.a)(i,2),o=s[0],l=s[1],j=r.idMedecin||r.id,d=Object(c.useState)({medecin_id:j}),b=Object(O.a)(d,2),u=b[0],m=(b[1],e={onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){M(),"medecin"==r.fonctionnalite&&n.push("/dashboard/consultation")}},Object(Ce.a)((function(e){var t=e.id;return e.etat,Z.post("pe",{id:t,etat:"patient avec le m\xe9decin"})}),e)),h=m.mutate,g=m.isLoading,v=Vt({onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){M()}}),_=v.mutate,k=v.isLoading,P=Dt({onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){M()}}),I=P.mutate,w=P.isLoading,E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)(["list de rendeves des parents en dashboard"],(function(){return Z.get("listrm",{params:t})}),n)}({params:u,onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){for(var t in e.data)e.data[t].start=e.data[t].start.replace(" ","T").slice(0,-3);l(e.data)}}),M=(E.isLoading,E.refetch),F=Object(c.useState)(""),D=Object(O.a)(F,2),V=D[0],T=D[1],L=a.a.useRef(),R=Object(c.useState)(""),q=Object(O.a)(R,2),N=q[0],W=q[1],B=Object(ke.a)(),H=B.isOpen,U=B.onOpen,K=B.onClose,J=Object(c.useState)([]),$=Object(O.a)(J,2),G=$[0],Q=$[1],ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)(["listpatientdashboard",t],(function(){return Z.get("listpatientdashboard",{params:t})}),n)}({params:u,onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){Q(e.data)}}),te=(ee.isLoading,ee.refetch),ne=Object(c.useState)(1),ae=Object(O.a)(ne,2),re=ae[0],ie=ae[1],oe=Object(z.a)({base:!0,lg:!1}),je=function(e,t){var n=new Date(e);n.setDate(n.getDate()+t),Oe(n)},de=Object(c.useState)(new Date),be=Object(O.a)(de,2),ue=be[0],Oe=be[1],xe=Object(se.c)();xe.values;return Object(x.jsx)(C.a,{children:Object(x.jsxs)(se.a,{connect:xe,onValidSubmit:function(e){},children:[Object(x.jsx)(X.a,{display:w||k||g?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{display:w||k||g?"none":"",children:Object(x.jsxs)(S.a,{py:2,children:[Object(x.jsx)(ce.a,{colorScheme:"green",ml:2,onClick:function(){return je(ue,-1*re)},children:Object(x.jsx)(y.a,{label:"Moin un jour","aria-label":"Moin un jour",children:Object(x.jsx)(Mt.a,{})})}),Object(x.jsx)(zt.a,{}),oe?"":Object(x.jsx)(y.a,{label:"Affich\xe9 en mode 1 jours","aria-label":"Affich\xe9 en mode 1 jours",children:Object(x.jsx)(ce.a,{mx:2,onClick:function(){return ie(1)},children:"Par 1 jour"})}),Object(x.jsx)(C.a,{w:"120px",position:"relative",top:"-7px",mx:2,children:Object(x.jsx)(le,{SyncWithVariable:Oe,name:"date"})}),Object(x.jsx)(y.a,{label:"Aller \xe0 aujourd'hui","aria-label":"Aller \xe0 aujourd'hui",children:Object(x.jsx)(ce.a,{mx:2,onClick:function(){Oe(new Date)},children:"Aujourd'hui"})}),Object(x.jsx)(Ut,{refetchDashboard:M}),oe?"":Object(x.jsx)(y.a,{label:"Affich\xe9 en mode 2 jours","aria-label":"Affich\xe9 en mode 2 jours",children:Object(x.jsx)(ce.a,{mx:2,onClick:function(){return ie(2)},children:"Par 2 jour"})}),Object(x.jsx)(zt.a,{}),Object(x.jsx)(ce.a,{colorScheme:"green",mr:2,onClick:function(){return je(ue,re)},children:Object(x.jsx)(y.a,{label:"Plus un jour","aria-label":"Plus un jour",children:Object(x.jsx)(Ft.a,{})})})]})}),Object(x.jsx)(At,{EnteredMutate:h,usertype:r.fonctionnalite,DeleteMutate:_,task:o,setTask:l,date:ue,rowNumber:re,updateTask:function(e){I({id:e.draggableId,date_reservation:e.destination.droppableId.replace("T"," ")+":00"})},addtask:function(e,t,n){e.stopPropagation(),W(n),T(t),U()}}),Object(x.jsx)(qt,{listPatientDashboardAPIRefetch:te,listPatient:G,currentDateStart:V,cancelRef:L,onClose:K,isOpen:H,refetchTask:M,medecin_id:j,setTask:l,end:N})]})})},Zt=function(){var e=Object(Y.a)(),t=Object(c.useContext)(p).user,n=Object(c.useState)([]),a=Object(O.a)(n,2),r=a[0],i=a[1],s={patient_id:t.id},o=Vt({onError:function(t){e({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){b()}}),l=o.mutate,j=o.isLoading,d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)(["list de r\xe9servation on dashboard",t],(function(){return Z.get("lrd",{params:t})}),n)}({params:s,onError:function(t){e({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){for(var t in e.data)e.data[t].start=e.data[t].start.replace(" ","T").slice(0,-3);i(e.data)}}),b=(d.isLoading,d.refetch),u=Object(c.useState)(""),m=Object(O.a)(u,2),h=(m[0],m[1],Object(c.useState)(1)),g=Object(O.a)(h,2),f=g[0],v=g[1],_=Object(c.useState)(new Date),k=Object(O.a)(_,2),P=k[0],I=k[1],w=Object(z.a)({base:!0,lg:!1}),E=function(e,t){var n=new Date(e);n.setDate(n.getDate()+t),I(n)},M=Object(se.c)();M.values;return Object(x.jsx)(C.a,{children:Object(x.jsxs)(se.a,{connect:M,onValidSubmit:function(e){},children:[Object(x.jsx)(X.a,{display:j?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{display:j?"none":"",children:Object(x.jsxs)(S.a,{py:2,children:[Object(x.jsx)(ce.a,{ml:2,colorScheme:"green",onClick:function(){return E(P,-1*f)},children:Object(x.jsx)(y.a,{label:"Moin un jour","aria-label":"Moin un jour",children:Object(x.jsx)(Mt.a,{})})}),Object(x.jsx)(zt.a,{}),w?"":Object(x.jsx)(ce.a,{mx:2,onClick:function(){return v(1)},children:"Par jour"}),Object(x.jsx)(C.a,{w:"120px",position:"relative",top:"-7px",mx:2,children:Object(x.jsx)(le,{SyncWithVariable:I,name:"date"})}),Object(x.jsx)(ce.a,{mx:2,onClick:function(){return I(new Date)},children:"Aujourd'hui"}),w?"":Object(x.jsx)(ce.a,{mx:2,onClick:function(){return v(2)},children:"Par 2 jour"}),Object(x.jsx)(zt.a,{}),Object(x.jsx)(ce.a,{colorScheme:"green",mr:2,onClick:function(){return E(P,f)},children:Object(x.jsx)(y.a,{label:"Plus un jour","aria-label":"Plus un jour",children:Object(x.jsx)(Ft.a,{})})})]})}),Object(x.jsx)(At,{usertype:t.fonctionnalite,DeleteMutate:l,task:r,setTask:i,date:P,rowNumber:f,updateTask:function(t){e({title:"Vous ne pouvez pas changer votre r\xe9servation",description:" Vous devez appelez votre m\xe9decin pour le faire",status:"success",duration:"4000",isClosable:!0})},addtask:function(e,t,n){}})]})})},Jt=function(){var e=Object(c.useState)("cabine"),t=Object(O.a)(e,2),n=t[0],a=t[1],r=Object(c.useContext)(p).user;return"secretaire"==r.fonctionnalite?Object(x.jsxs)(C.a,{children:[Object(x.jsx)(Q.a,{children:Object(x.jsx)(ee.a,{onChange:a,value:n,children:Object(x.jsxs)(E.b,{direction:"row",spacing:50,children:[Object(x.jsx)(te.a,{value:"cabine",children:"Dhasboard cabinet "}),Object(x.jsx)(te.a,{value:"moi",children:"Mon dashboard"})]})})}),"cabine"==n?Object(x.jsx)(Kt,{}):Object(x.jsx)(Zt,{})]}):Object(x.jsx)(C.a,{children:"medecin"==r.fonctionnalite?Object(x.jsx)(Kt,{}):Object(x.jsx)(Zt,{})})},$t=function(e){var t,n=Object(c.useState)(""),a=Object(O.a)(n,2),r=(a[0],a[1],e.medecin_id,e.refetchTask),i=e.currentDateStart,s=e.cancelRef,o=e.isOpen,l=e.onClose,j=e.data,d=e.end,b=Object(Y.a)(),u=Object(c.useContext)(p).user,m=(t={onError:function(e){b({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){r(),l()}},Object(Ce.a)((function(e){var t=e.medecin_id,n=e.patient_id,c=e.etat,a=e.date_reservation;return Z.post("pcr",{medecin_id:t,patient_id:n,etat:c,date_reservation:a})}),t)),h=m.mutate,g=m.isLoading,f=Object(c.useState)(""),v=Object(O.a)(f,2),S=(v[0],v[1],Object(se.c)()),y=Object(c.useState)("old"),_=Object(O.a)(y,2),z=(_[0],_[1],function(e,t,n){e=e.replace("T"," ")+":00",h({medecin_id:j.id,patient_id:n,etat:"en ligne",date_reservation:e})});return Object(x.jsx)(C.a,{children:Object(x.jsxs)(ot.a,{motionPreset:"slideInBottom",leastDestructiveRef:s,onClose:l,isOpen:o,isCentered:!0,children:[Object(x.jsx)(Ie.h,{}),Object(x.jsx)(ot.b,{children:Object(x.jsx)(se.a,{connect:S,onValidSubmit:function(e){z(i,d,u.id)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:S.submit,children:[Object(x.jsx)(Ie.g,{children:"Confirmer la r\xe9servation"}),Object(x.jsx)(Ie.c,{}),Object(x.jsx)(X.a,{display:g?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(Ie.b,{display:g?"none":"",children:Object(x.jsxs)(M.a,{pb:2,px:5,children:["R\xe9servation d'un rendez-vous le"," ",i.slice(0,10)+" ","\xe0"," "+i.slice(11,19),"?"]})}),Object(x.jsxs)(Ie.f,{children:[Object(x.jsx)(ce.a,{display:g?"none":"",ref:s,onClick:l,children:"Non"}),Object(x.jsx)(ce.a,{display:g?"none":"",disabled:!S.isValid,type:"submit",ml:3,children:"Oui"})]})]})})})]})})},Yt=function(e){var t=Object(c.useState)(!1),n=Object(O.a)(t,2),a=n[0],r=n[1],i=function(){return r(!1)},s=Object(c.useRef)(),o=Object(c.useState)(!1),l=Object(O.a)(o,2),j=l[0],d=l[1],b=function(){return d(!1)},m=Object(c.useRef)(),h=Object(c.useContext)(p).user,g=e.taskvalue,f=(e.task,e.setTask,e.DeleteMutate),S=e.EnteredMutate,y=e.usertype,_=function(e){e.stopPropagation(),S({id:g.id}),i()},z=function(e){e.stopPropagation(),f({id:g.id}),i()};return h.nom+" "+h.prenom==g.nomprenom?"en attente"==g.etat?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(C.a,{border:"2px",borderRadius:"20px",bgColor:"green.200",borderColor:"green.200",mx:3,px:2,children:Object(x.jsx)(C.a,{color:"gray.800",fontSize:"17px",children:g.nomprenom})})}):Object(x.jsx)(Pt.b,{draggableId:g.id.toString(),index:g.id,children:function(e,t){return Object(x.jsxs)(Xe.a,{children:[Object(x.jsx)(Xe.h,{children:Object(x.jsx)(C.a,Object(u.a)(Object(u.a)(Object(u.a)({onClick:function(e){return function(e){e.stopPropagation()}(e)},ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{style:(t.isDragging,n=e.draggableProps.style,Object(u.a)(Object(u.a)({},n),{},{userSelect:"none",padding:3,margin:"0 0 0px 0"})),border:"2px",borderRadius:"20px",bgColor:t.isDragging?"#3b8a5b":"#b3e6c8",borderColor:"green.200",mx:3,px:2,children:Object(x.jsxs)(C.a,{color:"gray.800",fontSize:"17px",children:[Object(x.jsx)(It,{Header:"Supprimer la r\xe9servation",Body:"Voulez-vous vraiment supprimer cette r\xe9servation avec ".concat(g.nomprenom),icon:Object(x.jsx)(Qe.a,{}),colorScheme:"teal",bg:"red.300",fnTodo:z,btOK:"Effacer",btNon:"Annuler",isOpen:a,setIsOpen:r,onClose:i,cancelRef:s}),g.nomprenom,"medecin"==y?Object(x.jsx)(It,{Header:"Confirmer",Body:"Voulez-vous confirmer que ".concat(g.nomprenom," d\xe9butera sa consultation ? "),icon:Object(x.jsx)(T.a,{}),bg:"blue.300",btOK:"oui",btNon:"Non",fnTodo:_,isOpen:j,setIsOpen:d,onClose:b,cancelRef:m}):null]})}))}),Object(x.jsxs)(Xe.e,{bg:Object(v.d)("green.50","gray.800"),children:[Object(x.jsx)(Xe.g,{fontWeight:"semibold",children:g.nomprenom}),Object(x.jsxs)(Xe.c,{children:["Votre rendez-vous est le ",g.start.slice(0,10)+" ","\xe0"," "+g.start.slice(11,19)]})]})]});var n}},g.id):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(C.a,{border:"2px",borderRadius:"20px",bgColor:"green.200",borderColor:"green.200",mx:3,px:2,children:Object(x.jsx)(C.a,{color:"gray.800",fontSize:"17px",children:"Patiente"})})})},Xt=function(e){var t=e.usertype,n=e.HoursValue,c=e.key,a=e.value,r=e.DeleteMutate,i=e.addtask,s=e.task,o=e.EnteredMutate,l=e.setTask;return Object(x.jsx)(C.a,{h:"160px",fontSize:"20px",border:"1px",borderColor:Object(v.d)("green.200","gray.800"),children:Object(x.jsxs)(Te.a,{h:"100%",templateRows:"repeat(4, 1fr)",border:"3px",borderColor:"red.200",gap:0,children:[Object(x.jsx)(Pt.c,{droppableId:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"00",children:function(e,c){return Object(x.jsx)(Te.b,Object(u.a)(Object(u.a)({},e.droppableProps),{},{ref:e.innerRef,bgColor:Object(v.d)("green.50","gray.600"),color:Object(v.d)("green.800","gray.300"),maxH:"40px",onClick:function(e){return i(e,a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"00",a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15")},borderBottom:"1px",id:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"00",borderColor:"gray.200",children:Object(x.jsxs)(S.a,{children:[Object(x.jsx)(M.a,{fontSize:"xs",children:n.slice(0,3)+"00"}),s.map((function(e){return e.start===a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"00"?Object(x.jsx)(Yt,{usertype:t,EnteredMutate:o,DeleteMutate:r,task:s,setTask:l,taskvalue:e},e.id):""})),e.placeholder]})}))}}),Object(x.jsx)(Pt.c,{droppableId:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15",children:function(e,c){return Object(x.jsx)(Te.b,Object(u.a)(Object(u.a)({},e.droppableProps),{},{ref:e.innerRef,bgColor:Object(v.d)("green.100","gray.700"),maxH:"40px",color:Object(v.d)("green.800","gray.300"),onClick:function(e){return i(e,a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15",a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30")},borderBottom:"1px",id:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15",borderColor:"gray.200",children:Object(x.jsxs)(S.a,{children:[Object(x.jsx)(M.a,{fontSize:"xs",children:n.slice(0,3)+"15"}),s.map((function(e){return e.start===a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15"?Object(x.jsx)(Yt,{usertype:t,EnteredMutate:o,DeleteMutate:r,task:s,setTask:l,taskvalue:e},e.id):""})),e.placeholder]})}))}}),Object(x.jsx)(Pt.c,{droppableId:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30",children:function(e,c){return Object(x.jsx)(Te.b,Object(u.a)(Object(u.a)({},e.droppableProps),{},{ref:e.innerRef,bgColor:Object(v.d)("green.200","gray.800"),maxH:"40px",color:Object(v.d)("green.800","gray.300"),onClick:function(e){return i(e,a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30",a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45")},borderBottom:"1px",id:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30",borderColor:"gray.200",children:Object(x.jsxs)(S.a,{children:[Object(x.jsx)(M.a,{fontSize:"xs",children:n.slice(0,3)+"30"}),s.map((function(e){return e.start===a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30"?Object(x.jsx)(Yt,{usertype:t,EnteredMutate:o,DeleteMutate:r,task:s,setTask:l,taskvalue:e},e.id):""})),e.placeholder]})}))}}),Object(x.jsx)(Pt.c,{droppableId:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45",children:function(e,c){return Object(x.jsx)(Te.b,Object(u.a)(Object(u.a)({},e.droppableProps),{},{ref:e.innerRef,bgColor:Object(v.d)("green.300","gray.900"),color:Object(v.d)("green.800","gray.300"),maxH:"40px",onClick:function(e){return i(e,a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45",a.toISOString().slice(0,10)+"T"+(parseInt(n.slice(0,2))<9)?"0".concat(parseInt(n.slice(0,2))+1,":00"):parseInt(n.slice(0,2))+1+":00")},borderBottom:"1px",id:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45",borderColor:"gray.200",children:Object(x.jsxs)(S.a,{children:[Object(x.jsx)(M.a,{fontSize:"xs",children:n.slice(0,3)+"45"}),s.map((function(e){return e.start===a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45"?Object(x.jsx)(Yt,{usertype:t,EnteredMutate:o,DeleteMutate:r,task:s,setTask:l,taskvalue:e},e.id):""})),e.placeholder]})}))}})]})},c)};var Gt=function(e){for(var t=e.usertype,n=e.EnteredMutate,c=e.rowNumber,a=e.date,r=e.DeleteMutate,i=e.task,s=e.updateTask,o=e.setTask,l=e.addtask,j=["07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00"],d=function(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n},b=[],u=0;u<c;u++)0===u?b.push(a):b.push(d(b[b.length-1],1));var p,m=[],h=Object(kt.a)(b.entries());try{var g=function(){var e=Object(O.a)(p.value,2),c=e[0],a=e[1];m.push(Object(x.jsxs)(C.a,{children:[Object(x.jsx)(Q.a,{w:"100%",border:"1px",borderColor:Object(v.d)("green.200","gray.800"),bgColor:Object(v.d)("green.300","gray.600"),color:Object(v.d)("green.800","gray.50"),h:10,align:"center",children:a.toISOString().slice(0,10)},c),j.map((function(e){return Object(x.jsx)(Xt,{EnteredMutate:n,usertype:t,DeleteMutate:r,HoursValue:e,value:a,addtask:l,task:i,setTask:o},e.slice(0,4))}))]}))};for(h.s();!(p=h.n()).done;)g()}catch(f){h.e(f)}finally{h.f()}return Object(x.jsx)(C.a,{children:Object(x.jsxs)(Te.a,{templateColumns:"repeat(10, 1fr)",gap:0,children:[Object(x.jsx)(Te.b,{colSpan:1,children:Object(x.jsxs)(C.a,{w:"100%",border:"1px",bgColor:Object(v.d)("green.300","gray.600"),borderColor:Object(v.d)("green.200","gray.800"),children:[Object(x.jsx)(Q.a,{h:10,align:"center"}),j.map((function(e){return Object(x.jsx)(Q.a,{border:"1px",borderColor:Object(v.d)("green.200","gray.800"),bgColor:Object(v.d)("green.300","gray.600"),color:Object(v.d)("green.800","gray.50"),h:"160px",px:2,fontSize:"20px",children:e},e)}))]})}),Object(x.jsx)(Te.b,{colSpan:9,w:"100%",children:Object(x.jsx)(Te.a,{w:"100%",templateColumns:"repeat("+parseInt(c)+", 1fr)",gap:0,children:Object(x.jsx)(Pt.a,{onDragEnd:function(e){return s(e)},children:m})})})]})})},Qt=function(e){var t=Object(c.useContext)(p).user,n=e.data,r={medecin_id:n.id,patient_id:t.id},i=Object(Y.a)(),s=Object(c.useState)([{start:"2021-03-22T00:00"}]),o=Object(O.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)(new Date),b=Object(O.a)(d,2),u=b[0],m=b[1],h=Object(z.a)({base:!0,lg:!1}),g=Object(c.useState)(1),f=Object(O.a)(g,2),v=f[0],_=f[1],k=Object(c.useState)(""),P=Object(O.a)(k,2),I=P[0],w=P[1],E=Object(c.useState)(""),M=Object(O.a)(E,2),F=M[0],D=M[1],V=Object(ke.a)(),T=V.isOpen,L=V.onOpen,R=V.onClose,q=a.a.useRef(),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)(["list de r\xe9servation En Ligne on dashboard",t],(function(){return Z.get("lrde",{params:t})}),n)}({params:r,onError:function(e){i({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){for(var t in e.data)e.data[t].start=e.data[t].start.replace(" ","T").slice(0,-3);j(e.data)}}),W=(N.isLoading,N.refetch),B=function(e,t){var n=new Date(e);n.setDate(n.getDate()+t),m(n)},H=Vt({onError:function(e){i({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){W()}}),U=H.mutate,K=H.isLoading,J=Dt({onError:function(e){i({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){W()}}),$=J.mutate,G=J.isLoading;return Object(x.jsxs)(C.a,{children:[Object(x.jsx)(X.a,{display:G||K?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{display:G||K?"none":"",children:Object(x.jsxs)(S.a,{py:2,children:[Object(x.jsx)(ce.a,{ml:2,colorScheme:"green",onClick:function(){return B(u,-1*v)},children:Object(x.jsx)(y.a,{label:"Moin un jour","aria-label":"Moin un jour",children:Object(x.jsx)(Mt.a,{})})}),Object(x.jsx)(zt.a,{}),h?"":Object(x.jsx)(ce.a,{mx:2,onClick:function(){return _(1)},children:"Par jour"}),Object(x.jsx)(ce.a,{mx:2,onClick:function(){return m(new Date)},children:"Aujourd'hui"}),h?"":Object(x.jsx)(ce.a,{mx:2,onClick:function(){return _(2)},children:"Par 2 jour"}),Object(x.jsx)(zt.a,{}),Object(x.jsx)(ce.a,{mr:2,colorScheme:"green",onClick:function(){return B(u,v)},children:Object(x.jsx)(y.a,{label:"Plus un jour","aria-label":"Plus un jour",children:Object(x.jsx)(Ft.a,{})})})]})}),Object(x.jsx)(Gt,{usertype:"reservie",DeleteMutate:U,task:l,setTask:j,date:u,rowNumber:v,updateTask:function(e){$({id:e.draggableId,date_reservation:e.destination.droppableId.replace("T"," ")+":00"})},addtask:function(e,t,n){e.stopPropagation(),w(n),D(t),L()}}),Object(x.jsx)($t,{data:n,currentDateStart:F,cancelRef:q,onClose:R,isOpen:T,refetchTask:W,medecin_id:n.id,setTask:j,end:I})]})},en=function(e){var t=e.data,n=Object(ke.a)(),a=n.isOpen,r=n.onOpen,i=n.onClose,s=Object(c.useRef)(),o=Object(z.a)({base:!0,lg:!1});return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(y.a,{label:"Consultez la salle d'attente","aria-label":"Consultez la salle d'attente",children:Object(x.jsx)(ce.a,{ref:s,size:"sm",my:3,onClick:r,children:o?Object(x.jsx)(L.g,{fontSize:"30px"}):"Rendez-vous "})}),Object(x.jsx)(Pe.a,{size:"full",isOpen:a,placement:"right",onClose:i,finalFocusRef:s,children:Object(x.jsx)(Ie.h,{children:Object(x.jsxs)(Pe.b,{children:[Object(x.jsx)(Ie.c,{}),Object(x.jsxs)(Ie.g,{children:["Salle d'attente ",t.nom," ",t.prenom," \ud83e\ude91"," "]}),Object(x.jsx)(Ie.b,{children:Object(x.jsx)(Qt,{data:t})}),Object(x.jsx)(Ie.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:i,children:"Annuler"})})]})})})]})},tn=function(e){var t=Object(c.useContext)(p),n=t.user,r=(t.cleanUser,e.refetch),i=Object(c.useState)(""),s=Object(O.a)(i,2),o=s[0],l=s[1],j=He({onError:function(e){l("V\xe9rifiez les informations de contact ou la liste que vous avez ins\xe9r\xe9es")},onSuccess:function(e){l(""),r()}}),d=j.mutate,b=j.isLoading,u=Object(se.c)();return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsx)(se.a,{connect:u,onValidSubmit:function(e){e.patient_id=n.id,d(e)},children:Object(x.jsx)("form",{noValidate:!0,onSubmit:u.submit,children:Object(x.jsx)(E.b,{spacing:"2",direction:{base:"column",md:"row"},justify:"space-between",children:Object(x.jsxs)(Be.a,{columns:2,spacing:10,w:"100%",children:[Object(x.jsxs)(G.a,{minW:{md:"320px"},id:"search",children:[Object(x.jsx)(de,{name:"medecin_id",Placeholder:"Entrez l'email ou le t\xe9l\xe9phone du m\xe9decin"}),Object(x.jsx)(M.a,{color:"tomato",children:o})]}),Object(x.jsx)(Le.a,{size:"sm",variant:"outline",children:Object(x.jsxs)(ce.a,{position:"relative",top:"8px",type:"submit",fontSize:"20px",p:5,w:"100%",children:[Object(x.jsx)(X.a,{display:b?"":"none",color:"red.500"}),"Ajouter \ud83e\ude7a"]})})]})})})})})},nn=function(e){var t=Object(z.a)({base:!0,lg:!1}),n=e.data;return Object(x.jsxs)(Xe.a,{children:[Object(x.jsx)(Xe.h,{children:Object(x.jsx)(ce.a,{mx:1,children:t?Object(x.jsx)(L.h,{fontSize:"30px"}):"Info"})}),Object(x.jsx)(Ct.a,{children:Object(x.jsxs)(Xe.e,{children:[Object(x.jsx)(Xe.b,{}),Object(x.jsxs)(Xe.g,{children:[n.nom&&n.nom+" "+n.prenom,n.nomprenom&&n.nomprenom," "]}),Object(x.jsx)(Xe.d,{}),Object(x.jsxs)(Xe.c,{children:[n.photo&&Object(x.jsx)(C.a,{children:Object(x.jsx)(q.a,{size:"xl",name:n.nom+" "+n.prenom,src:"".concat(H).concat(n.photo)})}),n.Adresse&&Object(x.jsxs)(M.a,{children:["Adresse : ",n.Adresse," "]}),n.Code_APCI&&Object(x.jsxs)(M.a,{children:["Code_APCI : ",n.Code_APCI," "]}),n.email&&Object(x.jsx)(M.a,{as:"a",href:"mailto:"+n.email,children:Object(x.jsx)(ce.a,{my:1,colorScheme:"green",leftIcon:Object(x.jsx)(tt.a,{}),variant:"outline",children:"Email"})}),n.telephone&&Object(x.jsx)(M.a,{display:"block",as:"a",href:"tel:"+n.telephone,children:Object(x.jsx)(ce.a,{my:1,leftIcon:Object(x.jsx)(et.a,{}),colorScheme:"green",variant:"outline",children:"Appeller"})})]}),Object(x.jsx)(Xe.f,{children:"Ce sont des informations personnelles sur votre patient"})]})})]})},cn=function(){var e=Object(c.useContext)(p).user,t=Object(Y.a)(),n=Object(c.useState)(0),r=Object(O.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(""),l=Object(O.a)(o,2),j=l[0],d=l[1],b=Object(c.useState)(""),u=Object(O.a)(b,2),m=u[0],h=u[1],g=Object(c.useState)(1),f=Object(O.a)(g,2),v=f[0],S=f[1],y=Object(c.useState)([[""],[""]]),_=Object(O.a)(y,2),z=_[0],k=_[1],P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)("pm",(function(){return Z.get("pm",{params:t})}),n)}({params:{patient_id:e.id,page:v},onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){s(e.data.total),d(e.data.next_page_url),h(e.data.prev_page_url),k(!!e.data.data&&e.data.data||[])}}),I=P.isLoading,w=P.refetch,E=Object(c.useState)({fn:function(e){return Object(x.jsx)(nn,{data:e})},fn2:function(e){return Object(x.jsx)(en,{data:e})}}),F=Object(O.a)(E,2),D=F[0];F[1];return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(X.a,{display:I?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{display:I?"none":"",as:"section",py:{base:0,md:"12"},w:"100%",children:Object(x.jsxs)(C.a,{maxW:{base:"xl",md:"7xl"},mx:"auto",px:{base:"1",md:"8"},children:[Object(x.jsx)(tn,{refetch:w}),Object(x.jsxs)(C.a,{children:[Object(x.jsx)(Ne,{header:["Nom Prenom","domaine"],content:z,fntable:D,message:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(me.a,{as:"h2",size:"lg",fontWeight:"extrabold",letterSpacing:"tight",children:"Vous n'avez aucun m\xe9decin dans votre liste."}),Object(x.jsx)(M.a,{mt:"4",fontSize:"lg",children:"Si vous voulez trouver un m\xe9decin,entrer ses coordonn\xe9es dans le barre ci-dessus"}),Object(x.jsx)(M.a,{mt:!0,fontSize:"lg",children:"(C.I.N , E-mail, Num\xb0t\xe9l)"})]})}}),Object(x.jsx)(We,{total:i,next_page_url:j,prev_page_url:m,page:v,setPage:S})]})]})})]})},an=n(419),rn=n(418),sn=function(e){var t=e.patientsWaiting,n=e.setCurrentPatient,a=e.DeleteMutate,r=e.currentPatient,i=e.SPTWRMutate,s=Object(c.useState)(!1),o=Object(O.a)(s,2),l=o[0],j=o[1],d=function(){return j(!1)},b=Object(c.useRef)(),u=Object(c.useState)(!1),p=Object(O.a)(u,2),m=p[0],h=p[1],g=function(){return h(!1)},f=Object(c.useRef)(),S=function(e,t){e.stopPropagation(),a({id:t}),t==r.rendez_vous_id&&n({}),d()},y=function(e,t){e.stopPropagation(),i({id:t}),t==r.rendez_vous_id&&n({}),g()};return 0!=t.length?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(Q.a,{m:0,p:0,children:[" ",Object(x.jsx)(rn.a,{colorScheme:"green",my:5,fontSize:"15px",borderRadius:10,children:"Pour commencer une consultation avec un patient. Vous devez le choisir on cliquant sur son nom."})]}),Object(x.jsx)(Be.a,{columns:{base:1,md:3,lg:5},spacing:2,children:t.map((function(e){return Object(x.jsxs)(C.a,{_hover:{cursor:"pointer"},bg:Object(v.d)("green.100","gray.800"),borderRadius:"20px",textAlign:"center",p:2,onClick:function(t){t.stopPropagation(),n(e)},children:[e.nomprenom,Object(x.jsxs)(C.a,{children:[Object(x.jsx)(It,{hoverMassage:"Supprimer la r\xe9servation",Header:"Supprimer la r\xe9servation",Body:"Voulez-vous vraiment supprimer cette r\xe9servation avec ".concat(e.nomprenom),icon:Object(x.jsx)(Qe.a,{w:4,h:4}),colorScheme:"teal",bg:"red.300",target:e.rendez_vous_id,fnTodo:S,btOK:"Effacer",btNon:"Annuler",isOpen:l,setIsOpen:j,onClose:d,cancelRef:b}),Object(x.jsx)(It,{hoverMassage:"Envoyer cette patient \xe0 la salle d'attente",Header:"envoyer \xe0 la salle d'attente",Body:"\xcates-vous s\xfbr que vous voulez envoyer ".concat(e.nomprenom," \xe0 la salle d'attente"),icon:Object(x.jsx)(an.a,{w:4,h:4}),colorScheme:"teal",bg:"green.300",target:e.rendez_vous_id,fnTodo:y,btOK:"Effacer",btNon:"Annuler",isOpen:m,setIsOpen:h,onClose:g,cancelRef:f})]})]},"".concat(e.id))}))})]}):Object(x.jsx)(Q.a,{children:Object(x.jsx)(me.a,{as:"h2",size:"lg",fontWeight:"extrabold",letterSpacing:"tight",children:"Aucun patient pour le moment"})})},on=n(36),ln=n(420),jn=function(e){var t=Object(se.b)(e),n=t.errorMessage,r=t.id,i=t.isValid,s=t.isSubmitted,o=t.setValue,l=t.value,j=e.label,d=e.type,b=e.required,u=e.note,p=e.Placeholder,m=e.dtValue,h=a.a.useState(!1),g=Object(O.a)(h,2),f=g[0],v=g[1],S=!i&&(f||s);return Object(c.useEffect)((function(){o(m)}),[m]),Object(x.jsxs)(G.a,{children:[Object(x.jsxs)(oe.a,{htmlFor:r,children:[j,!!b&&" *"]}),Object(x.jsx)(ln.a,{id:r,type:d||"text",placeholder:p||j,value:l||m||"",onChange:function(e){return o(e.target.value)},onBlur:function(){return v(!0)},"aria-invalid":S,"aria-required":!!b,"aria-describedby":S?"".concat(r,"-error"):null}),S&&Object(x.jsx)(M.a,{id:"".concat(r,"-error"),color:"tomato",children:n}),u&&Object(x.jsx)(G.b,{id:"".concat(r,"-note"),children:u})]})},dn=n(399),bn=function(e){var t=Object(se.b)(e),n=t.errorMessage,r=t.id,i=t.isValid,s=t.isSubmitted,o=t.setValue,l=t.value,j=e.label,d=e.type,b=e.required,u=e.note,p=e.Placeholder,m=e.dtValue,h=a.a.useState(!1),g=Object(O.a)(h,2),f=g[0],v=g[1],S=!i&&(f||s);return Object(c.useEffect)((function(){o(m)}),[m]),Object(x.jsxs)(G.a,{children:[Object(x.jsxs)(oe.a,{htmlFor:r,children:[j,!!b&&" *"]}),Object(x.jsx)(je.a,{min:0,id:r,type:d||"number",placeholder:p||j,value:l||m||"",onChange:function(e){return e.target.value<0?o(0):o(e.target.value)},onBlur:function(){return v(!0)},"aria-invalid":S,"aria-required":!!b,"aria-describedby":S?"".concat(r,"-error"):null}),S&&Object(x.jsx)(M.a,{id:"".concat(r,"-error"),color:"tomato",children:n}),u&&Object(x.jsx)(G.b,{id:"".concat(r,"-note"),children:u})]})},un=n(421),On=(n(216),{name:"Element",display:"submenu",add:function(e,t){var n=this.setSubmenu.call(e),c=this;n.querySelectorAll(".se-btn-list").forEach((function(t){t.addEventListener("click",c.onClick.bind(e))})),e.initMenuTarget(this.name,t,n)},setSubmenu:function(){var e=this.util.createElement("DIV");return e.className="se-submenu se-list-layer",e.innerHTML='<div class="se-list-inner se-list-font-size">\n                            <ul class="se-list-basic">\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{patientNomPrenom}">\n                                      Nom et prenom du patient\n                                    </button>\n                                </li>\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{sexesPatient}">\n                                      Mr or MMr Patient\n                                    </button>\n                                </li>\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{agePatient}">\n                                    \xc2ge du patient\n                                    </button>\n                                </li>\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{datePatient}">\n                                    date de naissance patient\n                                    </button>\n                                </li>\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{addresPatient}">\n                                    Address patient\n                                    </button>\n                                </li>\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{sexesmedecin}">\n                                      Mr or MMr medecin\n                                    </button>\n                                </li>\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{medecinNomPrenom}">\n                                    Nom et prenom du medecin\n                                    </button>\n                                </li>\n                              \n                                <li>\n                                    <button type="button" class="se-btn-list" value="{thisDate}">\n                                    date de cette journ\xe9e\n                                    </button>\n                                </li>\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{specialiteMedecin}">\n                                    specialite medecin\n                                    </button>\n                                </li>\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{domaineMedecin}">\n                                    domain medecin\n                                    </button>\n                                </li>\n                            </ul>\n                        </div>',e},onClick:function(e){var t=e.target.value,n=this.util.createElement("span");this.util.addClass(n,"se-custom-tag"),n.textContent=t,this.insertNode(n);var c=this.util.createTextNode(this.util.zeroWidthSpace);n.parentNode.insertBefore(c,n.nextSibling),this.submenuOff()}}),xn=(n(217),function(e){var t,n=e.user,r=e.refetch,i=Object(Y.a)(),s=(t={onError:function(e){i({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){u(),i({title:"Type de certification ajout\xe9 avec succ\xe8s",description:"Vous pouvez le s\xe9lectionner nouveau \xe0 partir de 'Type de certificat'",status:"success",duration:"4000",isClosable:!0}),void 0!=r&&r()}},Object(Ce.a)((function(e){var t=e.type,n=e.structure,c=e.cms_users_id;return Z.post("addct",{type:t,structure:n,cms_users_id:c})}),t)),o=s.mutate,l=s.isLoading,j=Object(ke.a)(),d=j.isOpen,b=j.onOpen,u=j.onClose,p=a.a.useRef(),m=Object(c.useRef)(),h=Object(se.c)(),g=Object(c.useState)(""),f=Object(O.a)(g,2),S=f[0],y=f[1];return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(ce.a,{ref:p,colorScheme:Object(v.d)("green","gray"),onClick:b,children:"Ajouter un certificat"}),Object(x.jsx)(Pe.a,{isOpen:d,placement:"right",onClose:u,size:"full",finalFocusRef:p,children:Object(x.jsx)(Ie.h,{children:Object(x.jsxs)(Pe.b,{bgColor:Object(v.d)("green.50","gray.700"),children:[Object(x.jsx)(Ie.c,{}),Object(x.jsx)(Ie.g,{children:"Cr\xe9ez votre type de certificat"}),Object(x.jsxs)(Ie.b,{children:[Object(x.jsx)(X.a,{display:l?"block":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{display:l?"none":"block",children:Object(x.jsx)(se.a,{connect:h,onValidSubmit:function(e){e.structure=S,e.cms_users_id=n.id,o(e)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:h.submit,children:[Object(x.jsx)(C.a,{mb:5,children:Object(x.jsx)(de,{name:"type",label:"nom de certif",required:"vous devez saisir le nom de la certification"})}),Object(x.jsx)(it.a,{ref:m,lang:"fr",name:"my-editor",height:"auto",placeholder:"S'il vous pla\xeet \xe9crivez votre structure de certificat ici...",showToolbar:!0,values:S,onChange:function(e){y(e)},setOptions:{plugins:[On],buttonList:[["undo","redo"],["font","fontSize","formatBlock",":p-More Paragraph-default.more_paragraph"],["paragraphStyle","blockquote"],["bold","underline","italic","strike","subscript","superscript"],["fontColor","hiliteColor","textStyle"],["removeFormat"],["image"],["align","horizontalRule","list","lineHeight"],[{name:"Element",dataCommand:"Element",buttonClass:"",title:"Element",dataDisplay:"submenu",innerHTML:'<div style="width: 70px;">Mod\xe8le</div>'}],["fullScreen"]]}}),Object(x.jsx)(C.a,{p:2,borderLeft:"1px",my:2,children:"Utiliser le boutton 'mod\xe8le' pour cr\xe9er vos propres certificats. Exemple : si vous ajoutez 'patientNomPr\xe9nom' , lors de votre consulation le nom de votre patient sera ajout\xe9 automatiquement."}),Object(x.jsx)(C.a,{py:3,children:Object(x.jsxs)(ce.a,{colorScheme:"green",type:"submit",children:["Sauvegarder ",h.isValid?"\ud83d\udc4c":""]})})]})})})]}),Object(x.jsx)(Ie.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:u,children:"Annuler"})})]})})})]})}),pn=function(e){var t=Object(c.useContext)(p).user,n=Object(c.useState)(""),a=Object(O.a)(n,2),r=(a[0],a[1]),i=Object(c.useRef)(),s=e.id,o=e.removeComponentsForm,l=e.Patient,j=e.name,d=e.key,b=Object(c.useState)(""),u=Object(O.a)(b,2),m=u[0],h=u[1],g=Object(c.useState)(!0),f=Object(O.a)(g,2),S=f[0],y=f[1],_=Object(Y.a)(),z=Object(c.useState)([]),k=Object(O.a)(z,2),P=k[0],I=k[1],w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)("gc",(function(){return Z.get("gc",{params:t})}),n)}({params:{cms_users_id:t.id},onError:function(e){_({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){I(e.data)}}),E=(w.isLoading,w.refetch),M=Object(c.useState)({}),F=Object(O.a)(M,2),D=F[0],V=F[1],T={cms_users_id:l.id},L=Ye({params:T,onError:function(e){_({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){V(e.data)}}),R=(L.isLoading,L.refetch,function(e,t,n){return e.split(t).join(n)}),q=function(e){var n="homme"==t.sexes?"Mr.":"Mrs.",c="homme"==l.sexes?"Mr.":"Mrs.";return e=R(e,"{sexesPatient}",c),e=R(e,"{medecinNomPrenom}",t.nom+" "+t.prenom),e=R(e,"{patientNomPrenom}",D.nom+" "+D.prenom),e=R(e,"{addresPatient}",l.Adresse),e=R(e,"{sexesmedecin}",n),e=R(e,"{specialiteMedecin}",""),e=R(e,"{domaineMedecin}",""),e=R(e,"{datePatient}",D.date_naissance?new Date(D.date_naissance).toISOString().slice(0,10):""),e=R(e,"{thisDate}",(new Date).toISOString().slice(0,10)),e=R(e,"{agePatient}",D.date_naissance?Math.abs(new Date(Date.now()-new Date(D.date_naissance).getTime()).getUTCFullYear()-1970):"")};return Object(x.jsxs)(bt.d,{boxShadow:"lg",children:[Object(x.jsxs)(bt.b,{children:[Object(x.jsxs)(C.a,{flex:"1",textAlign:"left",children:[""!=m?m:"Certificat",Object(x.jsx)(un.a,{mx:5,onClick:function(e){e.stopPropagation(),y(!S)}}),Object(x.jsx)(je.a,{placeholder:"\xc9crivez le titre de cet \xe9l\xe9ment",display:S?"none":"inline",onChange:function(e){return h(e.target.value)}})]}),Object(x.jsx)(bt.c,{mx:3}),Object(x.jsx)(dn.a,{onClick:function(){return o(s)},colorScheme:"red",bgColor:"red.300",float:"right"})]}),Object(x.jsxs)(bt.e,{bgColor:Object(v.d)("green.50","gray.700"),pb:4,children:[Object(x.jsx)(xn,{user:t}),Object(x.jsx)(C.a,{py:2,children:Object(x.jsx)(st,{required:"Vous devez \xe9crire un certificat ou simplement le supprimer",name:j,editorRef:i,Patient:l})}),Object(x.jsx)(C.a,{py:2,children:Object(x.jsx)(ve,{label:"Type de certificat",data:P,onChange:function(e){return function(e){E(),r(e.value),i.current.editor.setContents(q(e.value))}(e)},name:"selectvalue"})})]})]},"c"+d)},mn=function(e){e.user;var t,n=e.refetch,c=Object(Y.a)(),r=(t={onError:function(e){c({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){d(),c({title:"Type d'acte ajout\xe9 avec succ\xe8s",description:"Vous pouvez le s\xe9lectionner nouveau \xe0 partir dans 'Liste d'acte'",status:"success",duration:"4000",isClosable:!0}),void 0!=n&&n()}},Object(Ce.a)((function(e){var t=e.code,n=e.designation,c=e.price;return Z.post("add_act",{code:t,designation:n,price:c})}),t)),i=r.mutate,s=r.isLoading,o=Object(ke.a)(),l=o.isOpen,j=o.onOpen,d=o.onClose,b=a.a.useRef(),u=Object(se.c)();return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(ce.a,{ref:b,colorScheme:Object(v.d)("green","gray"),onClick:j,children:"Ajouter un acte"}),Object(x.jsx)(Pe.a,{isOpen:l,placement:"right",onClose:d,size:"md",finalFocusRef:b,children:Object(x.jsx)(Ie.h,{children:Object(x.jsxs)(Pe.b,{bgColor:Object(v.d)("green.50","gray.700"),children:[Object(x.jsx)(Ie.c,{}),Object(x.jsx)(Ie.g,{children:"D\xe9finit votre acte"}),Object(x.jsxs)(Ie.b,{children:[Object(x.jsx)(X.a,{display:s?"block":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{display:s?"none":"block",children:Object(x.jsx)(se.a,{connect:u,onValidSubmit:function(e){i(e)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:u.submit,children:[Object(x.jsxs)(C.a,{mb:5,children:[Object(x.jsx)(de,{name:"code",label:"Code",required:"Il est requis de compl\xe9ter ce champ"}),Object(x.jsx)(de,{name:"designation",label:"Designation",required:"Il est requis de compl\xe9ter ce champ"}),Object(x.jsx)(bn,{name:"price",label:"Prix",required:"Il est requis de compl\xe9ter ce champ"})]}),Object(x.jsx)(C.a,{py:3,children:Object(x.jsxs)(ce.a,{colorScheme:"green",type:"submit",children:["Sauvegarder ",u.isValid?"\ud83d\udc4c":""]})})]})})})]}),Object(x.jsx)(Ie.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:d,children:"Annuler"})})]})})})]})},hn=function(e){var t,n=Object(c.useContext)(p).user,a=e.id,r=e.removeComponentsForm,i=e.name,s=e.key,o=Object(c.useState)(""),l=Object(O.a)(o,2),j=l[0],d=l[1],b=Object(c.useState)(!0),u=Object(O.a)(b,2),m=u[0],h=u[1],g=Object(Y.a)(),f=Object(c.useState)([]),S=Object(O.a)(f,2),y=S[0],_=S[1],z=Object(c.useState)(""),k=Object(O.a)(z,2),P=k[0],I=k[1],w=Object(c.useState)(""),E=Object(O.a)(w,2),M=E[0],F=E[1],D=Object(c.useState)(""),V=Object(O.a)(D,2),T=V[0],L=V[1],R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)(["get acte (select2)",t],(function(){return Z.get("gac",{params:t})}),n)}({onError:function(e){g({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){_(e.data)}}),q=(R.isLoading,R.refetch),N=(t={onError:function(e){g({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){I(e.data.code),F(e.data.designation),L(e.data.price)}},Object(Ce.a)((function(e){var t=e.id;return Z.post("ga",{id:t})}),t)),W=N.mutate;N.isLoading;return Object(x.jsxs)(bt.d,{boxShadow:"lg",children:[Object(x.jsxs)(bt.b,{children:[Object(x.jsxs)(C.a,{flex:"1",textAlign:"left",children:[""!=j?j:"Acte",Object(x.jsx)(un.a,{mx:5,onClick:function(e){e.stopPropagation(),h(!m)}}),Object(x.jsx)(je.a,{placeholder:"\xc9crivez le titre de cet \xe9l\xe9ment",display:m?"none":"inline",onChange:function(e){return d(e.target.value)}})]}),Object(x.jsx)(bt.c,{mx:3}),Object(x.jsx)(dn.a,{onClick:function(){return r(a)},colorScheme:"red",bgColor:"red.300",float:"right"})]}),Object(x.jsxs)(bt.e,{bgColor:Object(v.d)("green.50","gray.700"),pb:4,children:[Object(x.jsx)(Q.a,{children:Object(x.jsx)(mn,{refetch:q,user:n})}),Object(x.jsx)(ve,{label:"S\xe9lectionner une acte",data:y,onChange:function(e){return W({id:e.value})},name:"selectvalue"}),Object(x.jsx)(de,{name:"".concat(i,".code"),label:"Code",dtValue:P}),Object(x.jsx)(jn,{name:"".concat(i,".designation"),label:"Diagnostic",dtValue:M}),Object(x.jsx)(jn,{name:"".concat(i,".note"),label:"Note",dtValue:""}),Object(x.jsx)(bn,{name:"".concat(i,".prix"),label:"Prix",dtValue:T})]})]},"a"+s)},gn=function(e){var t=e.id,n=e.removeComponentsForm,a=e.name,r=Object(c.useState)(""),i=Object(O.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)(!0),j=Object(O.a)(l,2),d=j[0],b=j[1];return Object(x.jsxs)(bt.d,{boxShadow:"lg",children:[Object(x.jsxs)(bt.b,{children:[Object(x.jsxs)(C.a,{flex:"1",textAlign:"left",children:[""!=s?s:"Examen",Object(x.jsx)(un.a,{mx:5,onClick:function(e){e.stopPropagation(),b(!d)}}),Object(x.jsx)(je.a,{placeholder:"\xc9crivez le titre de cet \xe9l\xe9ment",display:d?"none":"inline",onChange:function(e){return o(e.target.value)}})]}),Object(x.jsx)(bt.c,{mx:3}),Object(x.jsx)(dn.a,{onClick:function(){return n(t)},colorScheme:"red",bgColor:"red.300",float:"right"})]}),Object(x.jsxs)(bt.e,{bgColor:Object(v.d)("green.50","gray.700"),pb:4,children:[Object(x.jsx)(de,{name:"".concat(a,".type"),label:"Type d'examen",required:"Il est requis de compl\xe9ter ce champ"}),Object(x.jsx)(jn,{name:"".concat(a,".note"),label:"Note d'examen",required:"Il est requis de compl\xe9ter ce champ"}),Object(x.jsx)(bn,{name:"".concat(a,".prix"),label:"Prix d'examen",required:"Il est requis de compl\xe9ter ce champ"})]})]})},fn=n(233),vn=n.n(fn),Sn=function(e){var t=Object(se.b)(e),n=(t.errorMessage,t.id),r=(t.isValid,t.isSubmitted,t.setValue),i=(t.value,e.label),s=e.required,o=a.a.useState(!0),l=Object(O.a)(o,2),j=(l[0],l[1]),d=Object(c.useState)(new Date),b=Object(O.a)(d,2),u=b[0],p=b[1],m=Object(c.useState)(null),h=Object(O.a)(m,2),g=h[0],f=h[1];return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsxs)(G.a,{children:[Object(x.jsxs)(oe.a,{htmlFor:n,children:[i,!!s&&" *"]}),Object(x.jsx)(ie.a,{selected:u,onChange:function(e){var t=Object(O.a)(e,2),n=t[0],c=t[1];p(n),f(c),n&&c&&r(n.toISOString().slice(0,10)+"|"+c.toISOString().slice(0,10))},startDate:u,endDate:g,selectsRange:!0,inline:!0,"aria-required":!!s,onBlur:function(){return j(!0)}})]})})},Cn=function(e){e.user;var t,n=e.refetch,c=Object(Y.a)(),r=(t={onError:function(e){c({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){d(),c({title:"Medicament ajout\xe9 avec succ\xe8s",description:"Vous pouvez l'utiliser maintenant dans la consultation",status:"success",duration:"4000",isClosable:!0}),void 0!=n&&n()}},Object(Ce.a)((function(e){var t=e.designation;return Z.post("addm",{designation:t})}),t)),i=r.mutate,s=r.isLoading,o=Object(ke.a)(),l=o.isOpen,j=o.onOpen,d=o.onClose,b=a.a.useRef(),u=Object(se.c)();return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(ce.a,{ref:b,colorScheme:Object(v.d)("green","gray"),onClick:j,children:"Ajouter un medicament"}),Object(x.jsx)(Pe.a,{isOpen:l,placement:"right",onClose:d,size:"md",finalFocusRef:b,children:Object(x.jsx)(Ie.h,{children:Object(x.jsxs)(Pe.b,{bgColor:Object(v.d)("green.50","gray.700"),children:[Object(x.jsx)(Ie.c,{}),Object(x.jsx)(Ie.g,{children:"Ajouter un medicament"}),Object(x.jsxs)(Ie.b,{children:[Object(x.jsx)(X.a,{display:s?"block":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{display:s?"none":"block",children:Object(x.jsx)(se.a,{connect:u,onValidSubmit:function(e){i(e)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:u.submit,children:[Object(x.jsx)(C.a,{mb:5,children:Object(x.jsx)(de,{name:"designation",label:"Designation",required:"Il est requis de compl\xe9ter ce champ"})}),Object(x.jsx)(C.a,{py:3,children:Object(x.jsxs)(ce.a,{colorScheme:"green",type:"submit",children:["Sauvegarder ",u.isValid?"\ud83d\udc4c":""]})})]})})})]}),Object(x.jsx)(Ie.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:d,children:"Annuler"})})]})})})]})},yn=function(e){var t=e.id,n=e.removeComponentsForm,a=e.name,r=e.MyForm,i=Object(Y.a)(),s=Object(c.useState)(""),o=Object(O.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)([]),b=Object(O.a)(d,2),u=b[0],p=b[1],m=Object(c.useState)(!0),h=Object(O.a)(m,2),g=h[0],f=h[1],S=r.values,y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)("Liste Medicament (select2)",(function(){return Z.get("lms2",{params:t})}),n)}({onError:function(e){i({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){p(e.data)}}).refetch;return Object(x.jsxs)(bt.d,{boxShadow:"lg",children:[Object(x.jsxs)(bt.b,{children:[Object(x.jsxs)(C.a,{flex:"1",textAlign:"left",children:[""!=l?l:"Medicament",Object(x.jsx)(un.a,{mx:5,onClick:function(e){e.stopPropagation(),f(!g)}})]}),Object(x.jsx)(bt.c,{mx:3}),Object(x.jsx)(je.a,{placeholder:"\xc9crivez le titre de cet \xe9l\xe9ment",display:g?"none":"inline",onChange:function(e){return j(e.target.value)}}),Object(x.jsx)(dn.a,{onClick:function(){return n(t)},colorScheme:"red",bgColor:"red.300",float:"right"})]}),Object(x.jsxs)(bt.e,{bgColor:Object(v.d)("green.50","gray.700"),pb:4,children:[Object(x.jsx)(Q.a,{children:Object(x.jsx)(Cn,{refetch:y})}),r.isValid?Object(x.jsx)(ce.a,{onClick:function(){var e=window.open("","PRINT");e.document.write(vn.a.renderToStaticMarkup(function(){var e=S.ordonnances;return Object(x.jsx)(C.a,{children:e!=[]&&null!=e?e.map((function(e){return Object(x.jsx)(x.Fragment,{children:null!=e?Object(x.jsxs)(C.a,{children:[!!e.medicament_id&&"Medicament :  ".concat(e.medicament_id.label),!!e.NBR_FOIS_JOURS&&" | Quantit\xe9 :  ".concat(e.NBR_FOIS_JOURS.label),!!e.duree_entre_chaque_medicament&&" | Dur\xe9e entre chaque medicament :  ".concat(e.duree_entre_chaque_medicament),!!e.lorsqueVousPrenezLeMedicament&&" | Utilisation :  ".concat(e.lorsqueVousPrenezLeMedicament)]}):""})})):""})}())),e.document.close(),e.focus(),e.addEventListener("afterprint",(function(t){e.close()})),e.print()},variant:"outline",colorScheme:"teal",size:"lg",children:Object(x.jsx)(Ke.b,{})}):Object(x.jsx)(Q.a,{pt:3,children:Object(x.jsx)(rn.a,{colorScheme:"red",p:2,children:"remplissez les champs n\xe9cessaire puis imprimer l'ordonnance"})}),Object(x.jsx)(Sn,{name:"".concat(a,".duree"),label:"Dur\xe9e",required:"le champ dur\xe9e est obligatoire"}),Object(x.jsx)(ve,{label:"S\xe9lectionner une medicament",data:u,name:"".concat(a,".medicament_id"),required:" \ud83d\udc8ale champ nom de medicament est obligatoire"}),Object(x.jsx)(de,{name:"".concat(a,".duree_entre_chaque_medicament"),label:"Dur\xe9e entre chaque medicament"}),Object(x.jsxs)(Be.a,{columns:{lg:1,xl:2},spacing:2,children:[Object(x.jsx)(ve,{name:"".concat(a,".NBR_FOIS_JOURS"),label:"Nombre de fois par jour",data:[{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"4",value:4},{label:"5",value:5},{label:"6",value:6},{label:"7",value:7},{label:"8",value:8},{label:"9",value:9},{label:"10",value:10}]}),Object(x.jsx)(de,{name:"".concat(a,".lorsqueVousPrenezLeMedicament"),label:"Utilisation des m\xe9dicaments"})]})]})]})},_n=function(e){var t=Object(c.useContext)(p).user,n=e.id,a=e.removeComponentsForm,r=e.name,i=Object(c.useState)([]),s=Object(O.a)(i,2),o=s[0],l=s[1],j=Object(c.useState)(""),d=Object(O.a)(j,2),b=d[0],u=d[1],m=Object(c.useState)(!0),h=Object(O.a)(m,2),g=h[0],f=h[1],S=Object(Y.a)(),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)("liste medecin",(function(){return Z.get("lm",{params:t})}),n)}({params:{id:t.id},onError:function(e){S({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){l(e.data||[])}});y.isLoading,y.refetch;return Object(x.jsxs)(bt.d,{boxShadow:"lg",children:[Object(x.jsxs)(bt.b,{children:[Object(x.jsxs)(C.a,{flex:"1",textAlign:"left",children:[""!=b?b:"Lettre",Object(x.jsx)(un.a,{mx:5,onClick:function(e){e.stopPropagation(),f(!g)}})]}),Object(x.jsx)(bt.c,{mx:3}),Object(x.jsx)(dn.a,{onClick:function(){return a(n)},colorScheme:"red",bgColor:"red.300",float:"right"})]}),Object(x.jsxs)(bt.e,{bgColor:Object(v.d)("green.50","gray.700"),pb:4,children:[Object(x.jsx)(je.a,{placeholder:"\xc9crivez le titre de cet \xe9l\xe9ment",display:g?"none":"inline",onChange:function(e){return u(e.target.value)}}),Object(x.jsx)(ve,{selectValue:"true",label:"S\xe9lectionner un med\xe9cin",data:o,name:"".concat(r,".medecin_destiantaire_id")}),Object(x.jsx)(jn,{name:"".concat(r,".description"),label:"Contenu de lettre",required:"Il est requis de compl\xe9ter ce champ"})]})]})},zn=function(e){var t=e.id,n=e.removeComponentsForm,a=e.name,r=Object(c.useState)(""),i=Object(O.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)(!0),j=Object(O.a)(l,2),d=j[0],b=j[1];return Object(x.jsxs)(bt.d,{boxShadow:"lg",children:[Object(x.jsxs)(bt.b,{children:[Object(x.jsxs)(C.a,{flex:"1",textAlign:"left",children:[""!=s?s:"Antecedant",Object(x.jsx)(un.a,{mx:5,onClick:function(e){e.stopPropagation(),b(!d)}}),Object(x.jsx)(je.a,{placeholder:"\xc9crivez le titre de cet \xe9l\xe9ment",display:d?"none":"inline",onChange:function(e){return o(e.target.value)}})]}),Object(x.jsx)(bt.c,{mx:3}),Object(x.jsx)(dn.a,{onClick:function(){return n(t)},colorScheme:"red",bgColor:"red.300",float:"right"})]}),Object(x.jsxs)(bt.e,{bgColor:Object(v.d)("green.50","gray.700"),pb:4,children:[Object(x.jsx)(de,{name:"".concat(a,".type"),label:"type de antecedant"}),Object(x.jsx)(jn,{name:"".concat(a,".description"),label:"description de antecedant"})]})]})},kn=function(e){var t=Object(Y.a)(),n=Object(c.useContext)(p).user,a=e.Patient,r=e.setCurrentPatient,i=e.refetchPatientListe,s=e.patientsWaiting,o=e.setpatientsWaiting,l=Object(c.useState)(0),j=Object(O.a)(l,2),d=j[0],b=j[1],u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.params,Object(A.a)(e,["params"]));return Object(Ce.a)((function(e){return Z.post("consultation",e)}),t)}({onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){s.splice(s.indexOf(a),1),o(Object(on.a)(s)),i(),r({}),z([]),t({title:"Enregistr\xe9 avec succ\xe8s \u2714\ufe0f",description:"votre consultation enregistr\xe9 avec succ\xe8s ",status:"success",duration:"3000",isClosable:!0})}}),m=u.mutate,h=u.isLoading,g=Object(se.c)(),f=g.values,S=Object(c.useState)([]),y=Object(O.a)(S,2),_=y[0],z=y[1],k=function(e){b(d+1),z([].concat(Object(on.a)(_),[e]))},P=function(e){z(Object(on.a)(_.filter((function(t){return t.id!==e}))))};return Object(x.jsxs)(C.a,{children:[Object(x.jsx)(X.a,{display:h?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{overflowX:"auto",display:h?"none":"",children:Object(x.jsx)(se.a,{connect:g,onValidSubmit:function(){f.rendez_vous_id=a.rendez_vous_id,f.patient_id=a.id,f.medecin_id=n.id,m(f)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:g.submit,children:[Object(x.jsx)(jn,{name:"Diagnostic",label:"Diagnostic"}),Object(x.jsx)(ne.a,{my:5}),Object(x.jsxs)(C.a,{display:_.length>0?"block":"none",children:["D\xe9tail",Object(x.jsx)(dn.a,{onClick:function(){return z([])},colorScheme:"red",bgColor:"red.200",float:"right",boxShadow:"dark-lg"})]}),Object(x.jsx)(bt.a,{defaultIndex:[0,1,2,3,4,5,6,7,8,9,10],allowMultiple:!0,children:_.sort((function(e,t){return e-t})).map((function(e,t){var n=e.id,c=e.type;return"certificat"===c?Object(x.jsx)(pn,{id:n,removeComponentsForm:P,Patient:a,name:"certificats[".concat(t,"]")},n):"acte"===c?Object(x.jsx)(hn,{id:n,removeComponentsForm:P,Patient:a,index:t,name:"actes[".concat(t,"]")},n):"examen"===c?Object(x.jsx)(gn,{id:n,removeComponentsForm:P,Patient:a,name:"examens[".concat(t,"]")},n):"antecedants"===c?Object(x.jsx)(zn,{id:n,removeComponentsForm:P,Patient:a,name:"antecedants[".concat(t,"]")},n):"ordonnance"===c?Object(x.jsx)(yn,{id:n,MyForm:g,removeComponentsForm:P,Patient:a,name:"ordonnances[".concat(t,"]")},n):"lettre"===c?Object(x.jsx)(_n,{id:n,removeComponentsForm:P,Patient:a,name:"lettres[".concat(t,"]")},n):void 0}))}),Object(x.jsx)(C.a,{py:3,children:Object(x.jsxs)(Be.a,{minChildWidth:"100px",spacing:"10px",children:[Object(x.jsx)(ce.a,{onClick:function(){return k({id:d,type:"certificat"})},colorScheme:Object(v.d)("green","gray"),children:"Certificat"}),Object(x.jsx)(ce.a,{onClick:function(){return k({id:d,type:"acte"})},colorScheme:Object(v.d)("green","gray"),children:"Acte"}),Object(x.jsx)(ce.a,{onClick:function(){return k({id:d,type:"examen"})},colorScheme:Object(v.d)("green","gray"),children:"Examen"}),Object(x.jsx)(ce.a,{onClick:function(){return k({id:d,type:"antecedants"})},colorScheme:Object(v.d)("green","gray"),children:"Antecedants"}),Object(x.jsx)(ce.a,{onClick:function(){return k({id:d,type:"ordonnance"})},colorScheme:Object(v.d)("green","gray"),children:"Medicament"}),Object(x.jsx)(ce.a,{onClick:function(){return k({id:d,type:"lettre"})},colorScheme:Object(v.d)("green","gray"),children:"Lettre"})]})}),Object(x.jsx)(ne.a,{my:5}),Object(x.jsx)(C.a,{right:0,children:Object(x.jsx)(bn,{name:"prix",required:"Vous devez \xe9crire une valeur pour votre consultation",label:"prix consultation",value:0})}),g.isValid?" ":Object(x.jsx)(Q.a,{mt:5,children:Object(x.jsx)(rn.a,{colorScheme:"red",children:"Remplissez les champs n\xe9cessaires puis enregistrer"})}),Object(x.jsx)(G.a,{mt:5,align:"center",children:Object(x.jsxs)(ce.a,{w:"40%",type:"submit",borderColor:"green",colorScheme:"green",disabled:!g.isValid,children:["Enregistrer",g.isValid?" \u2714\ufe0f ":""]})})]})})})]})},Pn=function(){var e,t=Object(Y.a)(),n=Object(c.useState)([]),r=Object(O.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)({}),l=Object(O.a)(o,2),j=l[0],d=l[1],b={medecin_id:Object(c.useContext)(p).user.id},u=(e={onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){S()}},Object(Ce.a)((function(e){var t=e.id;return e.etat,Z.post("sptwr",{id:t,etat:"en attente"})}),e)),m=u.mutate,h=u.isLoading,g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)("liste-pattient-wating",(function(){return Z.get("pdcm",{params:t})}),n)}({params:b,onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){s(e.data)}}),f=g.isLoading,S=g.refetch,y=Vt({onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){S()}}),_=y.mutate,z=y.isLoading;return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(X.a,{display:f||z||h?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{w:"100%",p:5,display:f||z||h?"none":"",children:Object(x.jsx)(sn,{SPTWRMutate:m,currentPatient:j,DeleteMutate:_,setCurrentPatient:d,patientsWaiting:i})}),Object(x.jsxs)(C.a,{pb:5,display:""==!!j.nomprenom?"none":"block",children:[Object(x.jsxs)(Q.a,{p:5,bg:Object(v.d)("green.100","gray.800"),mx:"auto",boxShadow:"xl",w:{base:"100%",md:"95%"},borderRadius:"20px",children:[Object(x.jsxs)(M.a,{fontSize:"xl",children:[" ",j.nomprenom]}),Object(x.jsx)(ce.a,{position:"relative",p:0,m:0,left:["5vw","20vw","10vw","20vw"],colorScheme:"green",onClick:function(){return d({})},children:Object(x.jsx)(Qe.a,{w:4,h:4})})]}),Object(x.jsxs)(C.a,{mx:"auto",boxShadow:"lg",bg:Object(v.d)("green.50","gray.800"),w:{base:"90%",md:"92%"},children:[Object(x.jsxs)(Be.a,{minChildWidth:"100px",spacing:"10px",children:[Object(x.jsx)(C.a,{m:5,textAlign:"center",children:Object(x.jsx)(Ht,{patient:j})}),Object(x.jsx)(C.a,{m:5,textAlign:"center",children:Object(x.jsx)(at,{patient:j})}),Object(x.jsx)(C.a,{m:5,textAlign:"center",children:Object(x.jsx)(St,{patient:j})})]}),Object(x.jsx)(C.a,{p:5,children:Object(x.jsx)(kn,{setCurrentPatient:d,Patient:j,refetchPatientListe:S,patientsWaiting:i,setpatientsWaiting:s})})]})]})]})},In=function(e){var t,n=Object(z.a)({base:!0,lg:!1}),r=e.refetch,i=e.data,s=e.type,o=e.id,l=e.cms_users_id,j=Object(Y.a)(),d=(t={onError:function(e){j({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){g(),j({title:"Type de certification ajout\xe9 avec succ\xe8s",description:"Vous pouvez le s\xe9lectionner nouveau \xe0 partir de 'Type de certificat'",status:"success",duration:"4000",isClosable:!0}),void 0!=r&&r()}},Object(Ce.a)((function(e){var t=e.type,n=e.structure,c=e.cms_users_id,a=e.id;return Z.post("uct",{type:t,structure:n,cms_users_id:c,id:a})}),t)),b=d.mutate,u=d.isLoading,p=Object(ke.a)(),m=p.isOpen,h=p.onOpen,g=p.onClose,f=Object(c.useState)(i),S=Object(O.a)(f,2),y=S[0],_=S[1];Object(c.useEffect)((function(){_(i)}),[i]);var k=a.a.useRef(),P=Object(c.useRef)(),I=Object(se.c)();return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(ce.a,{ref:k,colorScheme:Object(v.d)("green","gray"),onClick:h,children:n?Object(x.jsx)(L.k,{fontSize:"30px"}):"Mettre \xe0 jour"}),Object(x.jsx)(Pe.a,{isOpen:m,placement:"right",onClose:g,size:"full",finalFocusRef:k,children:Object(x.jsx)(Ie.h,{children:Object(x.jsxs)(Pe.b,{bgColor:Object(v.d)("green.50","gray.700"),children:[Object(x.jsx)(Ie.c,{}),Object(x.jsx)(Ie.g,{children:"Cr\xe9ez votre type de certificat"}),Object(x.jsxs)(Ie.b,{children:[Object(x.jsx)(X.a,{display:u?"block":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{display:u?"none":"block",children:Object(x.jsx)(se.a,{connect:I,onValidSubmit:function(e){e.structure=y,e.id=o,e.type=s,e.cms_users_id=l,b(e)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:I.submit,children:[Object(x.jsx)(it.a,{ref:P,lang:"fr",name:"my-editor",height:"auto",placeholder:"S'il vous pla\xeet \xe9crivez votre structure de certificat ici...",showToolbar:!0,setContents:y,values:y,onChange:function(e){_(e)},setOptions:{plugins:[On],buttonList:[["undo","redo"],["font","fontSize","formatBlock",":p-More Paragraph-default.more_paragraph"],["paragraphStyle","blockquote"],["bold","underline","italic","strike","subscript","superscript"],["fontColor","hiliteColor","textStyle"],["removeFormat"],["image"],["align","horizontalRule","list","lineHeight"],[{name:"Element",dataCommand:"Element",buttonClass:"",title:"Element",dataDisplay:"submenu",innerHTML:'<div style="width: 70px;">Mod\xe8le</div>'}],["fullScreen"]]}}),Object(x.jsx)(C.a,{p:2,borderLeft:"1px",my:2,children:"Utiliser le boutton 'mod\xe8le' pour cr\xe9er vos propres certificats. Exemple : si vous ajoutez 'patientNomPr\xe9nom' , lors de votre consulation le nom de votre patient sera ajout\xe9 automatiquement."}),Object(x.jsx)(C.a,{py:3,children:Object(x.jsxs)(ce.a,{colorScheme:"green",type:"submit",children:["Sauvegarder ",I.isValid?"\ud83d\udc4c":""]})})]})})})]}),Object(x.jsx)(Ie.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:g,children:"Annuler"})})]})})})]})},wn=function(){var e=Object(c.useContext)(p).user,t=Object(c.useState)([[""]]),n=Object(O.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(0),o=Object(O.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)(""),b=Object(O.a)(d,2),u=b[0],m=b[1],h=Object(c.useState)(""),g=Object(O.a)(h,2),f=g[0],v=g[1],S=Object(c.useState)(1),_=Object(O.a)(S,2),z=_[0],k=_[1],P=Object(Y.a)(),I=Object(c.useState)(""),w=Object(O.a)(I,2),M=w[0],F=w[1],D=e.idMedecin||e.id,V=Object(c.useState)({id:D,page:z}),L=Object(O.a)(V,2),R=L[0],q=L[1],N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)("ltc",(function(){return Z.get("ltc",{params:t})}),n)}({params:R,onError:function(e){P({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){j(e.data.total),m(e.data.next_page_url),v(e.data.prev_page_url),i(!!e.data.data&&e.data.data||[])}}),W=N.isLoading,B=N.refetch;Object(c.useEffect)((function(){B()}),[R]);var H=Object(c.useState)({fn:function(e){return Object(x.jsx)(In,{refetch:B,data:e.structure,type:e.type,id:e.id,cms_users_id:e.cms_users_id})}}),U=Object(O.a)(H,2),K=U[0];U[1];return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsxs)(C.a,{children:[Object(x.jsx)(Q.a,{children:Object(x.jsx)(xn,{refetch:B,user:e})}),Object(x.jsx)(X.a,{pt:3,display:W?"block":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsxs)(C.a,{display:W?"none":"",children:[Object(x.jsx)(E.b,{pt:10,spacing:"4",direction:{base:"column",md:"row"},justify:"space-between",children:Object(x.jsxs)(Te.a,{templateColumns:"repeat(2, 1fr)",w:"100%",gap:2,children:[Object(x.jsx)(y.a,{label:"\xc9crivez le nom du certificat que vous voulez la chercher","aria-label":"\xc9crivez le nom du certificat que vous avez recherch\xe9 sur ce",children:Object(x.jsx)(G.a,{w:"100%",id:"search",children:Object(x.jsxs)(Oe.a,{size:"sm",children:[Object(x.jsx)(oe.a,{srOnly:!0,children:"Filtrer:"}),Object(x.jsx)(xe.a,{pointerEvents:"none",color:"gray.400",children:Object(x.jsx)(T.i,{})}),Object(x.jsx)(je.a,{rounded:"base",type:"search",onChange:function(e){return F(e.target.value)},placeholder:"Filtrer"})]})})}),Object(x.jsx)(y.a,{label:"Rechercher \ud83d\udd0e","aria-label":"Rechercher \ud83d\udd0e",children:Object(x.jsx)(Le.a,{size:"sm",variant:"outline",children:Object(x.jsx)(ce.a,{w:"100%",onClick:function(){q({id:D,page:z,recherche:M})},iconSpacing:"1",leftIcon:Object(x.jsx)(Ke.a,{fontSize:"1.25em"}),children:"Chercher"})})})]})}),Object(x.jsx)(Ne,{header:["Nom"],content:r,fntable:K}),Object(x.jsx)(We,{total:l,next_page_url:u,prev_page_url:f,page:z,setPage:k})]})]})})},En=n(422),An=function(){Object(z.a)({base:!0,lg:!1});var e=Object(c.useContext)(p),t=e.user,n=(e.cleanUser,Object(Y.a)()),r=Object(c.useState)(0),i=Object(O.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)(""),j=Object(O.a)(l,2),d=j[0],b=j[1],u=Object(c.useState)(""),m=Object(O.a)(u,2),h=m[0],g=m[1],f=Object(c.useState)(1),v=Object(O.a)(f,2),S=v[0],y=v[1],_=Object(c.useState)([[""],[""],[""]]),k=Object(O.a)(_,2),P=k[0],I=k[1],w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)("cp",(function(){return Z.get("cp",{params:t})}),n)}({params:{patient_id:t.id,page:S},onError:function(e){n({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){o(e.data.total),b(e.data.next_page_url),g(e.data.prev_page_url),I(!!e.data.data&&e.data.data||[])}}),E=w.isLoading,F=w.refetch,D=Vt({onSuccess:function(e){F()}}),V=D.mutate,T=(D.isLoading,Object(c.useState)({fn2:function(e){return Object(x.jsx)(Wt,{Header:"Supprimer la r\xe9servation",Body:"Voulez-vous vraiment supprimer cette r\xe9servation avec ".concat(e.nomprenom),icon:Object(x.jsx)(Qe.a,{}),colorScheme:"teal",bg:"red.300",target:{id:e.id},fnTodo:V,btOK:"Effacer",btNon:"Annuler"})},fn:function(e){return Object(x.jsx)(nn,{data:e})}})),L=Object(O.a)(T,2),R=L[0];L[1];return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(X.a,{display:E?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{display:E?"none":"",as:"section",py:{base:0,md:"12"},w:"100%",children:Object(x.jsx)(C.a,{maxW:{base:"xl",md:"7xl"},mx:"auto",px:{base:"1",md:"8"},children:Object(x.jsxs)(C.a,{overflowX:"auto",children:[Object(x.jsx)(Ne,{header:["Nom Prenom","Date"],content:P,fntable:R,message:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(me.a,{as:"h2",size:"lg",fontWeight:"extrabold",letterSpacing:"tight",children:"Vous n'avez aucun rendez vous"}),Object(x.jsx)(M.a,{mt:"4",fontSize:"lg",children:"si vous voulez r\xe9server un rendez-vous , consulter le lien suivant :"}),Object(x.jsxs)(En.a,{children:["Reserver un rendez-vous ",Object(x.jsx)(an.a,{mx:"2px"})]})]})}}),Object(x.jsx)(We,{total:s,next_page_url:d,prev_page_url:h,page:S,setPage:y})]})})})]})},Mn=n(423),Fn=function(e){var t=Object(c.useState)([]),n=Object(O.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(0),s=Object(O.a)(i,2),o=s[0],l=s[1],j=Object(c.useState)(""),d=Object(O.a)(j,2),b=d[0],u=d[1],p=Object(c.useState)(""),m=Object(O.a)(p,2),h=m[0],g=m[1],f=Object(c.useState)(1),v=Object(O.a)(f,2),S=v[0],y=v[1],_=Object(c.useState)([]),z=Object(O.a)(_,2),k=z[0],P=z[1],I=Object(c.useState)(-1),w=Object(O.a)(I,2),E=w[0],M=w[1],F=Object(c.useState)(-1),D=Object(O.a)(F,2),V=D[0],T=D[1],L=Object(c.useState)([]),R=Object(O.a)(L,2),q=R[0],N=R[1],W=Object(c.useState)(""),B=Object(O.a)(W,2),H=B[0],U=B[1],K=Object(Y.a)(),J=Object(se.c)(),$=J.values,G={search:H,DomaineSelected:E,sousDomaineSelected:V,page:S},ee=Object(c.useState)({fn:function(e){return Object(x.jsx)(en,{data:e})},fn2:function(e){return Object(x.jsx)(nn,{data:e})}}),te=Object(O.a)(ee,2),ne=te[0],ae=(te[1],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)(["Trouver un medecin",t],(function(){return Z.get("tm",{params:t})}),n)}({params:G,onError:function(e){K({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){l(e.data.total),u(e.data.next_page_url),g(e.data.prev_page_url),r(!!e.data.data&&e.data.data||[])}})),re=ae.isLoading,ie=ae.refetch,oe=ye({onError:function(e){K({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){P(e.data),ie()}}),le=(oe.isLoading,oe.refetch),je={id:$.SelectDomaine},de=_e({param:je,onError:function(e){K({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){N(e.data),ie()}}),be=(de.isLoading,de.mutate);return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(se.a,{connect:J,onValidSubmit:function(e){},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:J.submit,children:[Object(x.jsxs)(Te.a,{p:3,templateColumns:{base:"repeat(1, 1fr)",md:"repeat(3, 1fr)"},gap:3,children:[Object(x.jsx)(ve,{data:k,label:"Domaine",onChange:function(e){M(e.value),N([]),T(-1),be({domaine_id:e.value})},name:"SelectDomaine"}),Object(x.jsx)(ve,{onChange:function(e){T(e.value),le()},data:q,label:"Sous Domaine",name:"selectSousDomaine"}),Object(x.jsx)(ce.a,{top:"45%",onClick:function(){T(-1),M(-1)},children:"Tous les m\xe9decins"})]}),Object(x.jsxs)(C.a,{children:[Object(x.jsx)(Q.a,{children:Object(x.jsx)(X.a,{display:re?"":"none",textAlign:"center",size:"xl",m:"auto",color:"red.500"})}),Object(x.jsxs)(C.a,{display:re?"none":"",children:[Object(x.jsx)(Re,{buttonText:"Chercher",buttonIcon:Object(x.jsx)(Mn.a,{}),chercherFn:U}),Object(x.jsx)(Ne,{header:["Nom Prenom","domaine"],content:a,fntable:ne,message:function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(me.a,{as:"h2",size:"lg",fontWeight:"extrabold",letterSpacing:"tight",children:"Aucun medecin n'existe sous cette sp\xe9cialit\xe9"})})}}),Object(x.jsx)(We,{total:o,next_page_url:b,prev_page_url:h,page:S,setPage:y})]})]})]})})})},Dn=function(e){var t,n=e.data,c=e.refetch,r=Object(z.a)({base:!0,lg:!1}),i=Object(Y.a)(),s=(t={onError:function(e){i({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){u(),i({title:"Type de certification ajout\xe9 avec succ\xe8s",description:"Vous pouvez le s\xe9lectionner nouveau \xe0 partir de 'Type de certificat'",status:"success",duration:"4000",isClosable:!0}),void 0!=c&&c()}},Object(Ce.a)((function(e){var t=e.code,n=e.designation,c=e.price,a=e.id;return Z.post("uact",{code:t,designation:n,price:c,id:a})}),t)),o=s.mutate,l=s.isLoading,j=Object(ke.a)(),d=j.isOpen,b=j.onOpen,u=j.onClose,O=a.a.useRef(),p=Object(se.c)();return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(ce.a,{ref:O,colorScheme:Object(v.d)("green","gray"),onClick:b,children:r?Object(x.jsx)(L.k,{fontSize:"30px"}):"Mettre \xe0 jour"}),Object(x.jsx)(Pe.a,{isOpen:d,placement:"right",onClose:u,size:"md",finalFocusRef:O,children:Object(x.jsx)(Ie.h,{children:Object(x.jsxs)(Pe.b,{children:[Object(x.jsx)(Ie.c,{}),Object(x.jsx)(Ie.g,{children:"Mettre \xe0 jour votre acte"}),Object(x.jsxs)(Ie.b,{children:[Object(x.jsx)(X.a,{display:l?"block":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsx)(C.a,{display:l?"none":"block",children:Object(x.jsx)(se.a,{connect:p,onValidSubmit:function(e){e.id=n.id,o(e)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:p.submit,children:[Object(x.jsxs)(C.a,{mb:5,children:[Object(x.jsx)(de,{name:"code",label:"Code",dtValue:n.code,required:"Il est requis de compl\xe9ter ce champ"}),Object(x.jsx)(de,{name:"designation",dtValue:n.designation,label:"Designation",required:"Il est requis de compl\xe9ter ce champ"}),Object(x.jsx)(bn,{dtValue:n.price,name:"price",label:"Prix",required:"Il est requis de compl\xe9ter ce champ"})]}),Object(x.jsx)(C.a,{py:3,children:Object(x.jsxs)(ce.a,{colorScheme:"green",type:"submit",children:["Sauvegarder ",p.isValid?"\ud83d\udc4c":""]})})]})})})]}),Object(x.jsx)(Ie.f,{children:Object(x.jsx)(ce.a,{variant:"outline",mr:3,onClick:u,children:"Annuler"})})]})})})]})},Vn=function(){var e=Object(c.useContext)(p).user,t=Object(c.useState)([[""]]),n=Object(O.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(0),o=Object(O.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)(""),b=Object(O.a)(d,2),u=b[0],m=b[1],h=Object(c.useState)(""),g=Object(O.a)(h,2),f=g[0],v=g[1],S=Object(c.useState)(1),_=Object(O.a)(S,2),z=_[0],k=_[1],P=Object(Y.a)(),I=Object(c.useState)(""),w=Object(O.a)(I,2),M=w[0],F=w[1],D=Object(c.useState)({page:z}),V=Object(O.a)(D,2),L=V[0],R=V[1],q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)("la",(function(){return Z.get("la",{params:t})}),n)}({params:L,onError:function(e){P({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){j(e.data.total),m(e.data.next_page_url),v(e.data.prev_page_url),i(!!e.data.data&&e.data.data||[])}}),N=q.isLoading,W=q.refetch;Object(c.useEffect)((function(){W()}),[L]);var B=Object(c.useState)({fn:function(e){return Object(x.jsx)(Dn,{data:e,refetch:W})}}),H=Object(O.a)(B,2),U=H[0];H[1];return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsxs)(C.a,{children:[Object(x.jsx)(Q.a,{children:Object(x.jsx)(mn,{refetch:W,user:e})}),Object(x.jsx)(E.b,{pt:10,spacing:"4",direction:{base:"column",md:"row"},justify:"space-between",children:Object(x.jsxs)(Te.a,{templateColumns:"repeat(2, 1fr)",w:"100%",gap:2,children:[Object(x.jsx)(y.a,{label:"\xc9crivez le nom d'acte que vous voulez le chercher","aria-label":"\xc9crivez le nom du certificat que vous avez recherch\xe9 sur ce",children:Object(x.jsx)(G.a,{w:"100%",id:"search",children:Object(x.jsxs)(Oe.a,{size:"sm",children:[Object(x.jsx)(oe.a,{srOnly:!0,children:"Filtrer:"}),Object(x.jsx)(xe.a,{pointerEvents:"none",color:"gray.400",children:Object(x.jsx)(T.i,{})}),Object(x.jsx)(je.a,{rounded:"base",type:"search",onChange:function(e){return F(e.target.value)},placeholder:"Filtrer"})]})})}),Object(x.jsx)(y.a,{label:"Rechercher \ud83d\udd0e","aria-label":"Rechercher \ud83d\udd0e",children:Object(x.jsx)(Le.a,{size:"sm",variant:"outline",children:Object(x.jsx)(ce.a,{w:"100%",onClick:function(){R({page:z,recherche:M})},iconSpacing:"1",leftIcon:Object(x.jsx)(Ke.a,{fontSize:"1.25em"}),children:"Chercher"})})})]})}),Object(x.jsx)(X.a,{pt:3,display:N?"block":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsxs)(C.a,{display:N?"none":"",children:[Object(x.jsx)(Ne,{header:["code","designation"],content:r,fntable:U}),Object(x.jsx)(We,{total:l,next_page_url:u,prev_page_url:f,page:z,setPage:k})]})]})})},Tn=function(){Object(c.useContext)(p).user;var e=Object(c.useState)([[""]]),t=Object(O.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(0),s=Object(O.a)(i,2),o=s[0],l=s[1],j=Object(c.useState)(""),d=Object(O.a)(j,2),b=d[0],u=d[1],m=Object(c.useState)(""),h=Object(O.a)(m,2),g=h[0],f=h[1],v=Object(c.useState)(1),S=Object(O.a)(v,2),_=S[0],z=S[1],k=Object(Y.a)(),P=Object(c.useState)(""),I=Object(O.a)(P,2),w=I[0],M=I[1],F=Object(c.useState)({page:_}),D=Object(O.a)(F,2),V=D[0],L=D[1],R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)("listem",(function(){return Z.get("listem",{params:t})}),n)}({params:V,onError:function(e){k({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){l(e.data.total),u(e.data.next_page_url),f(e.data.prev_page_url),r(!!e.data.data&&e.data.data||[])}}),q=R.isLoading,N=R.refetch;Object(c.useEffect)((function(){N()}),[V]);return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsxs)(C.a,{children:[Object(x.jsx)(Q.a,{children:Object(x.jsx)(Cn,{refetch:N})}),Object(x.jsx)(E.b,{pt:10,spacing:"4",direction:{base:"column",md:"row"},justify:"space-between",children:Object(x.jsxs)(Te.a,{templateColumns:"repeat(2, 1fr)",w:"100%",gap:2,children:[Object(x.jsx)(y.a,{label:"\xc9crivez le nom du m\xe9dicament que vous vouler le chercher","aria-label":"\xc9crivez le nom du certificat que vous avez recherch\xe9 sur ce",children:Object(x.jsx)(G.a,{w:"100%",id:"search",children:Object(x.jsxs)(Oe.a,{size:"sm",children:[Object(x.jsx)(oe.a,{srOnly:!0,children:"Filtrer:"}),Object(x.jsx)(xe.a,{pointerEvents:"none",color:"gray.400",children:Object(x.jsx)(T.i,{})}),Object(x.jsx)(je.a,{rounded:"base",type:"search",onChange:function(e){return M(e.target.value)},placeholder:"Filtrer"})]})})}),Object(x.jsx)(y.a,{label:"Rechercher \ud83d\udd0e","aria-label":"Rechercher \ud83d\udd0e",children:Object(x.jsx)(Le.a,{size:"sm",variant:"outline",children:Object(x.jsx)(ce.a,{w:"100%",onClick:function(){L({page:_,recherche:w})},iconSpacing:"1",leftIcon:Object(x.jsx)(Ke.a,{fontSize:"1.25em"}),children:"Chercher"})})})]})}),Object(x.jsx)(X.a,{pt:3,display:q?"block":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsxs)(C.a,{display:q?"none":"",children:[Object(x.jsx)(Ne,{header:["nom"],content:n}),Object(x.jsx)(We,{total:o,next_page_url:b,prev_page_url:g,page:_,setPage:z})]})]})})},Ln=function(){var e=Object(c.useContext)(p).user;return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsxs)(C.a,{flex:"1",borderWidth:"2px",rounded:"xl",px:{base:0,md:1},py:{base:2,md:1},children:[Object(x.jsx)(De,{path:"/dashboard",component:Jt,isAuth:!0,exact:!0}),Object(x.jsx)(De,{path:"/dashboard/Consultation",component:Pn,isAuth:"medecin"==e.fonctionnalite,exact:!0}),Object(x.jsx)(De,{path:"/dashboard/Mod\xe8le de certificat",component:wn,isAuth:"medecin"==e.fonctionnalite||"secretaire"==e.fonctionnalite,exact:!0}),Object(x.jsx)(De,{path:"/dashboard/Liste d'actes",component:Vn,isAuth:"medecin"==e.fonctionnalite||"secretaire"==e.fonctionnalite,exact:!0}),Object(x.jsx)(De,{path:"/dashboard/Gestion de compte",component:Fe,isAuth:!0,exact:!0}),Object(x.jsx)(De,{path:"/dashboard/Mes rendez vous",component:An,isAuth:"patient"==e.fonctionnalite||"secretaire"==e.fonctionnalite,exact:!0}),Object(x.jsx)(De,{path:"/dashboard/Historiques",component:vt,isAuth:"patient"==e.fonctionnalite||"secretaire"==e.fonctionnalite,exact:!0}),Object(x.jsx)(De,{path:"/dashboard/Mes patients",component:_t,isAuth:"medecin"==e.fonctionnalite||"secretaire"==e.fonctionnalite,exact:!0}),Object(x.jsx)(De,{path:"/dashboard/Mes m\xe9decins",component:cn,isAuth:"patient"==e.fonctionnalite||"secretaire"==e.fonctionnalite,exact:!0}),Object(x.jsx)(De,{path:"/dashboard/Trouver un m\xe9decin",component:Fn,isAuth:!0,exact:!0}),Object(x.jsx)(De,{path:"/dashboard/Liste medicament",component:Tn,isAuth:"medecin"==e.fonctionnalite||"secretaire"==e.fonctionnalite,exact:!0})]})})},Rn=n(424),qn=function(e){var t=Object(f.g)(),n=e.notif,c=e.refetch,r=e.removeElement,i=Object(Y.a)(),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);return Object(Ce.a)((function(e){var t=e.id;return Z.post("rmnot",{id:t})}),t)}({onError:function(e){i({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){c()}}),o=(s.isLoading,s.mutate),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);return Object(Ce.a)((function(e){var t=e.id;return Z.post("vnotif",{id:t})}),t)}({onSuccess:function(e){c()}}).mutate;return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsxs)(C.a,{p:2,onClick:function(){t.push(n.url||"/dashboard")},onMouseEnter:function(){0==n.is_read&&(l({id:n.id}),n.is_read=1)},color:Object(v.d)("green.900","gray.100"),bgColor:1==n.is_read?"":Object(v.d)("green.50","gray.500"),children:[Object(x.jsx)(C.a,{float:"right",fontSize:"10px",colorScheme:"red",children:Object(x.jsx)(Ge.a,{size:"xs",m:1,bg:"red.300",colorScheme:"teal",fontSize:"10px",icon:Object(x.jsx)(Qe.a,{}),onClick:function(e){r(n),e.stopPropagation(),o({id:n.id})}})}),n.content]}),Object(x.jsx)(ne.a,{})]})},Nn=function(e){var t=Object(f.g)(),n=Object(c.useContext)(p),a=n.user,r=n.cleanUser,i=Object(Y.a)(),s=Object(c.useState)([]),o=Object(O.a)(s,2),l=o[0],j=o[1],d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Se.a)("notification",(function(){return Z.get("notification",{params:t})}),n)}({params:{id:a.id},onError:function(e){i({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){j(e.data.notife),"non Active"===e.data.status&&(r(),t.push("/login"))}}),b=(d.isLoading,d.refetch),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);return Object(Ce.a)((function(e){var t=e.id;return Z.post("rmanotif",{id:t})}),t)}({onError:function(e){i({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})}}).mutate,m=function(e){var t=Object(on.a)(l);t.splice(t.indexOf(e),1),j(t)};return l.length?Object(x.jsxs)(Xe.a,{children:[Object(x.jsx)(Xe.h,{children:Object(x.jsxs)(Rn.a,{mx:3,size:"lg",colorScheme:"gray",borderRadius:"full",_hover:{cursor:"pointer"},children:[Object(x.jsx)(y.a,{label:"Notification","aria-label":"Notification",children:"\ud83d\udd14"}),Object(x.jsx)(Rn.b,{children:0!=l.length?l.length:""})]})}),Object(x.jsxs)(Xe.e,{mx:2,children:[Object(x.jsx)(Xe.b,{}),Object(x.jsx)(Xe.d,{}),Object(x.jsxs)(Xe.g,{children:[Object(x.jsx)(M.a,{fontSize:"2xl",children:" Notification"}),0!=l.length?Object(x.jsx)(ce.a,{fontSize:"13px",onClick:function(){u({id:a.id}),j([])},float:"right",mr:2,children:"Effacer tout"}):""]}),Object(x.jsx)(Xe.c,{overflowY:"scroll",maxH:"70vh",children:l.map((function(e){return Object(x.jsx)(qn,{removeElement:m,refetch:b,notif:e})}))}),Object(x.jsx)(ne.a,{})]})]}):null},Wn=n(234),Bn=function(e){var t=e.onClick,n=e.isOpen;return Object(x.jsxs)(C.a,{display:{base:"block",md:"none"},ml:"-8",mr:"2",as:"button",type:"button",rounded:"md",p:"1",fontSize:"xl",color:"gray.500",_hover:{bg:"gray.100"},onClick:t,children:[Object(x.jsx)(C.a,{srOnly:!0,children:n?"Close Menu":"Open Menu"}),n?Object(x.jsx)(P.d,{}):Object(x.jsx)(P.c,{})]})},Hn=function(){var e=Object(_.a)(),t=Object(O.a)(e,2),n=t[0],a=t[1],r=Object(z.a)({base:!0,md:!1});return c.useEffect((function(){0==r&&a.off()}),[r,a]),Object(u.a)({isOpen:n},a)},Un=function(){var e=Object(v.c)(),t=e.colorMode,n=e.toggleColorMode,c=Object(f.h)().pathname,a=Hn(),r=a.isOpen,i=a.toggle,s=(a.actions,Object(Wn.useSwipeable)({onSwipedLeft:function(){return i()},onSwipedRight:function(){return i()},preventDefaultTouchmoveEvent:!0,trackMouse:!0}));return Object(x.jsxs)(S.a,Object(u.a)(Object(u.a)({},s),{},{height:"100vh",w:"100vw",bg:Object(v.d)("green.500","inherit"),overflow:"hidden",sx:{"--sidebar-width":"245px"},children:[Object(x.jsx)(C.a,{as:"nav",display:"block",flex:"1",width:"var(--sidebar-width)",left:"0",py:"5",px:"1",color:"gray.200",position:"fixed",children:Object(x.jsxs)(C.a,{fontSize:"sm",lineHeight:"tall",children:[Object(x.jsx)(J,{}),Object(x.jsx)(w,{pt:"5",pb:"6",children:Object(x.jsx)(R,{toggle:i})})]})}),Object(x.jsx)(C.a,{flex:"1",p:{base:"0",md:"6"},marginStart:{md:"var(--sidebar-width)"},position:"relative",left:r?"var(--sidebar-width)":"0",transition:"left 0.2s",children:Object(x.jsx)(C.a,{maxW:"2560px",bg:Object(v.d)("white","gray.700"),height:"100%",rounded:{md:"lg"},children:Object(x.jsxs)(S.a,{direction:"column",height:"full",children:[Object(x.jsxs)(S.a,{w:"full",py:"4",justify:"space-between",align:"center",px:"10",children:[Object(x.jsxs)(S.a,{align:"center",minH:"8",children:[Object(x.jsx)(Bn,{onClick:i,isOpen:r}),Object(x.jsx)(I,{path:c})]}),Object(x.jsxs)(S.a,{align:"center",minH:"8",children:[Object(x.jsx)(Nn,{}),Object(x.jsx)(C.a,{display:"inline",_hover:{cursor:"pointer"},onClick:n,children:Object(x.jsx)(y.a,{label:"Mode sombre","aria-label":"Mode sombre",children:"light"===t?"\u2600\ufe0f":"\ud83c\udf19"})})]})]}),Object(x.jsx)(S.a,{direction:"column",flex:"1",overflow:"auto",px:{base:1,md:6,lg:8},children:Object(x.jsx)(w,{children:Object(x.jsx)(Ln,{})})})]})})})]}))},Kn=function(){var e,t=Object(f.g)(),n=Object(c.useContext)(p).setUser,r=Object(Y.a)(),i=(e={onError:function(e){r({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){var c=Object(u.a)({},e.data);0!==Object.entries(e.data).length&&"Active"==c.status?(c.isAuthenticated=!0,localStorage.setItem("user",JSON.stringify(c)),n(c),r({title:"\ud83d\udc68\u200d\u2695\ufe0f Bienvenue "+("homme"==c.sexes?"M ":"Mme ")+c.nom,description:" Vous \xeates maintenant connect\xe9 \xe0 votre compte.",status:"success",duration:"4000",isClosable:!0})):"non Active"===c.status?r({titre:"V\xe9rifiez vos informations\ud83d\udd10",description:"Votre compte est d\xe9sactiv\xe9",status:"success",duration:4e3,isClosable:!0}):r({titre:"V\xe9rifiez vos informations\ud83d\udd10",description:"Entrez votre e-mail, t\xe9l\xe9phone ou CIN et votre mot de passe",status:"success",duration:4e3,isClosable:!0}),t.push("/dashboard")}},Object(Ce.a)((function(e){var t=e.user,n=e.password;return Z.post("login",{user:t,password:n})}),e)),s=i.mutate,o=i.isLoading,l=Object(se.c)();return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(X.a,{display:o?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsxs)(C.a,{display:o?"none":"",children:[Object(x.jsx)(se.a,{connect:l,onValidSubmit:function(e){s(e)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:l.submit,children:[Object(x.jsx)(de,{name:"user",label:"Nom d'utilisateur",required:"Il est requis de compl\xe9ter ce champ",note:"Connectez-vous avec  N\xb0 T\xe9l\xe9phone ou votre N\xb0 C.I.N ou E-mail"}),Object(x.jsx)(pe,{name:"password",label:"Mot de passe",required:"Il est requis de compl\xe9ter ce champ",type:"password"}),Object(x.jsx)(G.a,{mt:5,align:"center",children:Object(x.jsxs)(ce.a,{w:"40%",type:"submit",borderColor:"green.500",disabled:!l.isValid,children:["Se connecter",l.isValid?"\ud83d\udc4c":""]})})]})}),Object(x.jsx)(M.a,{mt:"4",align:"center",maxW:"md",fontWeight:"medium",children:Object(x.jsx)(C.a,{marginStart:"1",color:Object(v.d)("blue.600","blue.200"),_hover:{color:"blue.600"},display:{base:"block",sm:"revert"},children:Object(x.jsx)(g.b,{to:"singup",children:"Cr\xe9ez votre compte \u2728"})})})]})]})},Zn=function(){var e=Object(f.g)(),t=Object(Y.a)(),n=Lt({onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(n){1==(n=n.data).api_status&&(n.exists?t({title:n.elementExists+" existe d\xe9ja",description:"choisir un autre "+n.elementExists+" \ud83d\udcad",status:"success",duration:"4000",isClosable:!0}):(t({title:" \u2728 ",description:"\ud83c\udf89Votre compte a \xe9t\xe9 enregistr\xe9",status:"success",duration:"4000",isClosable:!0}),e.push("/login")))}}),r=n.mutate,i=n.isLoading,s=Object(c.useState)("patient"),o=Object(O.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)("homme"),b=Object(O.a)(d,2),u=b[0],p=b[1],m=Object(se.c)(),h=m.values;return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(X.a,{display:i?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(x.jsxs)(E.b,{maxW:400,display:i?"none":"",margin:"auto",spacing:5,children:[Object(x.jsx)(se.a,{connect:m,onValidSubmit:function(e){e.sexes=u,e.id_cms_privileges=l,r(e)},children:Object(x.jsxs)("form",{noValidate:!0,onSubmit:m.submit,children:[Object(x.jsx)(G.a,{children:Object(x.jsx)(Q.a,{children:Object(x.jsx)(ee.a,{onChange:j,value:l,name:"id_cms_privileges",children:Object(x.jsxs)(E.b,{direction:"row",size:"lg",children:[Object(x.jsx)(te.a,{value:"patient",py:3,mx:5,children:"\ud83d\ude4b\u200d\u2642 Patient"}),Object(x.jsx)(te.a,{value:"medecin",py:3,mx:5,children:"\ud83e\ude7a M\xe9decin"})]})})})}),Object(x.jsx)(de,{name:"nom",label:"Nom",required:"Il est requis de compl\xe9ter ce champ",validations:[{rule:Object($.e)("^[a-zA-Z ]*$"),message:"Le nom ne contient que des lettres"}]}),Object(x.jsx)(de,{name:"prenom",label:"Pr\xe9nom",required:"Il est requis de compl\xe9ter ce champ",validations:[{rule:Object($.e)("^[a-zA-Z ]*$"),message:"Le prenom ne contient que des lettres"}]}),Object(x.jsx)(G.a,{children:Object(x.jsx)(Q.a,{children:Object(x.jsx)(ee.a,{onChange:p,value:u,name:"sexes",children:Object(x.jsxs)(E.b,{direction:"row",size:"lg",children:[Object(x.jsx)(te.a,{value:"homme",py:3,mx:5,children:"Homme \ud83d\udc68\u200d\ud83e\uddb0"}),Object(x.jsx)(te.a,{value:"femme",py:3,mx:5,children:"Femme \ud83d\udc69\u200d\ud83e\uddb0"})]})})})}),Object(x.jsx)(le,{name:"date_naissance",label:"Date de naissance"}),Object(x.jsx)(de,{name:"email",label:"E-mail",validations:[{rule:Object($.a)(),message:"Veuillez v\xe9rifier le format de l'E-mail"},{rule:function(e){return!!e||!!h.cin||!!h.telephone},message:'Le champ E-mail doit contenir "@" et "." ',deps:[h.cin,h.telephone]}]}),Object(x.jsx)(de,{name:"cin",label:"C.I.N",validations:[{rule:Object($.b)(8),message:"La carte d'identit\xe9 doit \xeatre constitu\xe9e  de 8 chiffres"},{rule:Object($.d)(),message:"La carte d'identit\xe9 ne contient que des chiffres"},{rule:Object($.b)(8),message:"La carte d'identit\xe9 doit \xeatre constitu\xe9e  de 8 chiffres"},{rule:function(e){return!!e||!!h.email||!!h.telephone},message:"La carte d'identit\xe9 doit \xeatre constitu\xe9e  de 8 chiffres",deps:[h.email,h.telephone]}]}),Object(x.jsx)(de,{name:"telephone",label:"T\xe9l\xe9phone",validations:[{rule:Object($.b)(8),message:"La num\xe9ro de t\xe9l\xe9phone doit \xeatre constitu\xe9e  de 8 chiffres"},{rule:Object($.d)(),message:"La num\xe9ro de t\xe9l\xe9phone  ne contient que des chiffres"},{rule:function(e){return!!e||!!h.cin||!!h.email},message:"La num\xe9ro de t\xe9l\xe9phone doit \xeatre constitu\xe9e  de 8 chiffres",deps:[h.cin,h.email]}]}),Object(x.jsx)(rn.a,{colorScheme:"green",my:5,fontSize:"15px",children:"vous devez saisir votre email, t\xe9l\xe9phone ou CIN afin que vous puissiez s'inscrire."}),Object(x.jsx)(pe,{name:"password",label:"Mot de passe",required:"Il est requis de compl\xe9ter ce champ ",type:"password",validations:[{rule:Object($.c)(6),message:"Le mot de passe doit contenir au moins 6 caract\xe8res"}]}),Object(x.jsx)(pe,{name:"R_password",label:"R\xe9p\xe9ter le mot de passe",required:"Il est requis de compl\xe9ter le champ correspondant au r\xe9p\xe9ter mot de passe",type:"password",validations:[{rule:function(e){return e==h.password},message:"Le mot de passe r\xe9p\xe9t\xe9 doit \xeatre le m\xeame.",deps:[h.cin,h.telephone]}]}),Object(x.jsx)(G.a,{mt:5,align:"center",children:Object(x.jsxs)(ce.a,{type:"submit",borderColor:"green.500",disabled:!m.isValid,children:["Cr\xe9er mon compte",m.isValid?"\ud83d\udc4c":""]})})]})}),Object(x.jsx)(Q.a,{children:Object(x.jsxs)(g.b,{to:"login",children:["Se connecter",Object(x.jsx)(an.a,{mx:"2px"})]})})]})]})},Jn=function(){return Object(x.jsx)(C.a,{bg:Object(v.d)("green.50","inherit"),minH:"100vh",py:"12",px:{sm:"6",lg:"8"},children:Object(x.jsxs)(C.a,{maxW:{sm:"md"},mx:{sm:"auto"},w:{sm:"full"},children:[Object(x.jsxs)(C.a,{children:[Object(x.jsx)(C.a,{}),Object(x.jsx)(me.a,{mt:"6",textAlign:"center",size:"xl",fontWeight:"extrabold",children:"Bienvenue \xe0 Tbiby"})]}),Object(x.jsx)(C.a,{maxW:{sm:"md"},mx:{sm:"auto"},mt:"8",w:{sm:"full"},children:Object(x.jsxs)(C.a,{bg:Object(v.d)("white","gray.700"),py:"8",px:{base:"4",md:"10"},shadow:"base",rounded:{sm:"lg"},children:[Object(x.jsx)(f.b,{component:Kn,exact:!0,path:"/login"}),Object(x.jsx)(f.b,{component:Zn,exact:!0,path:"/Singup"})]})})]})})},$n=n(425),Yn=function(){var e=Object(f.g)();return Object(x.jsx)(Q.a,{minH:"100vh",textAlign:"center",onClick:function(){return e.push("/dashboard")},children:Object(x.jsxs)(C.a,{children:[Object(x.jsx)(C.a,{children:Object(x.jsx)($n.a,Object(ae.a)({src:"",h:"75vh"},"src","./image/404.png"))}),Object(x.jsx)(C.a,{mt:10,children:Object(x.jsx)(ce.a,{variant:"outline",size:"lg",colorScheme:"green",children:"Bienvenue"})})]})})},Xn=function(e){var t=e.isAuth,n=Object(A.a)(e,["isAuth"]);return t?Object(x.jsx)(f.a,{to:{pathname:"/dashboard"}}):Object(x.jsx)(f.b,Object(u.a)({},n))};var Gn=function(){var e=Object(c.useContext)(p).user;return new d.a,Object(x.jsx)(a.a.Fragment,{children:Object(x.jsx)(g.a,{children:Object(x.jsxs)(f.d,{children:[Object(x.jsx)(f.b,{path:"/",exact:!0,children:Object(x.jsx)(f.a,{to:"/dashboard"})}),Object(x.jsx)(Xn,{component:Jn,path:"/login",isAuth:e.isAuthenticated}),Object(x.jsx)(Xn,{component:Jn,path:"/singup",isAuth:e.isAuthenticated}),Object(x.jsx)(Ve,{component:Un,path:"/dashboard",isAuth:e.isAuthenticated}),Object(x.jsx)(f.b,{component:Yn,path:"*"})]})})})};var Qn=function(){var e=new d.a;return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsx)(b.a,{client:e,children:Object(x.jsx)(h,{children:Object(x.jsx)(Gn,{})})})})},ec=n(426),tc={".chakra-collapse":{overflow:"visible!important"},".chakra-accordion .css-0 > * ":{display:"block"}},nc=Object(ec.a)({config:{initialColorMode:"light",useSystemColorMode:!1}}),cc={styles:{global:function(){return Object(u.a)({},tc)}}},ac=Object(ec.a)(cc),rc=function(){i.a.render(Object(x.jsxs)(a.a.StrictMode,{children:[Object(x.jsx)(o.a,{initialColorMode:nc.config.initialColorMode}),Object(x.jsxs)(l.a,{theme:ac,children:[Object(x.jsx)(j.a,{}),Object(x.jsx)(Qn,{})]})]}),document.getElementById("root")),s()};window.cordova?document.addEventListener("deviceready",rc,!1):rc()}},[[369,1,2]]]);
//# sourceMappingURL=main.ffc0ab95.chunk.js.map