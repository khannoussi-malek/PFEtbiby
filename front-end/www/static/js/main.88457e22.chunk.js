(this.webpackJsonptbiby=this.webpackJsonptbiby||[]).push([[0],{189:function(e,t,n){},217:function(e,t,n){},369:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(42),i=n.n(r),s=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,442)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},o=n(427),l=n(428),j=n(374),d=n(155),b=n(434),u=n(135),O=n(14),x=n(3),p=n(1),m=Object(c.createContext)(),h={id:null,nom:null,prenom:null,isAuthenticated:!1,telephone:null,email:null,cin:null,sexes:null,photo:null,fonctionnalite:"",idMedecin:null},g=function(e){var t=localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user"))||h,n=Object(c.useState)(t),a=Object(x.a)(n,2),r=a[0],i=a[1];return Object(p.jsx)(m.Provider,Object(O.a)({value:{user:r,setUser:i,cleanUser:function(){localStorage.clear(),i({})}}},e))},f=n(47),v=n(38),S=n(169),C=n(404),y=n(388),_=n(436),z=n(168),k=n(375),P=n(387),I=n(91),w=function(e,t){var n=e.path,c=Object(v.g)(),a=n.split("/");return a.shift(),Object(p.jsx)(P.a,Object(O.a)(Object(O.a)({fontSize:"lg"},t),{},{separator:Object(p.jsx)(y.a,{as:I.a,color:"gray.400",fontSize:"md",top:"2px",pos:"relative"}),children:a.map((function(e){return Object(p.jsx)(P.b,{color:"inherit",children:Object(p.jsx)(P.c,{onClick:function(){"dashboard"!=e?c.push(e):c.push("/dashboard")},children:e.charAt(0).toUpperCase()+e.slice(1)})},e)}))}))},E=function(e){return Object(p.jsx)(y.a,Object(O.a)(Object(O.a)({overflowY:"auto",height:"85vh",minH:"px",maxH:"full"},e),{},{sx:{"&::-webkit-scrollbar-track":{bg:"transparent"},"&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-thumb":{bg:Object(S.d)("green.500","gray.700"),borderRadius:"20px"}}}))},M=n(438),A=n(18),D=n(389),F=n(390),T=function(e){var t=Object(v.h)().pathname,n=Object(v.g)(),c=e.children,a=e.linkto,r=e.icon,i=void 0===r?Object(p.jsx)(V,{}):r,s=e.avatar,o=Object(A.a)(e,["children","linkto","icon","avatar"]);return Object(p.jsx)(y.a,Object(O.a)(Object(O.a)({as:"a",marginEnd:"2",fontSize:"sm",color:"white",bgColor:t=="/dashboard/"+a?Object(S.d)("green.300","gray.600"):"",onClick:function(){return n.push("/dashboard/"+a)},display:"block",px:"3",py:"2",rounded:"md",cursor:"pointer",_hover:{color:"white",bg:Object(S.d)("green.300","gray.600")},className:"group",fontWeight:"medium",transition:"background .1s ease-out"},o),{},{children:Object(p.jsxs)(M.a,{fontSize:"md",children:[Object(p.jsx)(y.a,{opacity:s?1:.5,_groupHover:{opacity:1},children:s||i}),Object(p.jsx)(D.a,{children:c})]})}))},V=Object(F.a)({viewBox:"0 0 16 16",path:Object(p.jsx)("path",{d:"M3.38974 12.6633L9.42974 12.6633C9.86308 12.6633 10.2697 12.4567 10.5164 12.1033L13.1497 8.39C13.3164 8.15667 13.3164 7.85 13.1497 7.61667L10.5097 3.89667C10.2697 3.54334 9.86308 3.33667 9.42974 3.33667L3.38974 3.33667C2.84974 3.33667 2.53641 3.95667 2.84974 4.39667L5.42974 8.00334L2.84974 11.61C2.53641 12.05 2.84974 12.6633 3.38974 12.6633V12.6633Z",fill:"currentcolor"})}),L=n(35),R=n(34),q=function(){var e=Object(c.useContext)(m),t=e.user,n=e.cleanUser,r=Object(v.g)(),i=[],s=[{url:"Dashboard",icon:Object(p.jsx)(R.a,{fontSize:"20px"})},{url:"Historiques",icon:Object(p.jsx)(R.c,{fontSize:"20px"})},{url:"Trouver un m\xe9decin",icon:Object(p.jsx)(L.i,{fontSize:"20px"})},{url:"Mes rendez vous",icon:Object(p.jsx)(L.c,{fontSize:"20px"})},{url:"Mes m\xe9decins",icon:Object(p.jsx)(L.e,{fontSize:"20px"})}];return"patient"==t.fonctionnalite?i=s:"medecin"==t.fonctionnalite?i=[{url:"Dashboard",icon:Object(p.jsx)(R.a,{fontSize:"20px"})},{url:"Mes patients",icon:Object(p.jsx)(L.d,{fontSize:"20px"})},{url:"Consultation",icon:Object(p.jsx)(R.d,{fontSize:"20px"})},{url:"Mod\xe8le de certificat",icon:Object(p.jsx)(R.b,{fontSize:"20px"})},{url:"Liste d'actes",icon:Object(p.jsx)(R.i,{fontSize:"20px"})},{url:"Liste medicament",icon:Object(p.jsx)(R.j,{fontSize:"20px"})}]:"secretaire"==t.fonctionnalite&&(i=[{url:"Dashboard",icon:Object(p.jsx)(R.a,{fontSize:"20px"})},{url:"Mod\xe8le de certificat",icon:Object(p.jsx)(R.b,{fontSize:"20px"})},{url:"Liste d'actes",icon:Object(p.jsx)(R.i,{fontSize:"20px"})},{url:"Liste medicament",icon:Object(p.jsx)(R.j,{fontSize:"20px"})},{url:"Mon historiques",icon:Object(p.jsx)(R.c,{fontSize:"20px"})},{url:"Mes rendez vous",icon:Object(p.jsx)(L.c,{fontSize:"20px"})},{url:"Mes m\xe9decins",icon:Object(p.jsx)(L.e,{fontSize:"20px"})},{url:"Trouver un m\xe9decin",icon:Object(p.jsx)(L.i,{fontSize:"20px"})}]),Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)(y.a,{mb:{base:"70px"},children:i.map((function(e){return Object(p.jsx)(T,{linkto:"Dashboard"==e.url?"":e.url,icon:e.icon,children:e.url},e.url)}))}),Object(p.jsx)(y.a,{pos:"fixed",w:{base:"62%",md:"50%"},bottom:{base:"20px",md:"24px"},left:{base:"72px",md:"95px"},children:Object(p.jsx)(M.b,{bgColor:"red.300",rounded:8,children:Object(p.jsx)(T,{onClick:function(){n(),r.push("/login")},icon:Object(p.jsx)(L.b,{}),fontSize:"xlx",p:4,children:"Se d\xe9connecter"})})})]})},N=n(391),W=n(220),H=n.n(W),B=n(221),U="http://192.168.137.1:8000",K=Date.now(),Z=B.Md5.hashStr("pfetbiby2020"+K+navigator.userAgent).toString(),J=(new b.a,H.a.create({baseURL:U+"/api/",headers:{"X-Authorization-Time":K,"X-Authorization-Token":Z}})),$=function(){var e=Object(c.useContext)(m).user,t=Object(v.g)();e.photo;return Object(p.jsx)(a.a.Fragment,{children:Object(p.jsx)(y.a,{as:"div",p:"3",display:"block",transition:"background 0.1s",rounded:"xl",_hover:{bg:"whiteAlpha.200"},whiteSpace:"nowrap",onClick:function(){t.push("/dashboard/gestion de compte")},children:Object(p.jsxs)(M.a,{children:[Object(p.jsx)(N.a,{size:"md",src:e.photo?"".concat(U).concat(e.photo):"",name:e.nom+" "+e.prenom}),Object(p.jsx)(y.a,{lineHeight:"1",children:Object(p.jsx)(D.a,{fontWeight:"semibold",children:e.nom+" "+e.prenom})}),Object(p.jsx)(y.a,{size:"lg",mr:8,right:"0px",children:Object(p.jsx)(L.f,{})})]})})})},Y=n(26),X=n(431),Q=n(372),G=n(102),ee=n(405),te=n(238),ne=n(440),ce=n(406),ae=n(225),re=n(21),ie=n(134),se=n.n(ie),oe=n(9),le=(n(188),n(189),n(392)),je=function(e){var t,n=Object(c.useState)(new Date),r=Object(x.a)(n,2),i=r[0],s=r[1],o=Object(oe.b)(e),l=(o.errorMessage,o.id),j=(o.isValid,o.isSubmitted,o.setValue),d=o.value,b=e.label,u=(e.type,e.required),O=(e.note,e.dValue),m=e.SyncWithVariable,h=a.a.useState(!0),g=Object(x.a)(h,2),f=(g[0],g[1]);return Object(p.jsx)(a.a.Fragment,{children:Object(p.jsxs)(G.a,{children:[Object(p.jsxs)(le.a,{htmlFor:l,children:[b,!!u&&" *"]}),Object(p.jsx)(se.a,(t={selected:i,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",id:l,onBlur:function(){return f(!0)},dateFormat:"yyyy-MM-dd"},Object(re.a)(t,"selected",i),Object(re.a)(t,"value",d||O),Object(re.a)(t,"onChange",(function(e){m&&m(e),j(e.toISOString().slice(0,10),s(e))})),t))]})})},de=n(393),be=function(e){var t=Object(oe.b)(e),n=t.errorMessage,r=t.id,i=t.isValid,s=t.isSubmitted,o=t.setValue,l=t.value,j=e.label,d=e.type,b=e.required,u=e.note,O=e.Placeholder,m=e.dtValue,h=a.a.useState(!1),g=Object(x.a)(h,2),f=g[0],v=g[1],S=!i&&(f||s);return Object(c.useEffect)((function(){o(m)}),[m]),Object(p.jsxs)(G.a,{children:[Object(p.jsxs)(le.a,{htmlFor:r,children:[j,!!b&&" *"]}),Object(p.jsx)(de.a,{id:r,type:d||"text",placeholder:O||j,value:l||m||"",onChange:function(e){return o(e.target.value)},onBlur:function(){return v(!0)},"aria-invalid":S,"aria-required":!!b,"aria-describedby":S?"".concat(r,"-error"):null}),S&&Object(p.jsx)(D.a,{id:"".concat(r,"-error"),color:"tomato",children:n}),u&&Object(p.jsx)(G.b,{id:"".concat(r,"-note"),children:u})]})},ue=n(396),Oe=n(397),xe=n(394),pe=n(395),me=function(e){var t=Object(c.useState)(!1),n=Object(x.a)(t,2),r=n[0],i=n[1],s=Object(oe.b)(e),o=s.errorMessage,l=s.id,j=s.isValid,d=s.isSubmitted,b=s.setValue,u=s.value,O=e.label,m=e.required,h=e.note,g=a.a.useState(!1),f=Object(x.a)(g,2),v=f[0],S=f[1],C=!j&&(v||d);return Object(p.jsxs)(G.a,{children:[Object(p.jsxs)(le.a,{htmlFor:l,children:[O,!!m&&" *"]}),Object(p.jsxs)(xe.a,{children:[Object(p.jsx)(de.a,{id:l,type:r?"text":"password",value:null!==u&&void 0!==u?u:"",onChange:function(e){return b(e.target.value)},onBlur:function(){return S(!0)},"aria-invalid":C,"aria-required":!!m,"aria-describedby":C?"".concat(l,"-error"):null}),Object(p.jsx)(pe.b,{children:Object(p.jsx)(ae.a,{bgColor:"transparent",size:"sm",onClick:function(){return i(!r)},children:r?Object(p.jsx)(ue.a,{}):Object(p.jsx)(Oe.a,{})})})]}),C&&Object(p.jsxs)(D.a,{id:"".concat(l,"-error"),color:"tomato",children:["\ud83d\udd75 ",o]}),h&&Object(p.jsx)(G.b,{id:"".concat(l,"-note"),children:h})]})},he=n(398),ge=function(e){var t=e.title,n=e.children,c=Object(A.a)(e,["title","children"]);return Object(p.jsxs)(M.b,Object(O.a)(Object(O.a)({direction:{base:"column",md:"row"},spacing:"6",py:"4"},c),{},{children:[Object(p.jsx)(y.a,{children:t&&Object(p.jsx)(he.a,{as:"h2",fontWeight:"semibold",fontSize:"lg",flexShrink:0,children:t})}),n]}))},fe=function(e){var t=e.gcInfo,n=e.age;return Object(p.jsx)(a.a.Fragment,{children:Object(p.jsx)(ge,{title:"information sp\xe9cifique",children:Object(p.jsxs)(M.c,{width:"full",spacing:"6",children:[n()>18?"":Object(p.jsx)(be,{name:"parent",label:"Repr\xe9sentant l\xe9gal",Placeholder:t.parent}),Object(p.jsx)(be,{name:"Code_APCI",label:"Code APCI",Placeholder:t.Code_APCI,validations:[{rule:Object(Y.d)(),message:"Le code-APCI ne contient que des chiffres"}]}),Object(p.jsx)(be,{name:"Adresse",label:"Adresse",dtValue:t.Adresse,Placeholder:t.Adresse})]})})})},ve=n(236),Se=function(e){var t=Object(c.useState)(0),n=Object(x.a)(t,2),r=(n[0],n[1],Object(oe.b)(e)),i=r.errorMessage,s=r.id,o=r.isValid,l=r.isSubmitted,j=r.setValue,d=r.value,b=e.data,u=e.name,m=e.label,h=e.note,g=e.required,f=a.a.useState(!1),v=Object(x.a)(f,2),C=v[0],y=v[1],_=!o&&(C||l),z={control:function(e){return Object(O.a)(Object(O.a)({},e),{},{backgroundColor:"white"})},option:function(e,t){t.data;var n=t.isDisabled,c=t.isFocused;t.isSelected;return Object(O.a)(Object(O.a)({},e),{},{backgroundColor:c?Object(S.d)("green","teal"):"white",color:c?"#FFF":"#000",cursor:n?"not-allowed":"default"})}};return Object(p.jsxs)(G.a,{children:[Object(p.jsxs)(le.a,{htmlFor:s,children:[m," ",!!g&&" *"]}),Object(p.jsx)(ve.a,{id:s,isSearchable:!0,value:null!==d&&void 0!==d?d:"",name:u,placeholder:d,onChange:function(e){return function(e){j(e)}(e)},options:b,onBlur:function(){return y(!0)},styles:z}),_&&Object(p.jsx)(D.a,{id:"".concat(s,"-error"),color:"tomato",children:i}),h&&Object(p.jsx)(G.b,{id:"".concat(s,"-note"),children:h})]})},Ce=n(435),ye=n(441),_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);return Object(Ce.a)("domaine",(function(){return J.get("dom")}),t)},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.params,Object(A.a)(e,["params"]));return Object(ye.a)((function(e){var t=e.domaine_id;return J.post("sousdom",{domaine_id:t})}),t)},ke=function(e){var t=Object(oe.b)(e),n=t.errorMessage,c=t.id,r=t.isValid,i=t.isSubmitted,s=t.setValue,o=t.value,l=e.label,j=e.type,d=e.required,b=e.note,u=a.a.useState(!1),O=Object(x.a)(u,2),m=O[0],h=O[1],g=!r&&(m||i);return Object(p.jsxs)(G.a,{mt:5,children:[Object(p.jsxs)(le.a,{htmlFor:c,children:[l,!!d&&" *"]}),Object(p.jsx)(de.a,{id:c,type:j||"text",value:null!==o&&void 0!==o?o:"",onChange:function(e){return s(e.target.value)},onBlur:function(){return h(!0)},"aria-invalid":g,"aria-required":!!d,"aria-describedby":g?"".concat(c,"-error"):null}),g&&Object(p.jsxs)(D.a,{id:"".concat(c,"-error"),color:"tomato",children:["\ud83d\udd75 ",n]}),b&&Object(p.jsx)(G.b,{id:"".concat(c,"-note"),children:b})]})},Pe=n(400),Ie=n(439),we=n(48),Ee=function(e){var t,n=e.refetch,r=Object(X.a)(),i=(t={onError:function(e){r({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){d(),r({title:"Acte ajout\xe9 avec succ\xe8s",description:"Vous pouvez le choisir \xe0 partir de la liste",status:"success",duration:"4000",isClosable:!0}),n()}},Object(ye.a)((function(e){var t=e.nom;return J.post("ad",{nom:t})}),t)),s=i.mutate,o=(i.isLoading,Object(Pe.a)()),l=o.isOpen,j=o.onOpen,d=o.onClose,b=Object(c.useRef)(),u=Object(oe.c)();u.values;return Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)(ae.a,{mx:2,position:"relative",top:"31px",ref:b,colorScheme:Object(S.d)("green","teal"),onClick:j,children:"Ajouter"}),Object(p.jsx)(Ie.a,{isOpen:l,placement:"right",onClose:d,finalFocusRef:b,children:Object(p.jsx)(we.h,{children:Object(p.jsxs)(Ie.b,{children:[Object(p.jsx)(we.c,{}),Object(p.jsx)(we.g,{children:"Ajout acte"}),Object(p.jsx)(we.b,{children:Object(p.jsx)(oe.a,{connect:u,onValidSubmit:function(e){s(e)},children:Object(p.jsxs)("form",{noValidate:!0,onSubmit:u.submit,multiple:!0,children:[Object(p.jsx)(ke,{name:"nom",label:"Domaine",required:"Il est requis de compl\xe9ter le champ correspondant au domaine",validations:[{rule:Object(Y.e)("^[a-zA-Z ]*$"),message:"Le nom ne contient que des lettres"}]}),Object(p.jsxs)(y.a,{m:2,children:[Object(p.jsx)(ae.a,{variant:"outline",mr:3,onClick:d,children:"Annuler"}),Object(p.jsxs)(ae.a,{w:"40%",type:"submit",borderColor:"green.500",disabled:!u.isValid,children:["Enregistrer",u.isValid?"\ud83d\udc4c":""]})]})]})})}),Object(p.jsx)(we.f,{children:Object(p.jsx)(ae.a,{variant:"outline",mr:3,onClick:d,children:"Annuler"})})]})})})]})},Me=function(e){var t,n=e.mutateSousD,r=e.domaine,i=Object(X.a)(),s=(t={onError:function(e){i({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){i({title:"Sous domaine ajout\xe9 avec succ\xe8s",description:"Vous pouvez le choisir \xe0 partir de la liste",status:"success",duration:"4000",isClosable:!0}),n({domaine_id:r}),b()}},Object(ye.a)((function(e){var t=e.nom,n=e.domaine_id;return J.post("asd",{nom:t,domaine_id:n})}),t)),o=s.mutate,l=(s.isLoading,Object(Pe.a)()),j=l.isOpen,d=l.onOpen,b=l.onClose,u=Object(c.useRef)(),O=Object(oe.c)();O.values;return Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)(ae.a,{mx:2,position:"relative",top:"31px",ref:u,colorScheme:Object(S.d)("green","teal"),onClick:d,children:"Ajouter"}),Object(p.jsx)(Ie.a,{isOpen:j,placement:"right",onClose:b,finalFocusRef:u,children:Object(p.jsx)(we.h,{children:Object(p.jsxs)(Ie.b,{children:[Object(p.jsx)(we.c,{}),Object(p.jsx)(we.g,{children:"Ajout Sous-domaine"}),Object(p.jsx)(we.b,{children:Object(p.jsx)(oe.a,{connect:O,onValidSubmit:function(e){e.domaine_id=r,o(e)},children:Object(p.jsxs)("form",{noValidate:!0,onSubmit:O.submit,multiple:!0,children:[Object(p.jsx)(ke,{name:"nom",label:"Sous Domaine",required:"Il est requis de compl\xe9ter le champ correspondant au sous-domaine",validations:[{rule:Object(Y.e)("^[a-zA-Z ]*$"),message:"Le nom ne contient que des lettres"}]}),Object(p.jsxs)(y.a,{m:2,children:[Object(p.jsx)(ae.a,{variant:"outline",mr:3,onClick:b,children:"Annuler"}),Object(p.jsxs)(ae.a,{w:"40%",type:"submit",borderColor:"green.500",disabled:!O.isValid,children:["Enregister",O.isValid?"\ud83d\udc4c":""]})]})]})})}),Object(p.jsx)(we.f,{children:Object(p.jsx)(ae.a,{variant:"outline",mr:3,onClick:b,children:"Annuler"})})]})})})]})},Ae=function(e){var t=e.gcInfo,n=e.valueForm,r=Object(c.useState)([]),i=Object(x.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)([]),j=Object(x.a)(l,2),d=j[0],b=j[1],u=Object(c.useState)(0),O=Object(x.a)(u,2),m=O[0],h=O[1],g=Object(X.a)(),f=_e({onError:function(e){g({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){o(e.data)}}),v=(f.isLoading,f.refetch),S={id:n.SelectDomaine},_=ze({param:S,onError:function(e){g({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){b(e.data)}}),z=(_.isLoading,_.mutate);return Object(p.jsx)(a.a.Fragment,{children:Object(p.jsx)(ge,{title:"Information sp\xe9cifique",children:Object(p.jsxs)(M.c,{width:"full",spacing:"6",children:[Object(p.jsx)(be,{name:"adresse_physique",label:"Adresse",Placeholder:t.adresse_physique}),Object(p.jsxs)(C.a,{w:"100%",children:[Object(p.jsx)(Se,{data:s,label:"Domaine",onChange:function(e){h(e.value),b([]),z({domaine_id:e.value})},name:"SelectDomaine"}),Object(p.jsx)(y.a,{children:Object(p.jsx)(Ee,{refetch:v})})]}),Object(p.jsxs)(C.a,{w:"100%",children:[Object(p.jsx)(Se,{onChange:function(){return v()},data:d,label:"Sous Domaine",name:"selectSousDomaine"}),Object(p.jsx)(y.a,{display:0!=m?"":"none",children:Object(p.jsx)(Me,{mutateSousD:z,domaine:m})})]}),Object(p.jsx)(be,{name:"secretaire",label:"Secr\xe9taire",note:"Entrez le cin ou le num\xe9ro de t\xe9l\xe9phone ou l'email de la secr\xe9taire. Pour supprimer vous devez \xe9crire 'supprimer'",Placeholder:t.secretaire})]})})})},De=function(e){var t=Object(oe.b)(e),n=t.errorMessage,c=t.id,r=t.isValid,i=t.isSubmitted,s=e.label,o=(e.type,e.required),l=e.note,j=e.Placeholder,d=(e.pictures,e.setPictures),b=a.a.useState(!1),u=Object(x.a)(b,2),O=u[0],m=u[1],h=!r&&(O||i);return Object(p.jsxs)(G.a,{children:[Object(p.jsx)(le.a,{htmlFor:c,children:Object(p.jsxs)(ae.a,{leftIcon:Object(p.jsx)(I.b,{}),onClick:function(){document.getElementById(c).click()},children:["Changer la photo ",!!o&&" *"]})}),Object(p.jsx)("input",{id:c,type:"file",placeholder:j||s,onChange:function(e){return function(e){d(e.target.files[0])}(e)},onBlur:function(){return m(!0)},"aria-invalid":h,"aria-required":!!o,"aria-describedby":h?"".concat(c,"-error"):null,style:{display:"none"}}),h&&Object(p.jsx)(D.a,{id:"".concat(c,"-error"),color:"tomato",children:n}),l&&Object(p.jsx)(G.b,{id:"".concat(c,"-note"),children:l})]})},Fe=function(){var e,t,n=Object(c.useState)(null),r=Object(x.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(null),l=Object(x.a)(o,2),j=l[0],d=l[1],b=Object(c.useContext)(m),u=b.user,h=b.setUser,g=(e={onError:function(e){P({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){w();var t=Object(O.a)(Object(O.a)({},u),e.data);localStorage.setItem("user",JSON.stringify(t)),h(t);for(var n="",c=0,a=Object.entries(e.data);c<a.length;c++){var r=Object(x.a)(a[c],2),i=(r[0],r[1]);n+="|  ".concat(i," |  ")}P(""!=n?{title:"Erreur sous la forme",description:n,status:"success",duration:"4000",isClosable:!0}:{title:"Mise \xe0 jour r\xe9ussie",status:"success",duration:"4000",isClosable:!0})}},Object(ye.a)((function(e){return J({method:"POST",url:U+"/api/ucp",data:e})}),e)),f=g.mutate,v=g.isLoading,C=Object(c.useState)({}),_=Object(x.a)(C,2),z=_[0],k=_[1],P=Object(X.a)(),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)("gcf",(function(){return J.get("gcf",{params:t})}),n)}({params:{id:u.id},onError:function(e){P({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){console.log(e),console.log("user"),console.log(u);var t=Object(O.a)({},e.data);t.isAuthenticated=!0,t.fonctionnalite=u.fonctionnalite,h(t),k(e.data),R(t.sexes)}}),w=(I.isLoading,I.refetch),E=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),c=1;c<t;c++)n[c-1]=arguments[c];return Object(ye.a)((function(e){return J.post("rmpp",e)}),n)}({onError:function(e){P({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){w()}}),F=E.mutate,T=(E.isLoading,a.a.useState()),V=Object(x.a)(T,2),L=V[0],R=V[1],q=Object(oe.c)(),W=q.values;return(t=i,new Promise((function(e,n){var c=new FileReader;c.readAsDataURL(t),c.onload=function(){return e(c.result)},c.onerror=function(e){return n(e)}}))).then((function(e){return d(e)})).catch((function(e){return console.log(e)})),Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)(Q.a,{display:v?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(p.jsx)(y.a,{px:{base:"4",md:"3",lg:"10"},py:"16",mx:"auto",display:v?"none":"",children:Object(p.jsx)(oe.a,{connect:q,onValidSubmit:function(e){e.id=u.id,e.sexes=L,e.id_cms_privileges=u.fonctionnalite,e.photo=i,e.SelectDomaine&&(e.SelectDomaine=e.SelectDomaine.value),e.selectSousDomaine&&(e.selectSousDomaine=e.selectSousDomaine.value);var t=new FormData;Object.keys(e).map((function(n,c){t.append(n,e[n])})),f(t)},children:Object(p.jsxs)("form",{noValidate:!0,onSubmit:q.submit,multiple:!0,children:[Object(p.jsx)(ge,{title:"informations g\xe9n\xe9rales",children:Object(p.jsxs)(M.c,{width:"full",spacing:"6",children:[Object(p.jsx)(be,{name:"nom",label:"Nom",validations:[{rule:Object(Y.e)("^[a-zA-Z ]*$"),message:"Le nom ne contient que des lettres"}],Placeholder:z.nom}),Object(p.jsx)(be,{name:"prenom",label:"Pr\xe9nom",Placeholder:z.prenom,validations:[{rule:Object(Y.e)("^[a-zA-Z ]*$"),message:"Le prenom ne contient que des lettres"}]}),Object(p.jsx)(G.a,{children:Object(p.jsx)(ee.a,{children:Object(p.jsx)(te.a,{onChange:R,value:L,name:"sexes",children:Object(p.jsxs)(M.b,{direction:"row",size:"lg",children:[Object(p.jsx)(ne.a,{value:"homme",_selected:!0,py:3,px:10,children:"Homme \ud83d\udc68\u200d\ud83e\uddb0"}),Object(p.jsx)(ne.a,{value:"femme",py:3,px:10,children:"Femme \ud83d\udc69\u200d\ud83e\uddb0"})]})})})}),Object(p.jsx)(je,{name:"date_naissance",label:"Date de naissance",dValue:z.date_naissance}),Object(p.jsx)(be,{name:"cin",label:"C.I.N",Placeholder:z.cin,validations:[{rule:Object(Y.d)(),message:"La carte d'identit\xe9 ne contient que des chiffres"},{rule:Object(Y.b)(8),message:"La carte d'identit\xe9 doit \xeatre constitu\xe9e  de 8 chiffres"},{rule:function(e){return!!e||!!W.email||!!W.telephone},message:"La carte d'identit\xe9 doit \xeatre constitu\xe9e  de 8 chiffres",deps:[W.email,W.telephone]}]}),Object(p.jsx)(be,{name:"telephone",label:"T\xe9l\xe9phone",Placeholder:z.telephone,validations:[{rule:Object(Y.d)(),message:"La num\xe9ro de t\xe9l\xe9phone  ne contient que des chiffres"},{rule:Object(Y.b)(8),message:"La num\xe9ro de t\xe9l\xe9phone doit \xeatre constitu\xe9e  de 8 chiffres"},{rule:function(e){return!!e||!!W.cin||!!W.email},message:"La num\xe9ro de t\xe9l\xe9phone doit \xeatre constitu\xe9e  de 8 chiffres",deps:[W.cin,W.email]}]}),Object(p.jsx)(be,{name:"email",label:"E-mail",Placeholder:z.email,validations:[{rule:Object(Y.a)(),message:"Veuillez v\xe9rifier le format de l'E-mail(doit contenir @ et .)"},{rule:function(e){return!!e||!!W.cin||!!W.telephone},message:'Le champ E-mail doit contenir "@" et "."',deps:[W.cin,W.telephone]}]}),Object(p.jsx)(me,{name:"password",label:"Mot de passe",type:"password",validations:[{rule:Object(Y.c)(6),message:"Le mot de passe doit contenir au moins 6 caract\xe8res"}]})]})}),Object(p.jsx)(ce.a,{}),Object(p.jsx)(ge,{title:"Photo de Profil",children:Object(p.jsxs)(M.b,{direction:"row",spacing:"10",align:"center",width:"full",children:[Object(p.jsx)(N.a,{size:"xl",name:z.nom+" "+z.prenom,src:j||z.photo&&"".concat(U).concat(z.photo)}),Object(p.jsxs)(y.a,{children:[Object(p.jsxs)(M.a,{spacing:"5",children:[Object(p.jsx)(De,{pictures:i,setPictures:s,name:"photo",label:"photo"}),Object(p.jsx)(ae.a,{display:z.photo||j?"block":"none",variant:"ghost",colorScheme:"red",onClick:function(){j&&d(null,s(null))||F({id:u.id}),w()},children:"Effacer"})]}),Object(p.jsx)(D.a,{fontSize:"sm",mt:"3",color:Object(S.d)("gray.500","whiteAlpha.600"),children:".jpg, .gif, or .png."})]})]})}),Object(p.jsx)(ce.a,{}),"patient"==u.fonctionnalite?Object(p.jsx)(fe,{gcInfo:z,age:function(){return Math.abs(new Date(Date.now()-new Date(W.date_naissance||z.date_naissance).getTime()).getUTCFullYear()-1970)}}):"","medecin"==u.fonctionnalite?Object(p.jsx)(Ae,{valueForm:W,gcInfo:z}):"",Object(p.jsx)(G.a,{mt:5,align:"center",children:Object(p.jsxs)(ae.a,{w:"40%",type:"submit",borderColor:"green.500",disabled:!q.isValid,children:["Sauvegarder",q.isValid?"\ud83d\udc4c":""]})})]})})})]})},Te=function(e){var t=e.isAuth,n=Object(A.a)(e,["isAuth"]);return Object(c.useContext)(m).user.isAuthenticated?t?Object(p.jsx)(v.b,Object(O.a)({exact:!0},n)):Object(p.jsx)(v.a,{to:{pathname:"/dashboard"}}):Object(p.jsx)(v.a,{to:{pathname:"/login"}})},Ve=Te,Le=n(230),Re=n(226),qe=function(e){var t=e.chercherFn,n=e.buttonText,a=e.buttonIcon,r=e.buttonhoverTesxt,i=e.inputhoverTesxt,s=Object(c.useState)(""),o=Object(x.a)(s,2),l=o[0],j=o[1];return Object(p.jsx)(M.b,{pt:10,spacing:"4",direction:{base:"column",md:"row"},justify:"space-between",children:Object(p.jsxs)(Le.a,{templateColumns:"repeat(2, 1fr)",w:"100%",gap:2,children:[Object(p.jsx)(_.a,{label:i||"","aria-label":i||"",children:Object(p.jsx)(G.a,{w:"100%",id:"search",children:Object(p.jsxs)(xe.a,{size:"sm",children:[Object(p.jsx)(le.a,{srOnly:!0,children:"Filtrer par nom ou par e-mail"}),Object(p.jsx)(pe.a,{pointerEvents:"none",color:"gray.400",children:Object(p.jsx)(L.i,{})}),Object(p.jsx)(de.a,{rounded:"base",type:"search",onChange:function(e){return j(e.target.value)},placeholder:"Filtrer"})]})})}),Object(p.jsx)(_.a,{label:r||"","aria-label":r||"",children:Object(p.jsx)(Re.a,{size:"sm",variant:"outline",children:Object(p.jsx)(ae.a,{w:"100%",onClick:function(){return t(l)},iconSpacing:"1",leftIcon:a,children:n})})})]})})},Ne=n(407),We=function(e){var t=e.header,n=e.content,a=e.fntable,r=e.message;return Object(p.jsxs)(c.Fragment,{children:[Object(p.jsx)(y.a,{display:n&&0!=n.length?"none":"",maxW:"2xl",mx:"auto",px:{base:"6",lg:"8"},py:{base:"16",sm:"20"},textAlign:"center",children:r?r():Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(he.a,{as:"h2",size:"lg",fontWeight:"extrabold",letterSpacing:"tight",children:"Vous n'avez aucune information"})})}),Object(p.jsxs)(Ne.a,{overflowX:"scroll",w:"100%",display:0==n.length?"none":"",my:"8",borderWidth:"1px",fontSize:"sm",children:[Object(p.jsx)(Ne.e,{bg:Object(S.d)("green.100","gray.800"),children:Object(p.jsxs)(Ne.f,{textAlign:"center",children:[t.map((function(e,t){return Object(p.jsx)(Ne.d,{maxW:"10%",whiteSpace:"normal",scope:"col",color:Object(S.d)("green.900","gray.50"),children:e},t)})),a?Object(p.jsx)(Ne.d,{textAlign:"center",color:Object(S.d)("green.900","gray.50"),children:"acte"}):""]})}),Object(p.jsx)(Ne.b,{children:n.map((function(e,n){return Object(p.jsxs)(Ne.f,{whiteSpace:"normal",children:[Object.values(e).slice(1).map((function(e,n){return n<Object.values(t).length?Object(p.jsx)(Ne.c,{maxW:"100px",whiteSpace:"normal",children:e},n):null})),a?Object(p.jsxs)(Ne.c,{textAlign:"right",children:[Object(p.jsxs)(y.a,{textAlign:"center",children:[a?a.fn(e):"",a?!!a.fn2&&a.fn2(e):""]}),Object(p.jsx)(y.a,{textAlign:"center",children:a?!!a.fn3&&a.fn3(e):""})]}):""]},n)}))})]})]})},He=function(e){var t=e.total,n=e.prev_page_url,c=e.next_page_url,a=e.setPage,r=e.page;return Object(p.jsx)(y.a,{px:2,display:0==t?"none":"",children:Object(p.jsxs)(C.a,{align:"center",justify:"space-between",children:[Object(p.jsxs)(D.a,{color:Object(S.d)("green.600","gray.400"),fontSize:"sm",children:[t," Colonne"]}),Object(p.jsxs)(Re.a,{variant:"outline",size:"sm",children:[n?Object(p.jsx)(ae.a,{as:"a",onClick:function(){return a(r-1)},rel:"Pr\xe9c\xe9dente",children:"Pr\xe9c\xe9dente"}):"",Object(p.jsxs)(y.a,{m:1,children:[" Page ",r]}),c?Object(p.jsx)(ae.a,{as:"a",onClick:function(){return a(r+1)},rel:"Suivante",children:"Suivante"}):""]})]})})},Be=n(408),Ue=function(e){return Object(ye.a)((function(e){var t=e.medecin_id,n=e.patient_id;return J.post("rmp",{medecin_id:t,patient_id:n})}),e)},Ke=function(e){var t=Object(c.useContext)(m),n=t.user,r=(t.cleanUser,e.refetch),i=Object(c.useState)(""),s=Object(x.a)(i,2),o=s[0],l=s[1],j=Ue({onError:function(e){l("V\xe9rifiez les informations de contact ou la liste que vous avez ins\xe9r\xe9es")},onSuccess:function(e){l(""),r()}}),d=j.mutate,b=j.isLoading,u=Object(oe.c)();return Object(p.jsx)(a.a.Fragment,{children:Object(p.jsx)(oe.a,{connect:u,onValidSubmit:function(e){e.medecin_id=n.id,d(e)},children:Object(p.jsx)("form",{noValidate:!0,onSubmit:u.submit,children:Object(p.jsx)(M.b,{spacing:"2",direction:{base:"column",md:"row"},justify:"space-between",children:Object(p.jsxs)(Be.a,{columns:2,spacing:1,w:"100%",children:[Object(p.jsx)(_.a,{label:"Entrez le cin, l'email ou le t\xe9l\xe9phone du patient","aria-label":"Entrez le cin, l'email ou le t\xe9l\xe9phone du patient",children:Object(p.jsxs)(G.a,{minW:{md:"320px"},id:"search",children:[Object(p.jsx)(be,{name:"patient_id",Placeholder:"ajouter un patient"}),Object(p.jsx)(D.a,{color:"tomato",children:o})]})}),Object(p.jsx)(_.a,{label:"ajouter un patient","aria-label":"ajouter un patient",children:Object(p.jsx)(Re.a,{size:"sm",variant:"outline",children:Object(p.jsxs)(ae.a,{position:"relative",top:"8px",type:"submit",fontSize:"20px",p:5,w:"100%",children:[Object(p.jsx)(Q.a,{display:b?"":"none",color:"red.500"}),"Ajouter \ud83e\udd12"]})})})]})})})})})},Ze=n(62),Je=n(409),$e=function(e){var t=Object(c.useContext)(m),n=t.user,a=(t.cleanUser,e.patient),r=Object(X.a)(),i=n.id,s=Object(c.useState)(0),o=Object(x.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)(""),b=Object(x.a)(d,2),u=b[0],O=b[1],h=Object(c.useState)(""),g=Object(x.a)(h,2),f=g[0],v=g[1],S=Object(c.useState)(1),C=Object(x.a)(S,2),y=C[0],_=C[1],z=Object(c.useState)([[""]]),k=Object(x.a)(z,2),P=k[0],I=k[1],w={};w=n.email?{patient_id:a.id,page:y}:{medecin_id:i,patient_id:a.id,page:y},console.log(w);var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)(["hact",t],(function(){return J.get("hact",{params:t})}),n)}({params:w,onError:function(e){r({title:":Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:4e3,isClosable:!0})},onSuccess:function(e){j(e.data.total),O(e.data.next_page_url),v(e.data.prev_page_url),I(e.data.data&&e.data.data||[])}}),D=E.isLoading;E.refetch;return Object(p.jsx)(p.Fragment,{children:D?Object(p.jsxs)(M.b,{mt:"40px",children:[Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(We,{header:["Code","Designation","note","Date"],content:P}),Object(p.jsx)(He,{total:l,next_page_url:u,prev_page_url:f,page:y,setPage:_})]})})},Ye=function(e){var t=Object(Pe.a)(),n=t.isOpen,c=t.onOpen,r=t.onClose,i=e.patient,s=a.a.useRef();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ae.a,{ref:s,colorScheme:Object(S.d)("green","green"),onClick:c,children:"Acte"}),Object(p.jsxs)(Ie.a,{isOpen:n,placement:"left",size:"xl",onClose:r,finalFocusRef:s,children:[Object(p.jsx)(we.h,{}),Object(p.jsxs)(Ie.b,{bg:Object(S.d)("green.50","gray.700"),children:[Object(p.jsx)(we.c,{}),Object(p.jsx)(we.g,{children:"Acte"}),Object(p.jsx)(we.b,{children:Object(p.jsx)($e,{patient:i})}),Object(p.jsx)(we.f,{children:Object(p.jsx)(ae.a,{variant:"outline",mr:3,onClick:r,children:"Annuler"})})]})]})]})},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)("pinfo",(function(){return J.get("pinfo",{params:t})}),n)},Qe=n(432),Ge=n(411),et=n(412),tt=n(69),nt=n(410),ct=function(e){var t=e.medecin,n=Object(c.useState)([]),r=Object(x.a)(n,2),i=r[0],s=r[1],o={id:t},l=Object(X.a)(),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)(["medecininfo",t],(function(){return J.get("medecininfo",{params:t})}),n)}({params:o,onError:function(e){l({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){s(e.data)}});j.isLoading,j.refetch;return Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)(D.a,{children:i.nom}),i.photo&&Object(p.jsx)(N.a,{size:"xl",name:i.nom,src:"".concat(U).concat(i.photo)}),Object(p.jsx)(D.a,{display:"block",as:"a",href:"tel:"+i.telephone,children:Object(p.jsx)(ae.a,{my:1,leftIcon:Object(p.jsx)(tt.a,{}),colorScheme:"green",variant:"outline",children:"Appelles"})}),Object(p.jsx)(D.a,{as:"a",href:"mailto:"+i.email,children:Object(p.jsx)(ae.a,{my:1,colorScheme:"green",leftIcon:Object(p.jsx)(nt.a,{}),variant:"outline",children:"Email"})}),Object(p.jsx)(D.a,{children:i.sexes})]})},at=function(e){var t=e.data;return Object(k.a)({base:!0,lg:!1})?Object(p.jsx)(D.a,{fontSize:"20px",color:Object(S.d)("green.700","gray.50"),m:1,children:Object(p.jsxs)(Qe.a,{children:[Object(p.jsx)(Qe.h,{children:Object(p.jsx)(D.a,{textAlign:"center",bgColor:Object(S.d)("green.100","gray.500"),_hover:{background:Object(S.d)("blue.100","gray.600")},style:{cursor:"pointer"},borderRadius:"20px",p:2,colorScheme:"green",children:"Description"})}),Object(p.jsxs)(Qe.e,{children:[Object(p.jsx)(Qe.b,{}),Object(p.jsx)(Qe.d,{}),Object(p.jsx)(Qe.g,{children:"Plus d'information"}),Object(p.jsx)(Qe.c,{children:t.description})]})]})}):null},rt=function(e){var t=Object(k.a)({base:!0,lg:!1}),n=e.patient,r=Object(X.a)(),i={patient_id:n.id},s=Object(c.useState)(0),o=Object(x.a)(s,2),l=o[0],j=(o[1],Object(c.useState)("")),d=Object(x.a)(j,2),b=d[0],u=(d[1],Object(c.useState)("")),O=Object(x.a)(u,2),m=O[0],h=(O[1],Object(c.useState)(1)),g=Object(x.a)(h,2),f=g[0],v=g[1],C=Object(c.useState)([]),y=Object(x.a)(C,2),z=y[0],P=y[1],I=Object(Pe.a)(),w=I.isOpen,E=I.onOpen,M=I.onClose,F=["type","description","Date"];F=t?["type"]:["type","description","Date"];var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)("antecedants",(function(){return J.get("antecedants",{params:t})}),n)}({params:i,onError:function(e){r({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){P(e.data.data)}}),V=T.isLoading,R=(T.refetch,Object(c.useState)({fn:function(e){return Object(p.jsx)(D.a,{fontSize:"20px",colorScheme:Object(S.d)("green.700","gray.50"),children:Object(p.jsxs)(Qe.a,{children:[Object(p.jsx)(Qe.h,{children:Object(p.jsx)(D.a,{textAlign:"center",bgColor:Object(S.d)("green.100","gray.500"),_hover:{background:Object(S.d)("blue.100","gray.600")},style:{cursor:"pointer"},borderRadius:"20px",p:2,colorScheme:"green",children:e.medecin})}),Object(p.jsxs)(Qe.e,{children:[Object(p.jsx)(Qe.b,{}),Object(p.jsx)(Qe.d,{}),Object(p.jsx)(Qe.g,{children:"Plus d'information"}),Object(p.jsx)(Qe.c,{children:Object(p.jsx)(ct,{medecin:e.medecin_id})})]})]})})},fn2:function(e){return Object(p.jsx)(at,{data:e})}})),q=Object(x.a)(R,2),N=q[0];q[1];return Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)(ae.a,{colorScheme:Object(S.d)("green","green"),onClick:E,children:Object(p.jsx)(_.a,{label:"Trouver tous les ant\xe9c\xe9dents m\xe9dicaux","aria-label":"Trouver tous les ant\xe9c\xe9dents m\xe9dicaux",children:t?Object(p.jsx)(L.g,{fontSize:"30px"}):"Ant\xe9c\xe9dents"})}),Object(p.jsxs)(Ie.a,{placement:"left",size:"xl",onClose:M,isOpen:w,children:[Object(p.jsx)(we.h,{}),Object(p.jsxs)(Ie.b,{bg:Object(S.d)("green.50","gray.700"),children:[Object(p.jsxs)(we.g,{borderBottomWidth:"1px",children:["Antecedants",Object(p.jsx)(Ge.a,{float:"right",variant:"outline",size:"xs",m:1,colorScheme:"red",fontSize:"10px",icon:Object(p.jsx)(et.a,{}),onClick:function(){return M()}})]}),Object(p.jsx)(we.b,{display:V?"":"none",children:Object(p.jsx)(Je.c,{mt:"7",noOfLines:7,spacing:"7"})}),Object(p.jsxs)(we.b,{display:V?"none":"",children:[Object(p.jsx)(We,{header:F,content:z,fntable:N}),Object(p.jsx)(He,{total:l,next_page_url:b,prev_page_url:m,page:f,setPage:v})]}),Object(p.jsx)(we.f,{children:Object(p.jsx)(ae.a,{variant:"outline",mr:3,onClick:M,children:"Annuler"})})]})]})]})},it=n(100),st=n.n(it),ot=function(e){var t=Object(c.useContext)(m).user,n=Object(c.useState)(""),r=Object(x.a)(n,2),i=r[0],s=r[1],o=Object(oe.b)(e),l=o.errorMessage,j=o.id,d=o.isValid,b=o.isSubmitted,u=o.setValue,O=o.value,h=e.label,g=e.required,f=e.note,v=e.Placeholder,S=e.dtValue,C=e.Patient,y=e.editorRef,_=e.disabled,z=a.a.useState(!1),k=Object(x.a)(z,2),P=k[0],I=k[1],w=!d&&(P||b),E=Object(X.a)(),M=Object(c.useState)({}),A=Object(x.a)(M,2),F=A[0],T=A[1],V={cms_users_id:C.id},L=Xe({params:V,onError:function(e){E({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){T(e.data)}}),R=(L.isLoading,L.refetch,function(e,t,n){return e.split(t).join(n)}),q=function(){var e=window.open("","PRINT");e.document.write(function(e){var n="homme"==t.sexes?"Mr.":"Mrs.",c="homme"==C.sexes?"Mr.":"Mrs.";return e=R(e,"{sexesPatient}",c),e=R(e,"{medecinNomPrenom}",t.nom+" "+t.prenom),e=R(e,"{patientNomPrenom}",F.nom+" "+F.prenom),e=R(e,"{addresPatient}",C.Adresse),e=R(e,"{sexesmedecin}",n),e=R(e,"{specialiteMedecin}",""),e=R(e,"{domaineMedecin}",""),e=R(e,"{datePatient}",F.date_naissance?new Date(F.date_naissance).toISOString().slice(0,10):""),e=R(e,"{thisDate}",(new Date).toISOString().slice(0,10)),R(e,"{agePatient}",F.date_naissance?Math.abs(new Date(Date.now()-new Date(F.date_naissance).getTime()).getUTCFullYear()-1970):"")}(i)),e.document.close(),e.focus(),e.addEventListener("afterprint",(function(t){e.close()})),e.print()};return Object(p.jsxs)(G.a,{children:[Object(p.jsx)(le.a,{htmlFor:j,children:h}),Object(p.jsx)(st.a,{disable:!!_,ref:y,id:j,placeholder:v||"S'il vous pla\xeet \xe9crivez votre structure de certificat ici...",value:O||S||"",onBlur:function(){return I(!0)},"aria-invalid":w,"aria-required":!!g,"aria-describedby":w?"".concat(j,"-error"):null,lang:"fr",name:"my-editor",height:"auto",showToolbar:!0,values:i,onChange:function(e){s(e),u(e)},setOptions:{height:200,buttonList:[["undo","redo"],["font","fontSize","formatBlock",":p-More Paragraph-default.more_paragraph"],["paragraphStyle","blockquote"],["bold","underline","italic","strike","subscript","superscript"],["fontColor","hiliteColor","textStyle"],["align","horizontalRule","list","lineHeight"],["removeFormat"]]}}),w&&Object(p.jsx)(D.a,{id:"".concat(j,"-error"),color:"tomato",children:l}),Object(p.jsx)(Ge.a,{m:2,onClick:function(){return q()},variant:"outline",colorScheme:"teal","aria-label":"Send email",icon:Object(p.jsx)(Ze.b,{}),size:"lg"}),f&&Object(p.jsx)(G.b,{id:"".concat(j,"-note"),children:f})]})},lt=n(413),jt=function(e){var t=e.structure,n=e.patientId,a=Object(c.useRef)(),r=Object(Pe.a)(),i=r.isOpen,s=r.onOpen,o=r.onClose,l=Object(c.useRef)(),j=(Object(c.useRef)(),Object(oe.c)());return Object(c.useEffect)((function(){a.current&&a.current.editor.setContents(t)})),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ae.a,{onClick:s,colorScheme:Object(S.d)("green","green"),children:"Certificat"}),Object(p.jsxs)(lt.a,{motionPreset:"slideInBottom",leastDestructiveRef:l,onClose:o,isOpen:i,isCentered:!0,children:[Object(p.jsx)(we.h,{}),Object(p.jsxs)(lt.b,{minW:{md:"700px",lg:"90vw"},children:[Object(p.jsx)(we.g,{children:"Certificat"}),Object(p.jsx)(we.c,{}),Object(p.jsx)(we.b,{children:Object(p.jsx)(oe.a,{connect:j,onValidSubmit:function(e){},children:Object(p.jsx)("form",{noValidate:!0,onSubmit:j.submit,children:Object(p.jsx)(ot,{Patient:{id:n},disabled:!0,editorRef:a,name:"certif"})})})})]})]})]})},dt=function(e){var t=Object(c.useContext)(m),n=t.user,r=(t.cleanUser,e.patient),i=Object(X.a)(),s=n.id,o=Object(c.useState)(0),l=Object(x.a)(o,2),j=l[0],d=l[1],b=Object(c.useState)(""),u=Object(x.a)(b,2),O=u[0],h=u[1],g=Object(c.useState)(""),f=Object(x.a)(g,2),v=f[0],S=f[1],C=Object(c.useState)(1),y=Object(x.a)(C,2),_=y[0],z=y[1],k=Object(c.useState)([[""]]),P=Object(x.a)(k,2),I=P[0],w=P[1],E=Object(c.useState)({fn:function(e){return Object(p.jsx)(jt,{structure:e.structure,patientId:e.patient_id})}}),D=Object(x.a)(E,2),F=D[0],T=(D[1],{medecin_id:s,patient_id:r.id,page:_}),V=(a.a.useRef(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)(["hcertif",t],(function(){return J.get("hcertif",{params:t})}),n)}({params:T,onError:function(e){i({title:"Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:4e3,isClosable:!0})},onSuccess:function(e){d(e.data.total),h(e.data.next_page_url),S(e.data.prev_page_url),e.data.data!==[]&&w(e.data.data)}})),L=V.isLoading;V.refetch;return Object(p.jsx)(p.Fragment,{children:L?Object(p.jsxs)(M.b,{mt:"40px",children:[Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(We,{header:["date"],content:I,fntable:F}),Object(p.jsx)(He,{total:j,next_page_url:O,prev_page_url:v,page:_,setPage:z})]})})},bt=function(e){var t=Object(Pe.a)(),n=t.isOpen,c=t.onOpen,r=t.onClose,i=e.patient,s=a.a.useRef();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ae.a,{ref:s,colorScheme:Object(S.d)("green","green"),onClick:c,children:"Certificat"}),Object(p.jsxs)(Ie.a,{isOpen:n,placement:"left",size:"xl",onClose:r,finalFocusRef:s,children:[Object(p.jsx)(we.h,{}),Object(p.jsxs)(Ie.b,{bg:Object(S.d)("green.50","gray.700"),children:[Object(p.jsx)(we.c,{}),Object(p.jsx)(we.g,{children:"Certificat"}),Object(p.jsx)(we.b,{children:Object(p.jsx)(dt,{patient:i})}),Object(p.jsx)(we.f,{children:Object(p.jsx)(ae.a,{variant:"outline",mr:3,onClick:r,children:"Annuler"})})]})]})]})},ut=n(433),Ot=function(e){var t=Object(X.a)(),n=e.data,a=Object(c.useState)({}),r=Object(x.a)(a,2),i=r[0],s=r[1],o=Object(c.useState)({}),l=Object(x.a)(o,2),j=l[0],d=l[1],b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)("Detatil Of Consultation",(function(){return J.get("cd",{params:t})}),n)}({params:{id:n.id},onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){s(e.data.data.consultation),d(e.data.data.detail)}});b.isLoading,b.refetch;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(D.a,{pb:2,fontSize:"23px",children:null!=i?Object(p.jsxs)(p.Fragment,{children:["Diagnostic: ",i.Diagnostic]}):""}),Object(p.jsx)(D.a,{pb:2,fontSize:"23px",children:null!=i?Object(p.jsxs)(p.Fragment,{children:["Prix: ",i.prix]}):""}),Object(p.jsx)(D.a,{children:null!=j?Object(p.jsx)(Be.a,{minChildWidth:"100px",spacing:"10px",children:Object(p.jsx)(ut.a,{allowMultiple:!0,children:Object.keys(j).map((function(e){if(0!=j[e].length)return Object(p.jsxs)(ut.d,{children:[Object(p.jsxs)(ut.b,{bgColor:"green.100",children:[Object(p.jsx)(y.a,{flex:"1",textAlign:"left",fontSize:"30px",children:e}),Object(p.jsx)(ut.c,{})]}),Object(p.jsx)(ut.e,{pb:4,children:j[e].map((function(t){return Object(p.jsx)(y.a,{borderBottom:"1px",borderColor:"gray.200",pb:2,children:Object.keys(t).map((function(n){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(D.a,{children:"certificat"==e?Object(p.jsx)(jt,{structure:t.structure,patientId:t.patient_id}):Object(p.jsx)(p.Fragment,{children:null!=t[n]?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(D.a,{fontSize:"20px",children:[n,":"]}),Object(p.jsx)(D.a,{fontSize:"15px",children:t[n]})]}):""})})})}))})}))})]})}))})}):""})]})},xt=function(e){var t=Object(k.a)({base:!0,lg:!1}),n=e.data,a=Object(Pe.a)(),r=a.isOpen,i=a.onOpen,s=a.onClose,o=Object(c.useRef)();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ae.a,{ref:o,m:1,colorScheme:Object(S.d)("green","green"),onClick:i,children:t?Object(p.jsx)(R.e,{fontSize:"30px"}):" Historique Consultation"}),Object(p.jsx)(Ie.a,{size:"xl",isOpen:r,placement:"left",onClose:s,finalFocusRef:o,children:Object(p.jsx)(we.h,{children:Object(p.jsxs)(Ie.b,{bg:Object(S.d)("green.50","gray.700"),children:[Object(p.jsx)(we.c,{}),Object(p.jsx)(we.g,{children:"Historique consultation"}),Object(p.jsx)(we.b,{children:Object(p.jsx)(Ot,{data:n})}),Object(p.jsx)(we.f,{children:Object(p.jsx)(ae.a,{variant:"outline",mr:3,onClick:s,children:"Annuler"})})]})})})]})},pt=function(e){var t=Object(c.useContext)(m),n=t.user,r=(t.cleanUser,e.patient),i=Object(X.a)(),s=n.id,o=Object(c.useState)(0),l=Object(x.a)(o,2),j=l[0],d=l[1],b=Object(c.useState)(""),u=Object(x.a)(b,2),O=u[0],h=u[1],g=Object(c.useState)(""),f=Object(x.a)(g,2),v=f[0],S=f[1],C=Object(c.useState)(1),y=Object(x.a)(C,2),_=y[0],z=y[1],k=Object(c.useState)([[""]]),P=Object(x.a)(k,2),I=P[0],w=P[1],E={};E=n.email?{patient_id:r.id,page:_}:{medecin_id:s,patient_id:r.id,page:_};a.a.useRef();var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)("hex",(function(){return J.get("hex",{params:t})}),n)}({params:E,onError:function(e){i({title:"Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:4e3,isClosable:!0})},onSuccess:function(e){d(e.data.total),h(e.data.next_page_url),S(e.data.prev_page_url),e.data.data!==[]&&w(e.data.data)}}),F=D.isLoading;D.refetch;return Object(p.jsx)(p.Fragment,{children:F?Object(p.jsxs)(M.b,{mt:"40px",children:[Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(We,{header:["Note","Type","Prix"],content:I}),Object(p.jsx)(He,{total:j,next_page_url:O,prev_page_url:v,page:_,setPage:z})]})})},mt=function(e){var t=Object(c.useContext)(m),n=(t.user,t.cleanUser,Object(Pe.a)()),r=n.isOpen,i=n.onOpen,s=n.onClose,o=e.patient,l=a.a.useRef();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ae.a,{ref:l,onClick:i,colorScheme:Object(S.d)("green","green"),children:"Examen"}),Object(p.jsxs)(Ie.a,{isOpen:r,placement:"left",size:"xl",onClose:s,finalFocusRef:l,children:[Object(p.jsx)(we.h,{}),Object(p.jsxs)(Ie.b,{bg:Object(S.d)("green.50","gray.700"),children:[Object(p.jsx)(we.c,{}),Object(p.jsx)(we.g,{children:"Examen"}),Object(p.jsx)(we.b,{children:Object(p.jsx)(pt,{patient:o})}),Object(p.jsx)(we.f,{children:Object(p.jsx)(ae.a,{variant:"outline",mr:3,onClick:s,children:"Annuler"})})]})]})]})},ht=function(e){var t=Object(c.useContext)(m),n=t.user,r=(t.cleanUser,e.patient),i=Object(X.a)(),s=(n.id,Object(c.useState)(0)),o=Object(x.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)(""),b=Object(x.a)(d,2),u=b[0],O=b[1],h=Object(c.useState)(""),g=Object(x.a)(h,2),f=g[0],v=g[1],C=Object(c.useState)(1),y=Object(x.a)(C,2),_=y[0],z=y[1],k=Object(c.useState)([[""]]),P=Object(x.a)(k,2),I=P[0],w=P[1],E={patient_id:r.id,page:_},M=(a.a.useRef(),Object(c.useState)({fn:function(e){return Object(p.jsx)(D.a,{fontSize:"20px",colorScheme:Object(S.d)("green.700","gray.50"),children:Object(p.jsxs)(Qe.a,{children:[Object(p.jsx)(Qe.h,{children:Object(p.jsx)(D.a,{textAlign:"center",bgColor:Object(S.d)("green.100","gray.500"),_hover:{background:Object(S.d)("blue.100","gray.600")},style:{cursor:"pointer"},borderRadius:"20px",p:2,colorScheme:"green",children:e.medecin})}),Object(p.jsxs)(Qe.e,{children:[Object(p.jsx)(Qe.b,{}),Object(p.jsx)(Qe.d,{}),Object(p.jsx)(Qe.g,{children:"Plus d'information"}),Object(p.jsx)(Qe.c,{children:Object(p.jsx)(ct,{medecin:e.medecin_id})})]})]})})}})),F=Object(x.a)(M,2),T=F[0],V=(F[1],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)("hl",(function(){return J.get("hl",{params:t})}),n)}({params:E,onError:function(e){i({title:":Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:4e3,isClosable:!0})},onSuccess:function(e){j(e.data.total),O(e.data.next_page_url),v(e.data.prev_page_url),e.data.data!==[]&&w(e.data.data)}}));V.isLoading,V.refetch;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(We,{header:["Description","Date"],content:I,fntable:T}),Object(p.jsx)(He,{total:l,next_page_url:u,prev_page_url:f,page:_,setPage:z})]})},gt=function(e){var t=Object(Pe.a)(),n=t.isOpen,c=t.onOpen,r=t.onClose,i=e.patient,s=a.a.useRef();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ae.a,{ref:s,colorScheme:Object(S.d)("green","green"),onClick:c,children:"Lettre"}),Object(p.jsxs)(Ie.a,{isOpen:n,placement:"left",size:"xl",onClose:r,finalFocusRef:s,children:[Object(p.jsx)(we.h,{}),Object(p.jsxs)(Ie.b,{bg:Object(S.d)("green.50","gray.700"),children:[Object(p.jsx)(we.c,{}),Object(p.jsx)(we.g,{children:"Lettre"}),Object(p.jsx)(we.b,{children:Object(p.jsx)(ht,{patient:i})}),Object(p.jsx)(we.f,{children:Object(p.jsx)(ae.a,{variant:"outline",mr:3,onClick:r,children:"Annuler"})})]})]})]})},ft=function(e){var t=Object(c.useContext)(m).user,n=e.patient,r=Object(X.a)(),i=t.id,s=Object(c.useState)(0),o=Object(x.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)(""),b=Object(x.a)(d,2),u=b[0],O=b[1],h=Object(c.useState)(""),g=Object(x.a)(h,2),f=g[0],v=g[1],S=Object(c.useState)(1),C=Object(x.a)(S,2),y=C[0],_=C[1],z=Object(c.useState)([[""]]),k=Object(x.a)(z,2),P=k[0],I=k[1],w={};w=t.email?{patient_id:n.id,page:y}:{medecin_id:i,patient_id:n.id,page:y};a.a.useRef();var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)("hor",(function(){return J.get("hor",{params:t})}),n)}({params:w,onError:function(e){r({title:" Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:4e3,isClosable:!0})},onSuccess:function(e){j(e.data.total),O(e.data.next_page_url),v(e.data.prev_page_url),e.data.data!==[]&&I(e.data.data)}}),D=E.isLoading;E.refetch;return Object(p.jsx)(p.Fragment,{children:D?Object(p.jsxs)(M.b,{mt:"40px",children:[Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(We,{header:["M\xe9dicament","date fin"],content:P}),Object(p.jsx)(He,{total:l,next_page_url:u,prev_page_url:f,page:y,setPage:_})]})})},vt=function(e){var t=Object(c.useContext)(m),n=(t.user,t.cleanUser,Object(Pe.a)()),r=n.isOpen,i=n.onOpen,s=n.onClose,o=e.patient,l=a.a.useRef();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ae.a,{ref:l,onClick:i,colorScheme:Object(S.d)("green","green"),children:"Ordonnance"}),Object(p.jsxs)(Ie.a,{isOpen:r,placement:"left",size:"xl",onClose:s,finalFocusRef:l,children:[Object(p.jsx)(we.h,{}),Object(p.jsxs)(Ie.b,{bg:Object(S.d)("green.50","gray.700"),children:[Object(p.jsx)(we.c,{}),Object(p.jsx)(we.g,{children:"Ordonnance"}),Object(p.jsx)(we.b,{children:Object(p.jsx)(ft,{patient:o})}),Object(p.jsx)(we.f,{children:Object(p.jsx)(ae.a,{variant:"outline",mr:3,onClick:s,children:"Annuler"})})]})]})]})},St=function(e){var t=e.patient,n=Object(c.useContext)(m).user,r=Object(c.useState)(0),i=Object(x.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)(""),j=Object(x.a)(l,2),d=j[0],b=j[1],u=Object(c.useState)(""),O=Object(x.a)(u,2),h=O[0],g=O[1],f=Object(c.useState)(1),v=Object(x.a)(f,2),S=v[0],C=v[1],y=Object(c.useState)([""],[""]),_=Object(x.a)(y,2),z=_[0],k=_[1],P=Object(X.a)(),I={};t?I={patient_id:t.id,medecin_id:n.id,page:S}:(I={patient_id:n.id,page:S},t=n);var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)("hc",(function(){return J.get("hc",{params:t})}),n)}({params:I,onError:function(e){P({title:"Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:4e3,isClosable:!0})},onSuccess:function(e){o(e.data.total),b(e.data.next_page_url),g(e.data.prev_page_url),e.data.data&&e.data.data.map((function(e){null==e.Diagnostic&&(e.Diagnostic="Aucun diagnostic \xe9crit")})),k(!!e.data.data&&e.data.data||[])}}),E=w.isLoading,D=(w.refetch,Object(c.useState)({fn:function(e){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(xt,{data:e})})}})),F=Object(x.a)(D,2),T=F[0];F[1];return Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsxs)(Be.a,{minChildWidth:"100px",spacing:"10px",children:[Object(p.jsx)(bt,{patient:t}),Object(p.jsx)(Ye,{patient:t}),Object(p.jsx)(rt,{patient:t}),Object(p.jsx)(mt,{patient:t}),Object(p.jsx)(vt,{patient:t}),Object(p.jsx)(gt,{patient:t})]}),E?Object(p.jsxs)(M.b,{mt:"40px",children:[Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"}),Object(p.jsx)(Je.a,{startColor:"gray.100",endColor:"green.500",height:"40px"})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(We,{header:["date","Diagnostic"],content:z,fntable:T}),Object(p.jsx)(He,{total:s,next_page_url:d,prev_page_url:h,page:S,setPage:C})]})]})},Ct=function(e){var t=Object(k.a)({base:!0,lg:!1}),n=e.patient,a=Object(Pe.a)(),r=a.isOpen,i=a.onOpen,s=a.onClose,o=Object(c.useRef)();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ae.a,{ref:o,m:1,colorScheme:"green",onClick:i,children:Object(p.jsx)(_.a,{label:"Tout ce que j'ai fait pour ce patient","aria-label":"Tout ce que j'ai fait pour ce patient",children:t?Object(p.jsx)(R.f,{fontSize:"30px"}):"Historique"})}),Object(p.jsx)(Ie.a,{size:"xl",isOpen:r,placement:"right",onClose:s,finalFocusRef:o,children:Object(p.jsx)(we.h,{children:Object(p.jsxs)(Ie.b,{bg:Object(S.d)("green.50","gray.700"),children:[Object(p.jsx)(we.c,{}),Object(p.jsx)(we.g,{children:"Historique patient"}),Object(p.jsx)(we.b,{children:Object(p.jsx)(St,{patient:n})}),Object(p.jsx)(we.f,{children:Object(p.jsx)(ae.a,{variant:"outline",mr:3,onClick:s,children:"Annuler"})})]})})})]})},yt=n(401),_t=function(e){var t=Object(k.a)({base:!0,lg:!1}),n=e.data;return Object(p.jsxs)(Qe.a,{children:[Object(p.jsx)(Qe.h,{children:Object(p.jsx)(ae.a,{m:1,colorScheme:"green",children:Object(p.jsx)(_.a,{label:"Plus d'informations sur ".concat(n.nom+" "+n.prenom),"aria-label":"Plus d'informations sur ".concat(n.nom+" "+n.prenom),children:t?Object(p.jsx)(R.h,{fontSize:"30px"}):"Informations"})})}),Object(p.jsx)(yt.a,{children:Object(p.jsxs)(Qe.e,{borderColor:"green",children:[Object(p.jsx)(Qe.b,{}),Object(p.jsxs)(Qe.g,{children:[n.nom+" "+n.prenom," "]}),Object(p.jsx)(Qe.d,{}),Object(p.jsxs)(Qe.c,{children:[n.photo&&Object(p.jsx)(y.a,{children:Object(p.jsx)(N.a,{size:"xl",name:n.nom+" "+n.prenom,src:"".concat(U).concat(n.photo)})}),n.Adresse&&Object(p.jsxs)(D.a,{children:["Adresse : ",n.Adresse," "]}),n.Code_APCI&&Object(p.jsxs)(D.a,{children:["Code_APCI : ",n.Code_APCI," "]}),""!=n.email&&null!=n.email?Object(p.jsx)(D.a,{as:"a",href:"mailto:"+n.email,children:Object(p.jsx)(ae.a,{my:1,colorScheme:"green",leftIcon:Object(p.jsx)(nt.a,{}),variant:"outline",children:"Email"})}):"",""!=n.telephone&&null!=n.telephone?Object(p.jsx)(D.a,{display:"block",as:"a",href:"tel:"+n.telephone,children:Object(p.jsx)(ae.a,{my:1,leftIcon:Object(p.jsx)(tt.a,{}),colorScheme:"green",variant:"outline",children:"Appeller"})}):"",n.cin&&Object(p.jsxs)(D.a,{children:["cin : ",n.cin," "]})]}),Object(p.jsx)(Qe.f,{children:"Ce sont des informations personnelles sur votre patient"})]})})]})},zt=function(){var e=Object(c.useContext)(m),t=e.user,n=(e.cleanUser,Object(Pe.a)()),r=(n.isOpen,n.onOpen,n.onClose,Object(X.a)()),i=t.id,s=Object(c.useState)(0),o=Object(x.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)(""),b=Object(x.a)(d,2),u=b[0],O=b[1],h=Object(c.useState)(""),g=Object(x.a)(h,2),f=g[0],v=g[1],S=Object(c.useState)(1),C=Object(x.a)(S,2),_=C[0],z=C[1],k=Object(c.useState)([[""],[""]]),P=Object(x.a)(k,2),I=P[0],w=P[1],E=Object(c.useState)(""),M=Object(x.a)(E,2),D=M[0],F=M[1],T={medecin_id:i,patient_id:D,page:_},V=(a.a.useRef(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)(["Liste de mes patients",t],(function(){return J.get("lrmp",{params:t})}),n)}({params:T,onError:function(e){r({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){j(e.data.total),O(e.data.next_page_url),v(e.data.prev_page_url),w(!!e.data.data&&e.data.data||[])}})),L=V.isLoading,R=V.refetch,q=Object(c.useState)({fn:function(e){return Object(p.jsx)(_t,{data:e})},fn2:function(e){return Object(p.jsx)(Ct,{patient:e})}}),N=Object(x.a)(q,2),W=N[0];N[1];return Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)(Q.a,{display:L?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(p.jsx)(y.a,{display:L?"none":"",as:"section",py:{base:0,md:"12"},w:"100%",children:Object(p.jsx)(y.a,{maxW:{base:"xl",md:"7xl"},mx:"auto",px:{base:"1",md:"8"},children:Object(p.jsxs)(y.a,{children:[Object(p.jsx)(Ke,{refetch:R}),Object(p.jsx)(qe,{buttonText:"Chercher",buttonIcon:Object(p.jsx)(Ze.a,{fontSize:"1.25em"}),chercherFn:F,buttonhoverTesxt:"Rechercher \ud83d\udd0e",inputhoverTesxt:"\xe9cris quoi que ce soit pour indiquer sur la personne que tu veux trouver"}),Object(p.jsx)(We,{header:["Nom","Prenom"],content:I,fntable:W,message:function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(he.a,{as:"h2",size:"lg",fontWeight:"extrabold",letterSpacing:"tight",children:"vous n'avez aucun patient"})})}}),Object(p.jsx)(He,{total:l,next_page_url:u,prev_page_url:f,page:_,setPage:z})]})})})]})},kt=n(416),Pt=n(63),It=n(51),wt=function(e){var t=e.hoverMassage,n=e.target,c=e.isOpen,a=e.setIsOpen,r=e.cancelRef,i=e.onClose,s=e.fnTodo,o=e.Header,l=e.Body,j=e.icon,d=e.colorScheme,b=e.bg,u=e.btOK,O=e.btNon;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(_.a,{label:!!t&&t,"aria-label":!!t&&t,children:Object(p.jsx)(Ge.a,{size:"sm",m:1,bg:b,colorScheme:d,icon:j,onClick:function(){return a(!0)}})}),Object(p.jsx)(lt.a,{isOpen:c,leastDestructiveRef:r,onClose:i,children:Object(p.jsx)(we.h,{children:Object(p.jsxs)(lt.b,{children:[Object(p.jsx)(we.g,{fontSize:"lg",fontWeight:"bold",children:o}),Object(p.jsx)(we.b,{children:l}),Object(p.jsxs)(we.f,{children:[Object(p.jsx)(ae.a,{ref:r,onClick:i,colorScheme:"green",children:O}),Object(p.jsx)(ae.a,{colorScheme:"green",onClick:function(e){return s(e,n)},ml:3,children:u})]})]})})})]})},Et=function(e){var t=Object(c.useState)(!1),n=Object(x.a)(t,2),a=n[0],r=n[1],i=function(){return r(!1)},s=Object(c.useRef)(),o=Object(c.useState)(!1),l=Object(x.a)(o,2),j=l[0],d=l[1],b=function(){return d(!1)},u=Object(c.useRef)(),m=e.taskvalue,h=(e.task,e.setTask,e.DeleteMutate),g=e.EnteredMutate,f=e.usertype,v=function(e){e.stopPropagation(),g({id:m.id}),i()},C=function(e){e.stopPropagation(),h({id:m.id}),i()};return Object(p.jsx)(It.b,{draggableId:m.id.toString(),index:m.id,children:function(e,t){return Object(p.jsxs)(Qe.a,{children:[Object(p.jsx)(Qe.h,{children:Object(p.jsx)(y.a,Object(O.a)(Object(O.a)(Object(O.a)({onClick:function(e){return function(e){e.stopPropagation()}(e)},ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{style:(t.isDragging,n=e.draggableProps.style,Object(O.a)(Object(O.a)({},n),{},{userSelect:"none",padding:3,margin:"0 0 0px 0"})),border:"2px",borderRadius:"20px",bgColor:t.isDragging?"#3b8a5b":"#b3e6c8",borderColor:"green.200",mx:3,px:2,children:Object(p.jsxs)(y.a,{color:"gray.800",fontSize:"17px",children:[Object(p.jsx)(wt,{hoverMassage:"Supprimer ce r\xe9servatitien",Header:"Supprimer la r\xe9servation",Body:"Voulez-vous vraiment supprimer cette r\xe9servation avec ".concat(m.nomprenom),icon:Object(p.jsx)(et.a,{}),colorScheme:"teal",bg:"red.300",fnTodo:C,btOK:"Effacer",btNon:"Annuler",isOpen:a,setIsOpen:r,onClose:i,cancelRef:s}),m.nomprenom,"medecin"==f||"secretaire"==f?Object(p.jsx)(wt,{hoverMassage:"Envoyer ce patient au m\xe9decin",Header:"Confirmer",Body:"Voulez-vous confirmer que ".concat(m.nomprenom," d\xe9butera sa consultation ? "),icon:Object(p.jsx)(L.a,{w:4,h:4}),bg:"blue.300",btOK:"oui",btNon:"Non",fnTodo:v,isOpen:j,setIsOpen:d,onClose:b,cancelRef:u}):""]})}))}),Object(p.jsxs)(Qe.e,{bg:Object(S.d)("green.50","gray.800"),children:[Object(p.jsx)(Qe.g,{fontWeight:"semibold",children:m.nomprenom}),Object(p.jsxs)(Qe.c,{children:["Votre rendez-vous est le ",m.start.slice(0,10)+" ","\xe0"," "+m.start.slice(11,19)]})]})]});var n}},m.id)},Mt=function(e){var t=e.usertype,n=e.HoursValue,c=e.key,a=e.value,r=e.DeleteMutate,i=e.addtask,s=e.task,o=e.EnteredMutate,l=e.setTask;return Object(p.jsx)(y.a,{h:"160px",fontSize:"20px",border:"1px",borderColor:Object(S.d)("green.200","cyan.800"),children:Object(p.jsxs)(Le.a,{h:"100%",templateRows:"repeat(4, 1fr)",border:"3px",borderColor:"red.200",gap:0,children:[Object(p.jsx)(It.c,{droppableId:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"00",children:function(e,c){return Object(p.jsx)(Le.b,Object(O.a)(Object(O.a)({},e.droppableProps),{},{ref:e.innerRef,bgColor:Object(S.d)("green.50","cyan.600"),color:Object(S.d)("green.800","gray.300"),maxH:"40px",onClick:function(e){return i(e,a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"00",a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15")},borderBottom:"1px",id:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"00",borderColor:"gray.200",children:Object(p.jsxs)(C.a,{children:[Object(p.jsx)(D.a,{fontSize:"xs",children:n.slice(0,3)+"00"}),s.map((function(e){return e.start===a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"00"?Object(p.jsx)(Et,{usertype:t,EnteredMutate:o,DeleteMutate:r,task:s,setTask:l,taskvalue:e},e.id):""})),e.placeholder]})}))}}),Object(p.jsx)(It.c,{droppableId:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15",children:function(e,c){return Object(p.jsx)(Le.b,Object(O.a)(Object(O.a)({},e.droppableProps),{},{ref:e.innerRef,bgColor:Object(S.d)("green.100","cyan.700"),maxH:"40px",color:Object(S.d)("green.800","gray.300"),onClick:function(e){return i(e,a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15",a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30")},borderBottom:"1px",id:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15",borderColor:"gray.200",children:Object(p.jsxs)(C.a,{children:[Object(p.jsx)(D.a,{fontSize:"xs",children:n.slice(0,3)+"15"}),s.map((function(e){return e.start===a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15"?Object(p.jsx)(Et,{usertype:t,EnteredMutate:o,DeleteMutate:r,task:s,setTask:l,taskvalue:e},e.id):""})),e.placeholder]})}))}}),Object(p.jsx)(It.c,{droppableId:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30",children:function(e,c){return Object(p.jsx)(Le.b,Object(O.a)(Object(O.a)({},e.droppableProps),{},{ref:e.innerRef,bgColor:Object(S.d)("green.200","cyan.800"),maxH:"40px",color:Object(S.d)("green.800","gray.300"),onClick:function(e){return i(e,a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30",a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45")},borderBottom:"1px",id:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30",borderColor:"gray.200",children:Object(p.jsxs)(C.a,{children:[Object(p.jsx)(D.a,{fontSize:"xs",children:n.slice(0,3)+"30"}),s.map((function(e){return e.start===a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30"?Object(p.jsx)(Et,{usertype:t,EnteredMutate:o,DeleteMutate:r,task:s,setTask:l,taskvalue:e},e.id):""})),e.placeholder]})}))}}),Object(p.jsx)(It.c,{droppableId:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45",children:function(e,c){return Object(p.jsx)(Le.b,Object(O.a)(Object(O.a)({},e.droppableProps),{},{ref:e.innerRef,bgColor:Object(S.d)("green.300","cyan.900"),color:Object(S.d)("green.800","gray.300"),maxH:"40px",onClick:function(e){return i(e,a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45",a.toISOString().slice(0,10)+"T"+(parseInt(n.slice(0,2))<9)?"0".concat(parseInt(n.slice(0,2))+1,":00"):parseInt(n.slice(0,2))+1+":00")},borderBottom:"1px",id:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45",borderColor:"gray.200",children:Object(p.jsxs)(C.a,{children:[Object(p.jsx)(D.a,{fontSize:"xs",children:n.slice(0,3)+"45"}),s.map((function(e){return e.start===a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45"?Object(p.jsx)(Et,{usertype:t,EnteredMutate:o,DeleteMutate:r,task:s,setTask:l,taskvalue:e},e.id):""})),e.placeholder]})}))}})]})},c)};var At=function(e){for(var t=e.usertype,n=e.EnteredMutate,c=e.rowNumber,a=e.date,r=e.DeleteMutate,i=e.task,s=e.updateTask,o=e.setTask,l=e.addtask,j=["07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00"],d=function(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n},b=[],u=0;u<c;u++)0===u?b.push(a):b.push(d(b[b.length-1],1));var O,m=[],h=Object(Pt.a)(b.entries());try{var g=function(){var e=Object(x.a)(O.value,2),c=e[0],a=e[1];m.push(Object(p.jsxs)(y.a,{children:[Object(p.jsx)(ee.a,{w:"100%",border:"1px",borderColor:Object(S.d)("green.200","cyan.900"),bgColor:Object(S.d)("green.300","cyan.900"),color:Object(S.d)("green.800","gray.50"),h:10,align:"center",children:a.toISOString().slice(0,10)},"key".concat(c)),j.map((function(e){return Object(p.jsx)(Mt,{EnteredMutate:n,usertype:t,DeleteMutate:r,HoursValue:e,value:a,addtask:l,task:i,setTask:o},e.slice(0,4))}))]}))};for(h.s();!(O=h.n()).done;)g()}catch(f){h.e(f)}finally{h.f()}return Object(p.jsx)(y.a,{children:Object(p.jsxs)(Le.a,{templateColumns:"repeat(10, 1fr)",gap:0,children:[Object(p.jsx)(Le.b,{colSpan:1,children:Object(p.jsxs)(y.a,{w:"100%",border:"1px",bgColor:Object(S.d)("green.300","cyan.900"),borderColor:Object(S.d)("green.200","cyan.900"),children:[Object(p.jsx)(ee.a,{h:10,align:"center"}),j.map((function(e){return Object(p.jsx)(ee.a,{border:"1px",borderColor:Object(S.d)("green.200","cyan.900"),bgColor:Object(S.d)("green.300","cyan.900"),color:Object(S.d)("green.800","gray.50"),h:"160px",px:2,fontSize:"20px",children:e},e)}))]})}),Object(p.jsx)(Le.b,{colSpan:9,w:"100%",children:Object(p.jsx)(Le.a,{w:"100%",templateColumns:"repeat("+parseInt(c)+", 1fr)",gap:0,children:Object(p.jsx)(It.a,{onDragEnd:function(e){return s(e)},children:m})})})]})})},Dt=n(415),Ft=n(417),Tt=function(e){return Object(ye.a)((function(e){var t=e.id,n=e.date_reservation;return J.post("updater",{id:t,date_reservation:n})}),e)},Vt=function(e){return Object(ye.a)((function(e){var t=e.id;return J.post("deleter",{id:t})}),e)},Lt=function(e){var t=Object(c.useState)(!1),n=Object(x.a)(t,2),r=n[0],i=n[1],s=Object(oe.b)(e),o=s.errorMessage,l=s.id,j=s.isValid,d=s.isSubmitted,b=s.setValue,u=s.value,O=e.label,m=e.required,h=e.note,g=a.a.useState(!1),f=Object(x.a)(g,2),v=f[0],S=f[1],C=!j&&(v||d);return Object(p.jsxs)(G.a,{mt:5,children:[Object(p.jsxs)(le.a,{htmlFor:l,children:[O,!!m&&" *"]}),Object(p.jsxs)(xe.a,{children:[Object(p.jsx)(de.a,{id:l,type:r?"text":"password",value:null!==u&&void 0!==u?u:"",onChange:function(e){return b(e.target.value)},onBlur:function(){return S(!0)},"aria-invalid":C,"aria-required":!!m,"aria-describedby":C?"".concat(l,"-error"):null}),Object(p.jsx)(pe.b,{children:Object(p.jsx)(ae.a,{size:"sm",onClick:function(){return i(!r)},children:r?Object(p.jsx)(ue.a,{}):Object(p.jsx)(Oe.a,{})})})]}),C&&Object(p.jsxs)(D.a,{id:"".concat(l,"-error"),color:"tomato",children:["\ud83d\udd75 ",o]}),h&&Object(p.jsx)(G.b,{id:"".concat(l,"-note"),children:h})]})},Rt=function(e){return Object(ye.a)((function(e){var t=e.cin,n=e.email,c=e.id_cms_privileges,a=e.nom,r=e.password,i=e.prenom,s=e.telephone,o=e.sexes,l=e.date_naissance;return J.post("singup",{cin:t,email:n,id_cms_privileges:c,nom:a,password:r,prenom:i,telephone:s,sexes:o,date_naissance:l})}),e)},qt=function(e){var t=e.medecin_id,n=e.addPatient,r=Object(c.useState)("patient"),i=Object(x.a)(r,2),s=i[0],o=(i[1],Object(oe.c)()),l=o.values,j=Object(c.useState)("homme"),d=Object(x.a)(j,2),b=d[0],u=d[1],O=Object(X.a)(),m=Rt({onError:function(e){O({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){1==(e=e.data).api_status&&(e.exists?O({title:e.elementExists+" existe d\xe9ja",description:"choisir un autre "+e.elementExists+" \ud83d\udcad",status:"success",duration:"4000",isClosable:!0}):(O({title:" \u2728 ",description:"\ud83c\udf89 Compte a \xe9t\xe9 enregistr\xe9",status:"success",duration:"4000",isClosable:!0}),n({medecin_id:t,patient_id:e.id})))}}),h=m.mutate,g=m.isLoading;return Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)(Q.a,{display:g?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(p.jsx)(M.b,{maxW:400,display:g?"none":"",margin:"auto",spacing:5,children:Object(p.jsx)(oe.a,{connect:o,onValidSubmit:function(e){e.sexes=b,e.id_cms_privileges=s,delete e.R_password,h(e)},children:Object(p.jsxs)("form",{noValidate:!0,onSubmit:o.submit,children:[Object(p.jsx)(ke,{name:"nom",label:"Nom",required:"Il est requis de compl\xe9ter ce champ",validations:[{rule:Object(Y.e)("^[a-zA-Z ]*$"),message:"Le nom ne contient que des lettres"}]}),Object(p.jsx)(ke,{name:"prenom",label:"Pr\xe9nom",required:"Il est requis de compl\xe9ter ce champ",validations:[{rule:Object(Y.e)("^[a-zA-Z ]*$"),message:"Le prenom ne contient que des lettres"}]}),Object(p.jsx)(G.a,{children:Object(p.jsx)(ee.a,{children:Object(p.jsx)(te.a,{onChange:u,value:b,name:"sexes",children:Object(p.jsxs)(M.b,{direction:"row",size:"lg",children:[Object(p.jsx)(ne.a,{value:"homme",py:3,mx:5,children:"Homme \ud83d\udc68\u200d\ud83e\uddb0"}),Object(p.jsx)(ne.a,{value:"femme",py:3,mx:5,children:"Femme \ud83d\udc69\u200d\ud83e\uddb0"})]})})})}),Object(p.jsx)(je,{name:"date_naissance",label:"Date de naissance"}),Object(p.jsx)(ke,{name:"email",label:"E-mail",validations:[{rule:Object(Y.a)(),message:"Veuillez v\xe9rifier le format de l'E-mail"},{rule:function(e){return!!e||!!l.cin||!!l.telephone},message:'Le champ E-mail doit contenir "@" et "." ',deps:[l.cin,l.telephone]}]}),Object(p.jsx)(ke,{name:"cin",label:"C.I.N",validations:[{rule:Object(Y.b)(8),message:"La carte d'identit\xe9 doit \xeatre constitu\xe9e  de 8 chiffres"},{rule:Object(Y.d)(),message:"La carte d'identit\xe9 ne contient que des chiffres"},{rule:Object(Y.b)(8),message:"La carte d'identit\xe9 doit \xeatre constitu\xe9e  de 8 chiffres"},{rule:function(e){return!!e||!!l.email||!!l.telephone},message:"La carte d'identit\xe9 doit \xeatre constitu\xe9e  de 8 chiffres",deps:[l.email,l.telephone]}]}),Object(p.jsx)(ke,{name:"telephone",label:"T\xe9l\xe9phone",validations:[{rule:Object(Y.b)(8),message:"La num\xe9ro de t\xe9l\xe9phone doit \xeatre constitu\xe9e  de 8 chiffres"},{rule:Object(Y.d)(),message:"La num\xe9ro de t\xe9l\xe9phone  ne contient que des chiffres"},{rule:function(e){return!!e||!!l.cin||!!l.email},message:"La num\xe9ro de t\xe9l\xe9phone doit \xeatre constitu\xe9e  de 8 chiffres",deps:[l.cin,l.email]}]}),Object(p.jsx)(Lt,{name:"password",label:"Mot de passe",required:"Il est requis de compl\xe9ter ce champ ",type:"password",validations:[{rule:Object(Y.c)(6),message:"Le mot de passe doit contenir au moins 6 caract\xe8res"}]}),Object(p.jsx)(Lt,{name:"R_password",label:"R\xe9p\xe9ter le mot de passe",required:"Il est requis de compl\xe9ter le champ correspondant au r\xe9p\xe9ter mot de passe",type:"password",validations:[{rule:function(e){return e==l.password},message:"Le mot de passe r\xe9p\xe9t\xe9 doit \xeatre le m\xeame.",deps:[l.cin,l.telephone]}]}),Object(p.jsx)(G.a,{mt:5,align:"center",children:Object(p.jsxs)(ae.a,{type:"submit",borderColor:"green.500",disabled:!o.isValid,children:["Cr\xe9er mon compte",o.isValid?"\ud83d\udc4c":""]})})]})})})]})},Nt=function(e){var t,n=Object(X.a)(),a=Object(c.useState)(""),r=Object(x.a)(a,2),i=(r[0],r[1]),s=e.medecin_id,o=e.refetchTask,l=e.currentDateStart,j=e.listPatientDashboardAPIRefetch,d=e.cancelRef,b=e.isOpen,u=e.onClose,O=e.end,m=e.listPatient,h=(t={onError:function(e){n({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){o(),u()}},Object(ye.a)((function(e){var t=e.medecin_id,n=e.patient_id,c=e.etat,a=e.date_reservation;return J.post("cr",{medecin_id:t,patient_id:n,etat:c,date_reservation:a})}),t)),g=h.mutate,f=h.isLoading,v=Object(c.useState)(""),S=Object(x.a)(v,2),C=S[0],_=S[1],z=Ue({onError:function(e){_("V\xe9rifier les informations de votre patient.")},onSuccess:function(e){_(""),F("old"),j()}}),k=z.mutate,P=z.isLoading,I=Object(oe.c)(),w=Object(c.useState)("old"),E=Object(x.a)(w,2),A=E[0],F=E[1],T=function(e,t,n){e=e.replace("T"," ")+":00",g({medecin_id:s,patient_id:n,etat:"en attente",date_reservation:e})};return Object(p.jsx)(y.a,{children:Object(p.jsxs)(lt.a,{motionPreset:"slideInBottom",leastDestructiveRef:d,onClose:u,isOpen:b,isCentered:!0,children:[Object(p.jsx)(we.h,{}),Object(p.jsxs)(lt.b,{minW:{md:"700px"},children:[Object(p.jsx)(we.g,{children:"Confirmer la r\xe9servation"}),Object(p.jsx)(we.c,{}),Object(p.jsx)(Q.a,{display:f||P?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(p.jsxs)(we.b,{display:f||P?"none":"",children:[Object(p.jsx)(ee.a,{children:Object(p.jsx)(te.a,{onChange:F,value:A,children:Object(p.jsxs)(M.b,{direction:"row",children:[Object(p.jsx)(ne.a,{value:"old",children:"Patient associ\xe9 "}),Object(p.jsx)(ne.a,{value:"new",children:"Patient non-associ\xe9"}),Object(p.jsx)(ne.a,{value:"create",children:"Inscrire un patient"})]})})}),Object(p.jsx)(oe.a,{connect:I,onValidSubmit:function(e){"new"==A?k({medecin_id:s,patient_id:e.user}):(i(e.selectvalue.label),T(l,O,e.selectvalue.value))},children:Object(p.jsxs)("form",{noValidate:!0,onSubmit:I.submit,children:[Object(p.jsxs)(D.a,{pb:2,px:5,children:["create"!=A?"R\xe9servation d'un rendez-vous le ".concat(l.slice(0,10)+" "," \xe0 ").concat(l.slice(11,19)," pour : "):"","new"==A?Object(p.jsxs)(y.a,{children:[Object(p.jsx)(be,{name:"user",label:"Email ou CIN ou Telephone",required:"email ou CIN or Telephone"}),Object(p.jsx)(D.a,{color:"tomato",children:C})]}):"old"==A?Object(p.jsx)(Se,{required:"S\xe9lect un patient.",data:m,name:"selectvalue"}):""]}),"create"!=A?Object(p.jsxs)(we.f,{children:[Object(p.jsx)(ae.a,{display:f?"none":"",ref:d,onClick:u,children:"Non"}),Object(p.jsx)(ae.a,{display:f?"none":"",disabled:!I.isValid,type:"submit",ml:3,children:"Oui"})]}):""]})}),"create"==A?Object(p.jsx)(y.a,{maxH:"60vh",w:"100%",overflowY:"scroll",children:Object(p.jsx)(qt,{addPatient:k,medecin_id:s})}):""]})]})]})})},Wt=n(414),Ht=function(e){var t=e.target,n=e.fnTodo,a=e.Header,r=e.Body,i=e.icon,s=e.colorScheme,o=e.bg,l=e.btOK,j=e.btNon,d=(e.submitcolor,Object(c.useState)(!1)),b=Object(x.a)(d,2),u=b[0],O=b[1],m=function(){return O(!1)},h=Object(c.useRef)();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ge.a,{size:"md",m:1,bg:o,colorScheme:s,fontSize:"10px",icon:i,onClick:function(){return O(!0)}}),Object(p.jsx)(lt.a,{isOpen:u,leastDestructiveRef:h,onClose:m,children:Object(p.jsx)(we.h,{children:Object(p.jsxs)(lt.b,{children:[Object(p.jsx)(we.g,{fontSize:"lg",fontWeight:"bold",children:a}),Object(p.jsx)(we.b,{children:r}),Object(p.jsxs)(we.f,{children:[Object(p.jsx)(ae.a,{ref:h,onClick:m,children:j}),Object(p.jsx)(ae.a,{colorScheme:s,onClick:function(){n(t),m()},ml:3,children:l})]})]})})})]})},Bt=function(e){var t=e.data,n=e.type;return null==t?null:Object(p.jsxs)(y.a,{children:[Object(p.jsxs)(D.a,{fontSize:"xl",borderBottom:"1px",borderColor:Object(S.d)("green.300","gray.500"),px:2,display:"inline",color:Object(S.d)("green.700","gray.50"),children:[n,":"]}),Object(p.jsx)(D.a,{fontSize:"xl",px:2,display:"inline",color:"gray.500",children:t})]})},Ut=function(e){var t=Object(k.a)({base:!0,lg:!1}),n=Object(c.useState)({}),r=Object(x.a)(n,2),i=r[0],s=r[1],o=e.patient,l=Object(X.a)(),j={cms_users_id:o.id},d=Xe({params:j,onError:function(e){l({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){s(e.data)}}),b=d.isLoading,u=(d.refetch,Object(Pe.a)()),O=u.isOpen,m=u.onOpen,h=u.onClose;return Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)(ae.a,{colorScheme:"green",onClick:m,children:Object(p.jsx)(_.a,{label:"Obtenez les informations g\xe9n\xe9rales sur ".concat(i.nom," ").concat(i.prenom),"aria-label":"Obtenez les informations g\xe9n\xe9rales sur ".concat(i.nom," ").concat(i.prenom),children:t?Object(p.jsx)(L.h,{fontSize:"30px"}):"Informations"})}),Object(p.jsxs)(Ie.a,{placement:"left",size:"md",onClose:h,isOpen:O,children:[Object(p.jsx)(we.h,{}),Object(p.jsxs)(Ie.b,{bg:Object(S.d)("green.50","gray.700"),children:[Object(p.jsxs)(we.g,{borderBottomWidth:"1px",children:["Information de patient",Object(p.jsx)(Ge.a,{float:"right",variant:"outline",size:"xs",m:1,colorScheme:"red",fontSize:"10px",icon:Object(p.jsx)(et.a,{}),onClick:function(){return h()}})]}),Object(p.jsxs)(we.b,{display:b?"":"none",children:[Object(p.jsx)(Je.b,{size:"12"}),Object(p.jsx)(Je.c,{mt:"7",noOfLines:7,spacing:"7"})]}),Object(p.jsxs)(we.b,{display:b?"none":"",children:[Object(p.jsx)(N.a,{my:3,size:"xl",src:i.photo?"".concat(U).concat(i.photo):"".concat(U).concat("/vendor/crudbooster/avatar.jpg"),name:o.nomprenom}),Object(p.jsx)(Bt,{data:i.nom,type:"Nom"}),Object(p.jsx)(Bt,{data:i.prenom,type:"Prenom"}),Object(p.jsx)(Bt,{data:i.cin,type:"C.I.N"}),Object(p.jsx)(Bt,{data:i.Date_Naissance,type:"Date naissance"}),Object(p.jsx)(Bt,{data:i.email,type:"E-mail"}),i.email?Object(p.jsx)(D.a,{as:"a",href:"mailto:"+i.email,children:Object(p.jsx)(ae.a,{my:1,colorScheme:"green",leftIcon:Object(p.jsx)(nt.a,{}),variant:"outline",children:"Email"})}):"",Object(p.jsx)(Bt,{data:i.sexes,type:"Sexe"}),Object(p.jsx)(Bt,{data:i.telephone,type:"Telephone"}),i.telephone?Object(p.jsx)(D.a,{display:"block",as:"a",href:"tel:"+i.telephone,children:Object(p.jsx)(ae.a,{my:1,leftIcon:Object(p.jsx)(tt.a,{}),colorScheme:"green",variant:"outline",children:"Appeller"})}):""]}),Object(p.jsx)(we.f,{children:Object(p.jsx)(ae.a,{variant:"outline",mr:3,onClick:h,children:"Annuler"})})]})]})]})},Kt=function(e){var t,n=e.refetchDashboard,a=Object(c.useContext)(m).user,r=Object(Pe.a)(),i=r.isOpen,s=r.onOpen,o=r.onClose,l=Object(c.useRef)(),j=Object(X.a)(),d=Object(c.useState)(0),b=Object(x.a)(d,2),u=b[0],O=b[1],h=Object(c.useState)(""),g=Object(x.a)(h,2),f=g[0],v=g[1],S=Object(c.useState)(""),C=Object(x.a)(S,2),_=C[0],z=C[1],P=Object(c.useState)(1),I=Object(x.a)(P,2),w=I[0],E=I[1],M=Object(c.useState)([]),D=Object(x.a)(M,2),F=D[0],T=D[1],V=Object(c.useState)(["nom prenom","Date"]),L=Object(x.a)(V,2),R=L[0],q=(L[1],t={onError:function(e){j({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){n(),G()}},Object(ye.a)((function(e){var t=e.id,n=(e.etat,e.state);return J.post("sptwr",{id:t,etat:"en attente",state:n})}),t)),N=q.mutate,W=(q.isLoading,{medecin_id:a.id}),H=Vt({onError:function(e){j({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){G(),n()}}),B=H.mutate,U=(H.isLoading,Object(k.a)({base:!0,lg:!1})),K=Object(c.useState)({fn2:function(e){return Object(p.jsx)(Ht,{Header:"Supprimer la proposition r\xe9servation",Body:"Voulez-vous vraiment supprimer cette proposition de r\xe9servation avec ".concat(e.nomprenom),icon:Object(p.jsx)(et.a,{}),colorScheme:"teal",bg:"red.300",target:{id:e.idR},fnTodo:B,btOK:"Effacer",btNon:"Annuler"})},fn:function(e){return Object(p.jsx)(Ht,{Header:"Valider la r\xe9servation",Body:"Voulez-vous vraiment valider cette proposition de r\xe9servation avec ".concat(e.nomprenom),icon:Object(p.jsx)(Wt.a,{}),colorScheme:"teal",bg:"green.300",target:{id:e.idR,etat:"en attente",state:"valide"},fnTodo:N,btOK:"Valide",submitcolor:"gray.50",btNon:"Annuler"})},fn3:function(e){return Object(p.jsx)(Ut,{patient:e})}}),Z=Object(x.a)(K,2),$=Z[0],Y=(Z[1],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)(["valider un rendez vous ",t],(function(){return J.get("vr",{params:t})}),n)}({params:W,onError:function(e){j({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){O(e.data.total),v(e.data.next_page_url),z(e.data.prev_page_url),T(!!e.data.data&&e.data.data||[]),n()}})),Q=Y.isLoading,G=Y.refetch;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(ae.a,{position:"absolute",bottom:"7%",right:"4%",ref:l,colorScheme:"teal",onClick:s,children:[U?"":"Valider un rendez vous ",0!=F.length?"\ud83d\udceb":"\ud83d\udcea"]}),Object(p.jsx)(Ie.a,{size:"lg",isOpen:i,placement:"right",onClose:o,finalFocusRef:l,children:Object(p.jsx)(we.h,{children:Object(p.jsxs)(Ie.b,{children:[Object(p.jsx)(we.c,{}),Object(p.jsx)(we.g,{children:"\ud83d\udceb Valider un rendez vous "}),Object(p.jsx)(we.b,{children:Object(p.jsxs)(y.a,{display:Q?"none":"",children:[Object(p.jsx)(We,{header:R,content:F,fntable:$,message:function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(he.a,{as:"h2",size:"lg",fontWeight:"extrabold",letterSpacing:"tight",children:"Vous n'avez aucune r\xe9servation de la part d'aucun patient"})})}}),Object(p.jsx)(He,{total:u,next_page_url:f,prev_page_url:_,page:w,setPage:E})]})}),Object(p.jsx)(we.f,{children:Object(p.jsx)(ae.a,{variant:"outline",mr:3,onClick:o,children:"Annuler"})})]})})})]})},Zt=function(){var e,t=Object(X.a)(),n=Object(v.g)(),r=Object(c.useContext)(m).user,i=Object(c.useState)([{start:"2021-03-22T00:00"}]),s=Object(x.a)(i,2),o=s[0],l=s[1],j=r.idMedecin||r.id,d=Object(c.useState)({medecin_id:j}),b=Object(x.a)(d,2),u=b[0],O=(b[1],e={onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){M(),"medecin"==r.fonctionnalite&&n.push("/dashboard/consultation")}},Object(ye.a)((function(e){var t=e.id;return e.etat,J.post("pe",{id:t,etat:"patient avec le m\xe9decin"})}),e)),h=O.mutate,g=O.isLoading,f=Vt({onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){M()}}),S=f.mutate,z=f.isLoading,P=Tt({onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){M()}}),I=P.mutate,w=P.isLoading,E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)(["list de rendeves des parents en dashboard"],(function(){return J.get("listrm",{params:t})}),n)}({params:u,onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){for(var t in e.data)e.data[t].start=e.data[t].start.replace(" ","T").slice(0,-3);l(e.data)}}),M=(E.isLoading,E.refetch),D=Object(c.useState)(""),F=Object(x.a)(D,2),T=F[0],V=F[1],L=a.a.useRef(),R=Object(c.useState)(""),q=Object(x.a)(R,2),N=q[0],W=q[1],H=Object(Pe.a)(),B=H.isOpen,U=H.onOpen,K=H.onClose,Z=Object(c.useState)([]),$=Object(x.a)(Z,2),Y=$[0],G=$[1],ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)(["listpatientdashboard",t],(function(){return J.get("listpatientdashboard",{params:t})}),n)}({params:u,onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){G(e.data)}}),te=(ee.isLoading,ee.refetch),ne=Object(c.useState)(1),ce=Object(x.a)(ne,2),re=ce[0],ie=ce[1],se=Object(k.a)({base:!0,lg:!1}),le=function(e,t){var n=new Date(e);n.setDate(n.getDate()+t),Oe(n)},de=Object(c.useState)(new Date),be=Object(x.a)(de,2),ue=be[0],Oe=be[1],xe=Object(oe.c)();xe.values;return Object(p.jsx)(y.a,{children:Object(p.jsxs)(oe.a,{connect:xe,onValidSubmit:function(e){},children:[Object(p.jsx)(Q.a,{display:w||z||g?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(p.jsx)(y.a,{display:w||z||g?"none":"",children:Object(p.jsxs)(C.a,{py:2,children:[Object(p.jsx)(ae.a,{colorScheme:"green",ml:2,onClick:function(){return le(ue,-1*re)},children:Object(p.jsx)(_.a,{label:"Moin un jour","aria-label":"Moin un jour",children:Object(p.jsx)(Dt.a,{})})}),Object(p.jsx)(kt.a,{}),se?"":Object(p.jsx)(_.a,{label:"Affich\xe9 en mode 1 jours","aria-label":"Affich\xe9 en mode 1 jours",children:Object(p.jsx)(ae.a,{mx:2,onClick:function(){return ie(1)},children:"Par 1 jour"})}),Object(p.jsx)(y.a,{w:"120px",position:"relative",top:"-7px",mx:2,children:Object(p.jsx)(je,{SyncWithVariable:Oe,name:"date"})}),Object(p.jsx)(_.a,{label:"Aller \xe0 aujourd'hui","aria-label":"Aller \xe0 aujourd'hui",children:Object(p.jsx)(ae.a,{mx:2,onClick:function(){Oe(new Date)},children:"Aujourd'hui"})}),Object(p.jsx)(Kt,{refetchDashboard:M}),se?"":Object(p.jsx)(_.a,{label:"Affich\xe9 en mode 2 jours","aria-label":"Affich\xe9 en mode 2 jours",children:Object(p.jsx)(ae.a,{mx:2,onClick:function(){return ie(2)},children:"Par 2 jour"})}),Object(p.jsx)(kt.a,{}),Object(p.jsx)(ae.a,{colorScheme:"green",mr:2,onClick:function(){return le(ue,re)},children:Object(p.jsx)(_.a,{label:"Plus un jour","aria-label":"Plus un jour",children:Object(p.jsx)(Ft.a,{})})})]})}),Object(p.jsx)(At,{EnteredMutate:h,usertype:r.fonctionnalite,DeleteMutate:S,task:o,setTask:l,date:ue,rowNumber:re,updateTask:function(e){I({id:e.draggableId,date_reservation:e.destination.droppableId.replace("T"," ")+":00"})},addtask:function(e,t,n){e.stopPropagation(),W(n),V(t),U()}}),Object(p.jsx)(Nt,{listPatientDashboardAPIRefetch:te,listPatient:Y,currentDateStart:T,cancelRef:L,onClose:K,isOpen:B,refetchTask:M,medecin_id:j,setTask:l,end:N})]})})},Jt=function(){var e=Object(X.a)(),t=Object(c.useContext)(m).user,n=Object(c.useState)([]),a=Object(x.a)(n,2),r=a[0],i=a[1],s={patient_id:t.id},o=Vt({onError:function(t){e({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){b()}}),l=o.mutate,j=o.isLoading,d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)(["list de r\xe9servation on dashboard",t],(function(){return J.get("lrd",{params:t})}),n)}({params:s,onError:function(t){e({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){for(var t in e.data)e.data[t].start=e.data[t].start.replace(" ","T").slice(0,-3);i(e.data)}}),b=(d.isLoading,d.refetch),u=Object(c.useState)(""),O=Object(x.a)(u,2),h=(O[0],O[1],Object(c.useState)(1)),g=Object(x.a)(h,2),f=g[0],v=g[1],S=Object(c.useState)(new Date),z=Object(x.a)(S,2),P=z[0],I=z[1],w=Object(k.a)({base:!0,lg:!1}),E=function(e,t){var n=new Date(e);n.setDate(n.getDate()+t),I(n)},M=Object(oe.c)();M.values;return Object(p.jsx)(y.a,{children:Object(p.jsxs)(oe.a,{connect:M,onValidSubmit:function(e){},children:[Object(p.jsx)(Q.a,{display:j?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(p.jsx)(y.a,{display:j?"none":"",children:Object(p.jsxs)(C.a,{py:2,children:[Object(p.jsx)(ae.a,{ml:2,colorScheme:"green",onClick:function(){return E(P,-1*f)},children:Object(p.jsx)(_.a,{label:"Moin un jour","aria-label":"Moin un jour",children:Object(p.jsx)(Dt.a,{})})}),Object(p.jsx)(kt.a,{}),w?"":Object(p.jsx)(ae.a,{mx:2,onClick:function(){return v(1)},children:"Par jour"}),Object(p.jsx)(y.a,{w:"120px",position:"relative",top:"-7px",mx:2,children:Object(p.jsx)(je,{SyncWithVariable:I,name:"date"})}),Object(p.jsx)(ae.a,{mx:2,onClick:function(){return I(new Date)},children:"Aujourd'hui"}),w?"":Object(p.jsx)(ae.a,{mx:2,onClick:function(){return v(2)},children:"Par 2 jour"}),Object(p.jsx)(kt.a,{}),Object(p.jsx)(ae.a,{colorScheme:"green",mr:2,onClick:function(){return E(P,f)},children:Object(p.jsx)(_.a,{label:"Plus un jour","aria-label":"Plus un jour",children:Object(p.jsx)(Ft.a,{})})})]})}),Object(p.jsx)(At,{usertype:t.fonctionnalite,DeleteMutate:l,task:r,setTask:i,date:P,rowNumber:f,updateTask:function(t){e({title:"Vous ne pouvez pas changer votre r\xe9servation",description:" Vous devez appelez votre m\xe9decin pour le faire",status:"success",duration:"4000",isClosable:!0})},addtask:function(e,t,n){}})]})})},$t=function(){var e=Object(c.useState)("cabine"),t=Object(x.a)(e,2),n=t[0],a=t[1],r=Object(c.useContext)(m).user;return"secretaire"==r.fonctionnalite?Object(p.jsxs)(y.a,{children:[Object(p.jsx)(ee.a,{children:Object(p.jsx)(te.a,{onChange:a,value:n,children:Object(p.jsxs)(M.b,{direction:"row",spacing:50,children:[Object(p.jsx)(ne.a,{value:"cabine",children:"Dhasboard cabinet "}),Object(p.jsx)(ne.a,{value:"moi",children:"Mon dashboard"})]})})}),"cabine"==n?Object(p.jsx)(Zt,{}):Object(p.jsx)(Jt,{})]}):Object(p.jsx)(y.a,{children:"medecin"==r.fonctionnalite?Object(p.jsx)(Zt,{}):Object(p.jsx)(Jt,{})})},Yt=function(e){var t,n=Object(c.useState)(""),a=Object(x.a)(n,2),r=(a[0],a[1],e.medecin_id,e.refetchTask),i=e.currentDateStart,s=e.cancelRef,o=e.isOpen,l=e.onClose,j=e.data,d=e.end,b=Object(X.a)(),u=Object(c.useContext)(m).user,O=(t={onError:function(e){b({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){r(),l()}},Object(ye.a)((function(e){var t=e.medecin_id,n=e.patient_id,c=e.etat,a=e.date_reservation;return J.post("pcr",{medecin_id:t,patient_id:n,etat:c,date_reservation:a})}),t)),h=O.mutate,g=O.isLoading,f=Object(c.useState)(""),v=Object(x.a)(f,2),S=(v[0],v[1],Object(oe.c)()),C=Object(c.useState)("old"),_=Object(x.a)(C,2),z=(_[0],_[1],function(e,t,n){e=e.replace("T"," ")+":00",h({medecin_id:j.id,patient_id:n,etat:"en ligne",date_reservation:e})});return Object(p.jsx)(y.a,{children:Object(p.jsxs)(lt.a,{motionPreset:"slideInBottom",leastDestructiveRef:s,onClose:l,isOpen:o,isCentered:!0,children:[Object(p.jsx)(we.h,{}),Object(p.jsx)(lt.b,{children:Object(p.jsx)(oe.a,{connect:S,onValidSubmit:function(e){z(i,d,u.id)},children:Object(p.jsxs)("form",{noValidate:!0,onSubmit:S.submit,children:[Object(p.jsx)(we.g,{children:"Confirmer la r\xe9servation"}),Object(p.jsx)(we.c,{}),Object(p.jsx)(Q.a,{display:g?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(p.jsx)(we.b,{display:g?"none":"",children:Object(p.jsxs)(D.a,{pb:2,px:5,children:["R\xe9servation d'un rendez-vous le"," ",i.slice(0,10)+" ","\xe0"," "+i.slice(11,19),"?"]})}),Object(p.jsxs)(we.f,{children:[Object(p.jsx)(ae.a,{display:g?"none":"",ref:s,onClick:l,children:"Non"}),Object(p.jsx)(ae.a,{display:g?"none":"",disabled:!S.isValid,type:"submit",ml:3,children:"Oui"})]})]})})})]})})},Xt=function(e){var t=Object(c.useState)(!1),n=Object(x.a)(t,2),a=n[0],r=n[1],i=function(){return r(!1)},s=Object(c.useRef)(),o=Object(c.useState)(!1),l=Object(x.a)(o,2),j=l[0],d=l[1],b=function(){return d(!1)},u=Object(c.useRef)(),h=Object(c.useContext)(m).user,g=e.taskvalue,f=(e.task,e.setTask,e.DeleteMutate),v=e.EnteredMutate,C=e.usertype,_=function(e){e.stopPropagation(),v({id:g.id}),i()},z=function(e){e.stopPropagation(),f({id:g.id}),i()};return h.nom+" "+h.prenom==g.nomprenom?"en attente"==g.etat?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(y.a,{border:"2px",borderRadius:"20px",bgColor:"green.200",borderColor:"green.200",mx:3,px:2,children:Object(p.jsx)(y.a,{color:"gray.800",fontSize:"17px",children:g.nomprenom})})}):Object(p.jsx)(It.b,{draggableId:g.id.toString(),index:g.id,children:function(e,t){return Object(p.jsxs)(Qe.a,{children:[Object(p.jsx)(Qe.h,{children:Object(p.jsx)(y.a,Object(O.a)(Object(O.a)(Object(O.a)({onClick:function(e){return function(e){e.stopPropagation()}(e)},ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{style:(t.isDragging,n=e.draggableProps.style,Object(O.a)(Object(O.a)({},n),{},{userSelect:"none",padding:3,margin:"0 0 0px 0"})),border:"2px",borderRadius:"20px",bgColor:t.isDragging?"#3b8a5b":"#b3e6c8",borderColor:"green.200",mx:3,px:2,children:Object(p.jsxs)(y.a,{color:"gray.800",fontSize:"17px",children:[Object(p.jsx)(wt,{Header:"Supprimer la r\xe9servation",Body:"Voulez-vous vraiment supprimer cette r\xe9servation avec ".concat(g.nomprenom),icon:Object(p.jsx)(et.a,{}),colorScheme:"teal",bg:"red.300",fnTodo:z,btOK:"Effacer",btNon:"Annuler",isOpen:a,setIsOpen:r,onClose:i,cancelRef:s}),g.nomprenom,"medecin"==C?Object(p.jsx)(wt,{Header:"Confirmer",Body:"Voulez-vous confirmer que ".concat(g.nomprenom," d\xe9butera sa consultation ? "),icon:Object(p.jsx)(L.a,{}),bg:"blue.300",btOK:"oui",btNon:"Non",fnTodo:_,isOpen:j,setIsOpen:d,onClose:b,cancelRef:u}):null]})}))}),Object(p.jsxs)(Qe.e,{bg:Object(S.d)("green.50","gray.800"),children:[Object(p.jsx)(Qe.g,{fontWeight:"semibold",children:g.nomprenom}),Object(p.jsxs)(Qe.c,{children:["Votre rendez-vous est le ",g.start.slice(0,10)+" ","\xe0"," "+g.start.slice(11,19)]})]})]});var n}},g.id):Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(y.a,{border:"2px",borderRadius:"20px",bgColor:"green.200",borderColor:"green.200",mx:3,px:2,children:Object(p.jsx)(y.a,{color:"gray.800",fontSize:"17px",children:"Patiente"})})})},Qt=function(e){var t=e.usertype,n=e.HoursValue,c=e.key,a=e.value,r=e.DeleteMutate,i=e.addtask,s=e.task,o=e.EnteredMutate,l=e.setTask;return Object(p.jsx)(y.a,{h:"160px",fontSize:"20px",border:"1px",borderColor:Object(S.d)("green.200","gray.800"),children:Object(p.jsxs)(Le.a,{h:"100%",templateRows:"repeat(4, 1fr)",border:"3px",borderColor:"red.200",gap:0,children:[Object(p.jsx)(It.c,{droppableId:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"00",children:function(e,c){return Object(p.jsx)(Le.b,Object(O.a)(Object(O.a)({},e.droppableProps),{},{ref:e.innerRef,bgColor:Object(S.d)("green.50","gray.600"),color:Object(S.d)("green.800","gray.300"),maxH:"40px",onClick:function(e){return i(e,a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"00",a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15")},borderBottom:"1px",id:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"00",borderColor:"gray.200",children:Object(p.jsxs)(C.a,{children:[Object(p.jsx)(D.a,{fontSize:"xs",children:n.slice(0,3)+"00"}),s.map((function(e){return e.start===a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"00"?Object(p.jsx)(Xt,{usertype:t,EnteredMutate:o,DeleteMutate:r,task:s,setTask:l,taskvalue:e},e.id):""})),e.placeholder]})}))}}),Object(p.jsx)(It.c,{droppableId:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15",children:function(e,c){return Object(p.jsx)(Le.b,Object(O.a)(Object(O.a)({},e.droppableProps),{},{ref:e.innerRef,bgColor:Object(S.d)("green.100","gray.700"),maxH:"40px",color:Object(S.d)("green.800","gray.300"),onClick:function(e){return i(e,a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15",a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30")},borderBottom:"1px",id:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15",borderColor:"gray.200",children:Object(p.jsxs)(C.a,{children:[Object(p.jsx)(D.a,{fontSize:"xs",children:n.slice(0,3)+"15"}),s.map((function(e){return e.start===a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"15"?Object(p.jsx)(Xt,{usertype:t,EnteredMutate:o,DeleteMutate:r,task:s,setTask:l,taskvalue:e},e.id):""})),e.placeholder]})}))}}),Object(p.jsx)(It.c,{droppableId:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30",children:function(e,c){return Object(p.jsx)(Le.b,Object(O.a)(Object(O.a)({},e.droppableProps),{},{ref:e.innerRef,bgColor:Object(S.d)("green.200","gray.800"),maxH:"40px",color:Object(S.d)("green.800","gray.300"),onClick:function(e){return i(e,a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30",a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45")},borderBottom:"1px",id:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30",borderColor:"gray.200",children:Object(p.jsxs)(C.a,{children:[Object(p.jsx)(D.a,{fontSize:"xs",children:n.slice(0,3)+"30"}),s.map((function(e){return e.start===a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"30"?Object(p.jsx)(Xt,{usertype:t,EnteredMutate:o,DeleteMutate:r,task:s,setTask:l,taskvalue:e},e.id):""})),e.placeholder]})}))}}),Object(p.jsx)(It.c,{droppableId:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45",children:function(e,c){return Object(p.jsx)(Le.b,Object(O.a)(Object(O.a)({},e.droppableProps),{},{ref:e.innerRef,bgColor:Object(S.d)("green.300","gray.900"),color:Object(S.d)("green.800","gray.300"),maxH:"40px",onClick:function(e){return i(e,a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45",a.toISOString().slice(0,10)+"T"+(parseInt(n.slice(0,2))<9)?"0".concat(parseInt(n.slice(0,2))+1,":00"):parseInt(n.slice(0,2))+1+":00")},borderBottom:"1px",id:a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45",borderColor:"gray.200",children:Object(p.jsxs)(C.a,{children:[Object(p.jsx)(D.a,{fontSize:"xs",children:n.slice(0,3)+"45"}),s.map((function(e){return e.start===a.toISOString().slice(0,10)+"T"+n.slice(0,3)+"45"?Object(p.jsx)(Xt,{usertype:t,EnteredMutate:o,DeleteMutate:r,task:s,setTask:l,taskvalue:e},e.id):""})),e.placeholder]})}))}})]})},c)};var Gt=function(e){for(var t=e.usertype,n=e.EnteredMutate,c=e.rowNumber,a=e.date,r=e.DeleteMutate,i=e.task,s=e.updateTask,o=e.setTask,l=e.addtask,j=["07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00"],d=function(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n},b=[],u=0;u<c;u++)0===u?b.push(a):b.push(d(b[b.length-1],1));var O,m=[],h=Object(Pt.a)(b.entries());try{var g=function(){var e=Object(x.a)(O.value,2),c=e[0],a=e[1];m.push(Object(p.jsxs)(y.a,{children:[Object(p.jsx)(ee.a,{w:"100%",border:"1px",borderColor:Object(S.d)("green.200","gray.800"),bgColor:Object(S.d)("green.300","gray.600"),color:Object(S.d)("green.800","gray.50"),h:10,align:"center",children:a.toISOString().slice(0,10)},c),j.map((function(e){return Object(p.jsx)(Qt,{EnteredMutate:n,usertype:t,DeleteMutate:r,HoursValue:e,value:a,addtask:l,task:i,setTask:o},e.slice(0,4))}))]}))};for(h.s();!(O=h.n()).done;)g()}catch(f){h.e(f)}finally{h.f()}return Object(p.jsx)(y.a,{children:Object(p.jsxs)(Le.a,{templateColumns:"repeat(10, 1fr)",gap:0,children:[Object(p.jsx)(Le.b,{colSpan:1,children:Object(p.jsxs)(y.a,{w:"100%",border:"1px",bgColor:Object(S.d)("green.300","gray.600"),borderColor:Object(S.d)("green.200","gray.800"),children:[Object(p.jsx)(ee.a,{h:10,align:"center"}),j.map((function(e){return Object(p.jsx)(ee.a,{border:"1px",borderColor:Object(S.d)("green.200","gray.800"),bgColor:Object(S.d)("green.300","gray.600"),color:Object(S.d)("green.800","gray.50"),h:"160px",px:2,fontSize:"20px",children:e},e)}))]})}),Object(p.jsx)(Le.b,{colSpan:9,w:"100%",children:Object(p.jsx)(Le.a,{w:"100%",templateColumns:"repeat("+parseInt(c)+", 1fr)",gap:0,children:Object(p.jsx)(It.a,{onDragEnd:function(e){return s(e)},children:m})})})]})})},en=function(e){var t=Object(c.useContext)(m).user,n=e.data,r={medecin_id:n.id,patient_id:t.id},i=Object(X.a)(),s=Object(c.useState)([{start:"2021-03-22T00:00"}]),o=Object(x.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)(new Date),b=Object(x.a)(d,2),u=b[0],O=b[1],h=Object(k.a)({base:!0,lg:!1}),g=Object(c.useState)(1),f=Object(x.a)(g,2),v=f[0],S=f[1],z=Object(c.useState)(""),P=Object(x.a)(z,2),I=P[0],w=P[1],E=Object(c.useState)(""),M=Object(x.a)(E,2),D=M[0],F=M[1],T=Object(Pe.a)(),V=T.isOpen,L=T.onOpen,R=T.onClose,q=a.a.useRef(),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)(["list de r\xe9servation En Ligne on dashboard",t],(function(){return J.get("lrde",{params:t})}),n)}({params:r,onError:function(e){i({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){for(var t in e.data)e.data[t].start=e.data[t].start.replace(" ","T").slice(0,-3);j(e.data)}}),W=(N.isLoading,N.refetch),H=function(e,t){var n=new Date(e);n.setDate(n.getDate()+t),O(n)},B=Vt({onError:function(e){i({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){W()}}),U=B.mutate,K=B.isLoading,Z=Tt({onError:function(e){i({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){W()}}),$=Z.mutate,Y=Z.isLoading;return Object(p.jsxs)(y.a,{children:[Object(p.jsx)(Q.a,{display:Y||K?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(p.jsx)(y.a,{display:Y||K?"none":"",children:Object(p.jsxs)(C.a,{py:2,children:[Object(p.jsx)(ae.a,{ml:2,colorScheme:"green",onClick:function(){return H(u,-1*v)},children:Object(p.jsx)(_.a,{label:"Moin un jour","aria-label":"Moin un jour",children:Object(p.jsx)(Dt.a,{})})}),Object(p.jsx)(kt.a,{}),h?"":Object(p.jsx)(ae.a,{mx:2,onClick:function(){return S(1)},children:"Par jour"}),Object(p.jsx)(ae.a,{mx:2,onClick:function(){return O(new Date)},children:"Aujourd'hui"}),h?"":Object(p.jsx)(ae.a,{mx:2,onClick:function(){return S(2)},children:"Par 2 jour"}),Object(p.jsx)(kt.a,{}),Object(p.jsx)(ae.a,{mr:2,colorScheme:"green",onClick:function(){return H(u,v)},children:Object(p.jsx)(_.a,{label:"Plus un jour","aria-label":"Plus un jour",children:Object(p.jsx)(Ft.a,{})})})]})}),Object(p.jsx)(Gt,{usertype:"reservie",DeleteMutate:U,task:l,setTask:j,date:u,rowNumber:v,updateTask:function(e){$({id:e.draggableId,date_reservation:e.destination.droppableId.replace("T"," ")+":00"})},addtask:function(e,t,n){e.stopPropagation(),w(n),F(t),L()}}),Object(p.jsx)(Yt,{data:n,currentDateStart:D,cancelRef:q,onClose:R,isOpen:V,refetchTask:W,medecin_id:n.id,setTask:j,end:I})]})},tn=function(e){var t=e.data,n=Object(Pe.a)(),a=n.isOpen,r=n.onOpen,i=n.onClose,s=Object(c.useRef)(),o=Object(k.a)({base:!0,lg:!1});return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(_.a,{label:"Consultez la salle d'attente","aria-label":"Consultez la salle d'attente",children:Object(p.jsx)(ae.a,{ref:s,size:"sm",my:3,onClick:r,children:o?Object(p.jsx)(R.g,{fontSize:"30px"}):"Rendez-vous "})}),Object(p.jsx)(Ie.a,{size:"full",isOpen:a,placement:"right",onClose:i,finalFocusRef:s,children:Object(p.jsx)(we.h,{children:Object(p.jsxs)(Ie.b,{children:[Object(p.jsx)(we.c,{}),Object(p.jsxs)(we.g,{children:["Salle d'attente ",t.nom," ",t.prenom," \ud83e\ude91"," "]}),Object(p.jsx)(we.b,{children:Object(p.jsx)(en,{data:t})}),Object(p.jsx)(we.f,{children:Object(p.jsx)(ae.a,{variant:"outline",mr:3,onClick:i,children:"Annuler"})})]})})})]})},nn=function(e){var t=Object(c.useContext)(m),n=t.user,r=(t.cleanUser,e.refetch),i=Object(c.useState)(""),s=Object(x.a)(i,2),o=s[0],l=s[1],j=Ue({onError:function(e){l("V\xe9rifiez les informations de contact ou la liste que vous avez ins\xe9r\xe9es")},onSuccess:function(e){l(""),r()}}),d=j.mutate,b=j.isLoading,u=Object(oe.c)();return Object(p.jsx)(a.a.Fragment,{children:Object(p.jsx)(oe.a,{connect:u,onValidSubmit:function(e){e.patient_id=n.id,d(e)},children:Object(p.jsx)("form",{noValidate:!0,onSubmit:u.submit,children:Object(p.jsx)(M.b,{spacing:"2",direction:{base:"column",md:"row"},justify:"space-between",children:Object(p.jsxs)(Be.a,{columns:2,spacing:10,w:"100%",children:[Object(p.jsxs)(G.a,{minW:{md:"320px"},id:"search",children:[Object(p.jsx)(be,{name:"medecin_id",Placeholder:"Entrez l'email ou le t\xe9l\xe9phone du m\xe9decin"}),Object(p.jsx)(D.a,{color:"tomato",children:o})]}),Object(p.jsx)(Re.a,{size:"sm",variant:"outline",children:Object(p.jsxs)(ae.a,{position:"relative",top:"8px",type:"submit",fontSize:"20px",p:5,w:"100%",children:[Object(p.jsx)(Q.a,{display:b?"":"none",color:"red.500"}),"Ajouter \ud83e\ude7a"]})})]})})})})})},cn=function(e){var t=Object(k.a)({base:!0,lg:!1}),n=e.data;return Object(p.jsxs)(Qe.a,{children:[Object(p.jsx)(Qe.h,{children:Object(p.jsx)(ae.a,{mx:1,children:t?Object(p.jsx)(R.h,{fontSize:"30px"}):"Info"})}),Object(p.jsx)(yt.a,{children:Object(p.jsxs)(Qe.e,{children:[Object(p.jsx)(Qe.b,{}),Object(p.jsxs)(Qe.g,{children:[n.nom&&n.nom+" "+n.prenom,n.nomprenom&&n.nomprenom," "]}),Object(p.jsx)(Qe.d,{}),Object(p.jsxs)(Qe.c,{children:[n.photo&&Object(p.jsx)(y.a,{children:Object(p.jsx)(N.a,{size:"xl",name:n.nom+" "+n.prenom,src:"".concat(U).concat(n.photo)})}),n.Adresse&&Object(p.jsxs)(D.a,{children:["Adresse : ",n.Adresse," "]}),n.Code_APCI&&Object(p.jsxs)(D.a,{children:["Code_APCI : ",n.Code_APCI," "]}),n.email&&Object(p.jsx)(D.a,{as:"a",href:"mailto:"+n.email,children:Object(p.jsx)(ae.a,{my:1,colorScheme:"green",leftIcon:Object(p.jsx)(nt.a,{}),variant:"outline",children:"Email"})}),n.telephone&&Object(p.jsx)(D.a,{display:"block",as:"a",href:"tel:"+n.telephone,children:Object(p.jsx)(ae.a,{my:1,leftIcon:Object(p.jsx)(tt.a,{}),colorScheme:"green",variant:"outline",children:"Appeller"})})]}),Object(p.jsx)(Qe.f,{children:"Ce sont des informations personnelles sur votre patient"})]})})]})},an=function(){var e=Object(c.useContext)(m).user,t=Object(X.a)(),n=Object(c.useState)(0),r=Object(x.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(""),l=Object(x.a)(o,2),j=l[0],d=l[1],b=Object(c.useState)(""),u=Object(x.a)(b,2),O=u[0],h=u[1],g=Object(c.useState)(1),f=Object(x.a)(g,2),v=f[0],S=f[1],C=Object(c.useState)([[""],[""]]),_=Object(x.a)(C,2),z=_[0],k=_[1],P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)("pm",(function(){return J.get("pm",{params:t})}),n)}({params:{patient_id:e.id,page:v},onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){s(e.data.total),d(e.data.next_page_url),h(e.data.prev_page_url),k(!!e.data.data&&e.data.data||[])}}),I=P.isLoading,w=P.refetch,E=Object(c.useState)({fn:function(e){return Object(p.jsx)(cn,{data:e})},fn2:function(e){return Object(p.jsx)(tn,{data:e})}}),M=Object(x.a)(E,2),F=M[0];M[1];return Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)(Q.a,{display:I?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(p.jsx)(y.a,{display:I?"none":"",as:"section",py:{base:0,md:"12"},w:"100%",children:Object(p.jsxs)(y.a,{maxW:{base:"xl",md:"7xl"},mx:"auto",px:{base:"1",md:"8"},children:[Object(p.jsx)(nn,{refetch:w}),Object(p.jsxs)(y.a,{children:[Object(p.jsx)(We,{header:["Nom Prenom","domaine"],content:z,fntable:F,message:function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(he.a,{as:"h2",size:"lg",fontWeight:"extrabold",letterSpacing:"tight",children:"Vous n'avez aucun m\xe9decin dans votre liste."}),Object(p.jsx)(D.a,{mt:"4",fontSize:"lg",children:"Si vous voulez trouver un m\xe9decin,entrer ses coordonn\xe9es dans le barre ci-dessus"}),Object(p.jsx)(D.a,{mt:!0,fontSize:"lg",children:"(C.I.N , E-mail, Num\xb0t\xe9l)"})]})}}),Object(p.jsx)(He,{total:i,next_page_url:j,prev_page_url:O,page:v,setPage:S})]})]})})]})},rn=n(418),sn=function(e){var t=e.patientsWaiting,n=e.setCurrentPatient,a=e.DeleteMutate,r=e.currentPatient,i=e.SPTWRMutate,s=Object(c.useState)(!1),o=Object(x.a)(s,2),l=o[0],j=o[1],d=function(){return j(!1)},b=Object(c.useRef)(),u=Object(c.useState)(!1),O=Object(x.a)(u,2),m=O[0],h=O[1],g=function(){return h(!1)},f=Object(c.useRef)(),v=function(e,t){e.stopPropagation(),a({id:t}),t==r.rendez_vous_id&&n({}),d()},C=function(e,t){e.stopPropagation(),i({id:t}),t==r.rendez_vous_id&&n({}),g()};return 0!=t.length?Object(p.jsx)(Be.a,{columns:{base:1,md:3,lg:5},spacing:2,children:t.map((function(e){return Object(p.jsxs)(y.a,{_hover:{cursor:"pointer"},bg:Object(S.d)("green.100","gray.800"),borderRadius:"20px",textAlign:"center",p:2,onClick:function(t){t.stopPropagation(),n(e)},children:[e.nomprenom,Object(p.jsxs)(y.a,{children:[Object(p.jsx)(wt,{hoverMassage:"Supprimer la r\xe9servation",Header:"Supprimer la r\xe9servation",Body:"Voulez-vous vraiment supprimer cette r\xe9servation avec ".concat(e.nomprenom),icon:Object(p.jsx)(et.a,{w:4,h:4}),colorScheme:"teal",bg:"red.300",target:e.rendez_vous_id,fnTodo:v,btOK:"Effacer",btNon:"Annuler",isOpen:l,setIsOpen:j,onClose:d,cancelRef:b}),Object(p.jsx)(wt,{hoverMassage:"Envoyer cette patient \xe0 la salle d'attente",Header:"envoyer \xe0 la salle d'attente",Body:"\xcates-vous s\xfbr que vous voulez envoyer ".concat(e.nomprenom," \xe0 la salle d'attente"),icon:Object(p.jsx)(rn.a,{w:4,h:4}),colorScheme:"teal",bg:"green.300",target:e.rendez_vous_id,fnTodo:C,btOK:"Effacer",btNon:"Annuler",isOpen:m,setIsOpen:h,onClose:g,cancelRef:f})]})]},"".concat(e.id))}))}):Object(p.jsx)(ee.a,{children:Object(p.jsx)(he.a,{as:"h2",size:"lg",fontWeight:"extrabold",letterSpacing:"tight",children:"Aucun patient pour le moment"})})},on=n(36),ln=n(419),jn=function(e){var t=Object(oe.b)(e),n=t.errorMessage,r=t.id,i=t.isValid,s=t.isSubmitted,o=t.setValue,l=t.value,j=e.label,d=e.type,b=e.required,u=e.note,O=e.Placeholder,m=e.dtValue,h=a.a.useState(!1),g=Object(x.a)(h,2),f=g[0],v=g[1],S=!i&&(f||s);return Object(c.useEffect)((function(){o(m)}),[m]),Object(p.jsxs)(G.a,{children:[Object(p.jsxs)(le.a,{htmlFor:r,children:[j,!!b&&" *"]}),Object(p.jsx)(ln.a,{id:r,type:d||"text",placeholder:O||j,value:l||m||"",onChange:function(e){return o(e.target.value)},onBlur:function(){return v(!0)},"aria-invalid":S,"aria-required":!!b,"aria-describedby":S?"".concat(r,"-error"):null}),S&&Object(p.jsx)(D.a,{id:"".concat(r,"-error"),color:"tomato",children:n}),u&&Object(p.jsx)(G.b,{id:"".concat(r,"-note"),children:u})]})},dn=n(399),bn=n(421),un=function(e){var t=Object(oe.b)(e),n=t.errorMessage,r=t.id,i=t.isValid,s=t.isSubmitted,o=t.setValue,l=t.value,j=e.label,d=e.type,b=e.required,u=e.note,O=e.Placeholder,m=e.dtValue,h=a.a.useState(!1),g=Object(x.a)(h,2),f=g[0],v=g[1],S=!i&&(f||s);return Object(c.useEffect)((function(){o(m)}),[m]),Object(p.jsxs)(G.a,{children:[Object(p.jsxs)(le.a,{htmlFor:r,children:[j,!!b&&" *"]}),Object(p.jsx)(de.a,{min:0,id:r,type:d||"number",placeholder:O||j,value:l||m||"",onChange:function(e){return e.target.value<0?o(0):o(e.target.value)},onBlur:function(){return v(!0)},"aria-invalid":S,"aria-required":!!b,"aria-describedby":S?"".concat(r,"-error"):null}),S&&Object(p.jsx)(D.a,{id:"".concat(r,"-error"),color:"tomato",children:n}),u&&Object(p.jsx)(G.b,{id:"".concat(r,"-note"),children:u})]})},On=n(420),xn=(n(216),{name:"Element",display:"submenu",add:function(e,t){var n=this.setSubmenu.call(e),c=this;n.querySelectorAll(".se-btn-list").forEach((function(t){t.addEventListener("click",c.onClick.bind(e))})),e.initMenuTarget(this.name,t,n)},setSubmenu:function(){var e=this.util.createElement("DIV");return e.className="se-submenu se-list-layer",e.innerHTML='<div class="se-list-inner se-list-font-size">\n                            <ul class="se-list-basic">\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{patientNomPrenom}">\n                                      Nom et prenom du patient\n                                    </button>\n                                </li>\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{sexesPatient}">\n                                      Mr or MMr Patient\n                                    </button>\n                                </li>\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{agePatient}">\n                                    \xc2ge du patient\n                                    </button>\n                                </li>\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{datePatient}">\n                                    date de naissance patient\n                                    </button>\n                                </li>\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{addresPatient}">\n                                    Address patient\n                                    </button>\n                                </li>\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{sexesmedecin}">\n                                      Mr or MMr medecin\n                                    </button>\n                                </li>\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{medecinNomPrenom}">\n                                    Nom et prenom du medecin\n                                    </button>\n                                </li>\n                              \n                                <li>\n                                    <button type="button" class="se-btn-list" value="{thisDate}">\n                                    date de cette journ\xe9e\n                                    </button>\n                                </li>\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{specialiteMedecin}">\n                                    specialite medecin\n                                    </button>\n                                </li>\n                                <li>\n                                    <button type="button" class="se-btn-list" value="{domaineMedecin}">\n                                    domain medecin\n                                    </button>\n                                </li>\n                            </ul>\n                        </div>',e},onClick:function(e){var t=e.target.value,n=this.util.createElement("span");this.util.addClass(n,"se-custom-tag"),n.textContent=t,this.insertNode(n);var c=this.util.createTextNode(this.util.zeroWidthSpace);n.parentNode.insertBefore(c,n.nextSibling),this.submenuOff()}}),pn=(n(217),function(e){var t,n=e.user,r=e.refetch,i=Object(X.a)(),s=(t={onError:function(e){i({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){u(),i({title:"Type de certification ajout\xe9 avec succ\xe8s",description:"Vous pouvez le s\xe9lectionner nouveau \xe0 partir de 'Type de certificat'",status:"success",duration:"4000",isClosable:!0}),void 0!=r&&r()}},Object(ye.a)((function(e){var t=e.type,n=e.structure,c=e.cms_users_id;return J.post("addct",{type:t,structure:n,cms_users_id:c})}),t)),o=s.mutate,l=s.isLoading,j=Object(Pe.a)(),d=j.isOpen,b=j.onOpen,u=j.onClose,O=a.a.useRef(),m=Object(c.useRef)(),h=Object(oe.c)(),g=Object(c.useState)(""),f=Object(x.a)(g,2),v=f[0],C=f[1];return Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)(ae.a,{ref:O,colorScheme:Object(S.d)("green","gray"),onClick:b,children:"Ajouter un certificat"}),Object(p.jsx)(Ie.a,{isOpen:d,placement:"right",onClose:u,size:"full",finalFocusRef:O,children:Object(p.jsx)(we.h,{children:Object(p.jsxs)(Ie.b,{bgColor:Object(S.d)("green.50","gray.700"),children:[Object(p.jsx)(we.c,{}),Object(p.jsx)(we.g,{children:"Cr\xe9ez votre type de certificat"}),Object(p.jsxs)(we.b,{children:[Object(p.jsx)(Q.a,{display:l?"block":"none",size:"xl",m:"auto",color:"red.500"}),Object(p.jsx)(y.a,{display:l?"none":"block",children:Object(p.jsx)(oe.a,{connect:h,onValidSubmit:function(e){e.structure=v,e.cms_users_id=n.id,o(e)},children:Object(p.jsxs)("form",{noValidate:!0,onSubmit:h.submit,children:[Object(p.jsx)(y.a,{mb:5,children:Object(p.jsx)(be,{name:"type",label:"nom de certif",required:"vous devez saisir le nom de la certification"})}),Object(p.jsx)(st.a,{ref:m,lang:"fr",name:"my-editor",height:"auto",placeholder:"S'il vous pla\xeet \xe9crivez votre structure de certificat ici...",showToolbar:!0,values:v,onChange:function(e){C(e)},setOptions:{plugins:[xn],buttonList:[["undo","redo"],["font","fontSize","formatBlock",":p-More Paragraph-default.more_paragraph"],["paragraphStyle","blockquote"],["bold","underline","italic","strike","subscript","superscript"],["fontColor","hiliteColor","textStyle"],["removeFormat"],["image"],["align","horizontalRule","list","lineHeight"],[{name:"Element",dataCommand:"Element",buttonClass:"",title:"Element",dataDisplay:"submenu",innerHTML:'<div style="width: 70px;">Mod\xe8le</div>'}],["fullScreen"]]}}),Object(p.jsx)(y.a,{p:2,borderLeft:"1px",my:2,children:"Utiliser le boutton 'mod\xe8le' pour cr\xe9er vos propres certificats. Exemple : si vous ajoutez 'patientNomPr\xe9nom' , lors de votre consulation le nom de votre patient sera ajout\xe9 automatiquement."}),Object(p.jsx)(y.a,{py:3,children:Object(p.jsxs)(ae.a,{colorScheme:"green",type:"submit",children:["Sauvegarder ",h.isValid?"\ud83d\udc4c":""]})})]})})})]}),Object(p.jsx)(we.f,{children:Object(p.jsx)(ae.a,{variant:"outline",mr:3,onClick:u,children:"Annuler"})})]})})})]})}),mn=function(e){var t=Object(c.useContext)(m).user,n=Object(c.useState)(""),a=Object(x.a)(n,2),r=(a[0],a[1]),i=Object(c.useRef)(),s=e.id,o=e.removeComponentsForm,l=e.Patient,j=e.name,d=e.key,b=Object(c.useState)(""),u=Object(x.a)(b,2),O=u[0],h=u[1],g=Object(c.useState)(!0),f=Object(x.a)(g,2),v=f[0],C=f[1],_=Object(X.a)(),z=Object(c.useState)([]),k=Object(x.a)(z,2),P=k[0],I=k[1],w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)("gc",(function(){return J.get("gc",{params:t})}),n)}({params:{cms_users_id:t.id},onError:function(e){_({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){I(e.data)}}),E=(w.isLoading,w.refetch),M=Object(c.useState)({}),D=Object(x.a)(M,2),F=D[0],T=D[1],V={cms_users_id:l.id},L=Xe({params:V,onError:function(e){_({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){T(e.data)}}),R=(L.isLoading,L.refetch,function(e,t,n){return e.split(t).join(n)}),q=function(e){var n="homme"==t.sexes?"Mr.":"Mrs.",c="homme"==l.sexes?"Mr.":"Mrs.";return e=R(e,"{sexesPatient}",c),e=R(e,"{medecinNomPrenom}",t.nom+" "+t.prenom),e=R(e,"{patientNomPrenom}",F.nom+" "+F.prenom),e=R(e,"{addresPatient}",l.Adresse),e=R(e,"{sexesmedecin}",n),e=R(e,"{specialiteMedecin}",""),e=R(e,"{domaineMedecin}",""),e=R(e,"{datePatient}",F.date_naissance?new Date(F.date_naissance).toISOString().slice(0,10):""),e=R(e,"{thisDate}",(new Date).toISOString().slice(0,10)),e=R(e,"{agePatient}",F.date_naissance?Math.abs(new Date(Date.now()-new Date(F.date_naissance).getTime()).getUTCFullYear()-1970):"")};return Object(p.jsxs)(ut.d,{boxShadow:"lg",children:[Object(p.jsxs)(ut.b,{children:[Object(p.jsxs)(y.a,{flex:"1",textAlign:"left",children:[""!=O?O:"Certificat",Object(p.jsx)(On.a,{mx:5,onClick:function(e){e.stopPropagation(),C(!v)}}),Object(p.jsx)(de.a,{placeholder:"\xc9crivez le titre de cet \xe9l\xe9ment",display:v?"none":"inline",onChange:function(e){return h(e.target.value)}})]}),Object(p.jsx)(ut.c,{mx:3}),Object(p.jsx)(dn.a,{onClick:function(){return o(s)},colorScheme:"red",bgColor:"red.300",float:"right"})]}),Object(p.jsxs)(ut.e,{bgColor:Object(S.d)("green.50","gray.700"),pb:4,children:[Object(p.jsx)(pn,{user:t}),Object(p.jsx)(y.a,{py:2,children:Object(p.jsx)(ot,{required:"Vous devez \xe9crire un certificat ou simplement le supprimer",name:j,editorRef:i,Patient:l})}),Object(p.jsx)(y.a,{py:2,children:Object(p.jsx)(Se,{label:"Type de certificat",data:P,onChange:function(e){return function(e){E(),r(e.value),i.current.editor.setContents(q(e.value))}(e)},name:"selectvalue"})})]})]},"c"+d)},hn=function(e){e.user;var t,n=e.refetch,c=Object(X.a)(),r=(t={onError:function(e){c({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){d(),c({title:"Type d'acte ajout\xe9 avec succ\xe8s",description:"Vous pouvez le s\xe9lectionner nouveau \xe0 partir dans 'Liste d'acte'",status:"success",duration:"4000",isClosable:!0}),void 0!=n&&n()}},Object(ye.a)((function(e){var t=e.code,n=e.designation,c=e.price;return J.post("add_act",{code:t,designation:n,price:c})}),t)),i=r.mutate,s=r.isLoading,o=Object(Pe.a)(),l=o.isOpen,j=o.onOpen,d=o.onClose,b=a.a.useRef(),u=Object(oe.c)();return Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)(ae.a,{ref:b,colorScheme:Object(S.d)("green","gray"),onClick:j,children:"Ajouter un acte"}),Object(p.jsx)(Ie.a,{isOpen:l,placement:"right",onClose:d,size:"md",finalFocusRef:b,children:Object(p.jsx)(we.h,{children:Object(p.jsxs)(Ie.b,{bgColor:Object(S.d)("green.50","gray.700"),children:[Object(p.jsx)(we.c,{}),Object(p.jsx)(we.g,{children:"D\xe9finit votre acte"}),Object(p.jsxs)(we.b,{children:[Object(p.jsx)(Q.a,{display:s?"block":"none",size:"xl",m:"auto",color:"red.500"}),Object(p.jsx)(y.a,{display:s?"none":"block",children:Object(p.jsx)(oe.a,{connect:u,onValidSubmit:function(e){i(e)},children:Object(p.jsxs)("form",{noValidate:!0,onSubmit:u.submit,children:[Object(p.jsxs)(y.a,{mb:5,children:[Object(p.jsx)(be,{name:"code",label:"Code",required:"Il est requis de compl\xe9ter ce champ"}),Object(p.jsx)(be,{name:"designation",label:"Designation",required:"Il est requis de compl\xe9ter ce champ"}),Object(p.jsx)(un,{name:"price",label:"Prix",required:"Il est requis de compl\xe9ter ce champ"})]}),Object(p.jsx)(y.a,{py:3,children:Object(p.jsxs)(ae.a,{colorScheme:"green",type:"submit",children:["Sauvegarder ",u.isValid?"\ud83d\udc4c":""]})})]})})})]}),Object(p.jsx)(we.f,{children:Object(p.jsx)(ae.a,{variant:"outline",mr:3,onClick:d,children:"Annuler"})})]})})})]})},gn=function(e){var t,n=Object(c.useContext)(m).user,a=e.id,r=e.removeComponentsForm,i=e.name,s=e.key,o=Object(c.useState)(""),l=Object(x.a)(o,2),j=l[0],d=l[1],b=Object(c.useState)(!0),u=Object(x.a)(b,2),O=u[0],h=u[1],g=Object(X.a)(),f=Object(c.useState)([]),v=Object(x.a)(f,2),C=v[0],_=v[1],z=Object(c.useState)(""),k=Object(x.a)(z,2),P=k[0],I=k[1],w=Object(c.useState)(""),E=Object(x.a)(w,2),M=E[0],D=E[1],F=Object(c.useState)(""),T=Object(x.a)(F,2),V=T[0],L=T[1],R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)(["get acte (select2)",t],(function(){return J.get("gac",{params:t})}),n)}({onError:function(e){g({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){_(e.data)}}),q=(R.isLoading,R.refetch),N=(t={onError:function(e){g({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){I(e.data.code),D(e.data.designation),L(e.data.price)}},Object(ye.a)((function(e){var t=e.id;return J.post("ga",{id:t})}),t)),W=N.mutate;N.isLoading;return Object(p.jsxs)(ut.d,{boxShadow:"lg",children:[Object(p.jsxs)(ut.b,{children:[Object(p.jsxs)(y.a,{flex:"1",textAlign:"left",children:[""!=j?j:"Acte",Object(p.jsx)(On.a,{mx:5,onClick:function(e){e.stopPropagation(),h(!O)}}),Object(p.jsx)(de.a,{placeholder:"\xc9crivez le titre de cet \xe9l\xe9ment",display:O?"none":"inline",onChange:function(e){return d(e.target.value)}})]}),Object(p.jsx)(ut.c,{mx:3}),Object(p.jsx)(dn.a,{onClick:function(){return r(a)},colorScheme:"red",bgColor:"red.300",float:"right"})]}),Object(p.jsxs)(ut.e,{bgColor:Object(S.d)("green.50","gray.700"),pb:4,children:[Object(p.jsx)(ee.a,{children:Object(p.jsx)(hn,{refetch:q,user:n})}),Object(p.jsx)(Se,{label:"S\xe9lectionner une acte",data:C,onChange:function(e){return W({id:e.value})},name:"selectvalue"}),Object(p.jsx)(be,{name:"".concat(i,".code"),label:"Code",dtValue:P}),Object(p.jsx)(jn,{name:"".concat(i,".designation"),label:"Diagnostic",dtValue:M}),Object(p.jsx)(jn,{name:"".concat(i,".note"),label:"Note",dtValue:""}),Object(p.jsx)(un,{name:"".concat(i,".prix"),label:"Prix",dtValue:V})]})]},"a"+s)},fn=function(e){var t=e.id,n=e.removeComponentsForm,a=e.name,r=Object(c.useState)(""),i=Object(x.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)(!0),j=Object(x.a)(l,2),d=j[0],b=j[1];return Object(p.jsxs)(ut.d,{boxShadow:"lg",children:[Object(p.jsxs)(ut.b,{children:[Object(p.jsxs)(y.a,{flex:"1",textAlign:"left",children:[""!=s?s:"Examen",Object(p.jsx)(On.a,{mx:5,onClick:function(e){e.stopPropagation(),b(!d)}}),Object(p.jsx)(de.a,{placeholder:"\xc9crivez le titre de cet \xe9l\xe9ment",display:d?"none":"inline",onChange:function(e){return o(e.target.value)}})]}),Object(p.jsx)(ut.c,{mx:3}),Object(p.jsx)(dn.a,{onClick:function(){return n(t)},colorScheme:"red",bgColor:"red.300",float:"right"})]}),Object(p.jsxs)(ut.e,{bgColor:Object(S.d)("green.50","gray.700"),pb:4,children:[Object(p.jsx)(be,{name:"".concat(a,".type"),label:"Type d'examen",required:"Il est requis de compl\xe9ter ce champ"}),Object(p.jsx)(jn,{name:"".concat(a,".note"),label:"Note d'examen",required:"Il est requis de compl\xe9ter ce champ"}),Object(p.jsx)(un,{name:"".concat(a,".prix"),label:"Prix d'examen",required:"Il est requis de compl\xe9ter ce champ"})]})]})},vn=n(233),Sn=n.n(vn),Cn=function(e){var t=Object(oe.b)(e),n=(t.errorMessage,t.id),r=(t.isValid,t.isSubmitted,t.setValue),i=(t.value,e.label),s=e.required,o=a.a.useState(!0),l=Object(x.a)(o,2),j=(l[0],l[1]),d=Object(c.useState)(new Date),b=Object(x.a)(d,2),u=b[0],O=b[1],m=Object(c.useState)(null),h=Object(x.a)(m,2),g=h[0],f=h[1];return Object(p.jsx)(a.a.Fragment,{children:Object(p.jsxs)(G.a,{children:[Object(p.jsxs)(le.a,{htmlFor:n,children:[i,!!s&&" *"]}),Object(p.jsx)(se.a,{selected:u,onChange:function(e){var t=Object(x.a)(e,2),n=t[0],c=t[1];O(n),f(c),n&&c&&r(n.toISOString().slice(0,10)+"|"+c.toISOString().slice(0,10))},startDate:u,endDate:g,selectsRange:!0,inline:!0,"aria-required":!!s,onBlur:function(){return j(!0)}})]})})},yn=function(e){e.user;var t,n=e.refetch,c=Object(X.a)(),r=(t={onError:function(e){c({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){d(),c({title:"Medicament ajout\xe9 avec succ\xe8s",description:"Vous pouvez l'utiliser maintenant dans la consultation",status:"success",duration:"4000",isClosable:!0}),void 0!=n&&n()}},Object(ye.a)((function(e){var t=e.designation;return J.post("addm",{designation:t})}),t)),i=r.mutate,s=r.isLoading,o=Object(Pe.a)(),l=o.isOpen,j=o.onOpen,d=o.onClose,b=a.a.useRef(),u=Object(oe.c)();return Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)(ae.a,{ref:b,colorScheme:Object(S.d)("green","gray"),onClick:j,children:"Ajouter un medicament"}),Object(p.jsx)(Ie.a,{isOpen:l,placement:"right",onClose:d,size:"md",finalFocusRef:b,children:Object(p.jsx)(we.h,{children:Object(p.jsxs)(Ie.b,{bgColor:Object(S.d)("green.50","gray.700"),children:[Object(p.jsx)(we.c,{}),Object(p.jsx)(we.g,{children:"Ajouter un medicament"}),Object(p.jsxs)(we.b,{children:[Object(p.jsx)(Q.a,{display:s?"block":"none",size:"xl",m:"auto",color:"red.500"}),Object(p.jsx)(y.a,{display:s?"none":"block",children:Object(p.jsx)(oe.a,{connect:u,onValidSubmit:function(e){i(e)},children:Object(p.jsxs)("form",{noValidate:!0,onSubmit:u.submit,children:[Object(p.jsx)(y.a,{mb:5,children:Object(p.jsx)(be,{name:"designation",label:"Designation",required:"Il est requis de compl\xe9ter ce champ"})}),Object(p.jsx)(y.a,{py:3,children:Object(p.jsxs)(ae.a,{colorScheme:"green",type:"submit",children:["Sauvegarder ",u.isValid?"\ud83d\udc4c":""]})})]})})})]}),Object(p.jsx)(we.f,{children:Object(p.jsx)(ae.a,{variant:"outline",mr:3,onClick:d,children:"Annuler"})})]})})})]})},_n=function(e){var t=e.id,n=e.removeComponentsForm,a=e.name,r=e.MyForm,i=Object(X.a)(),s=Object(c.useState)(""),o=Object(x.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)([]),b=Object(x.a)(d,2),u=b[0],O=b[1],m=Object(c.useState)(!0),h=Object(x.a)(m,2),g=h[0],f=h[1],v=r.values,C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)("Liste Medicament (select2)",(function(){return J.get("lms2",{params:t})}),n)}({onError:function(e){i({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){O(e.data)}}).refetch;return Object(p.jsxs)(ut.d,{boxShadow:"lg",children:[Object(p.jsxs)(ut.b,{children:[Object(p.jsxs)(y.a,{flex:"1",textAlign:"left",children:[""!=l?l:"Medicament",Object(p.jsx)(On.a,{mx:5,onClick:function(e){e.stopPropagation(),f(!g)}})]}),Object(p.jsx)(ut.c,{mx:3}),Object(p.jsx)(de.a,{placeholder:"\xc9crivez le titre de cet \xe9l\xe9ment",display:g?"none":"inline",onChange:function(e){return j(e.target.value)}}),Object(p.jsx)(dn.a,{onClick:function(){return n(t)},colorScheme:"red",bgColor:"red.300",float:"right"})]}),Object(p.jsxs)(ut.e,{bgColor:Object(S.d)("green.50","gray.700"),pb:4,children:[Object(p.jsx)(ee.a,{children:Object(p.jsx)(yn,{refetch:C})}),r.isValid?Object(p.jsx)(ae.a,{onClick:function(){var e=window.open("","PRINT");e.document.write(Sn.a.renderToStaticMarkup(function(){var e=v.ordonnances;return Object(p.jsx)(y.a,{children:e!=[]&&null!=e?e.map((function(e){return Object(p.jsx)(p.Fragment,{children:null!=e?Object(p.jsxs)(y.a,{children:[!!e.medicament_id&&"Medicament :  ".concat(e.medicament_id.label),!!e.NBR_FOIS_JOURS&&" | Quantit\xe9 :  ".concat(e.NBR_FOIS_JOURS.label),!!e.duree_entre_chaque_medicament&&" | Dur\xe9e entre chaque medicament :  ".concat(e.duree_entre_chaque_medicament),!!e.lorsqueVousPrenezLeMedicament&&" | Utilisation :  ".concat(e.lorsqueVousPrenezLeMedicament)]}):""})})):""})}())),e.document.close(),e.focus(),e.addEventListener("afterprint",(function(t){e.close()})),e.print()},variant:"outline",colorScheme:"teal",size:"lg",children:Object(p.jsx)(Ze.b,{})}):Object(p.jsx)(ee.a,{pt:3,children:Object(p.jsx)(bn.a,{colorScheme:"red",p:2,children:"remplissez les champs n\xe9cessaire puis imprimer l'ordonnance"})}),Object(p.jsx)(Cn,{name:"".concat(a,".duree"),label:"Dur\xe9e",required:"le champ dur\xe9e est obligatoire"}),Object(p.jsx)(Se,{label:"S\xe9lectionner une medicament",data:u,name:"".concat(a,".medicament_id"),required:" \ud83d\udc8ale champ nom de medicament est obligatoire"}),Object(p.jsx)(be,{name:"".concat(a,".duree_entre_chaque_medicament"),label:"Dur\xe9e entre chaque medicament"}),Object(p.jsxs)(Be.a,{columns:{lg:1,xl:2},spacing:2,children:[Object(p.jsx)(Se,{name:"".concat(a,".NBR_FOIS_JOURS"),label:"Nombre de fois par jour",data:[{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"4",value:4},{label:"5",value:5},{label:"6",value:6},{label:"7",value:7},{label:"8",value:8},{label:"9",value:9},{label:"10",value:10}]}),Object(p.jsx)(be,{name:"".concat(a,".lorsqueVousPrenezLeMedicament"),label:"Utilisation des m\xe9dicaments"})]})]})]})},zn=function(e){var t=Object(c.useContext)(m).user,n=e.id,a=e.removeComponentsForm,r=e.name,i=Object(c.useState)([]),s=Object(x.a)(i,2),o=s[0],l=s[1],j=Object(c.useState)(""),d=Object(x.a)(j,2),b=d[0],u=d[1],O=Object(c.useState)(!0),h=Object(x.a)(O,2),g=h[0],f=h[1],v=Object(X.a)(),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)("liste medecin",(function(){return J.get("lm",{params:t})}),n)}({params:{id:t.id},onError:function(e){v({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){l(e.data||[])}});C.isLoading,C.refetch;return Object(p.jsxs)(ut.d,{boxShadow:"lg",children:[Object(p.jsxs)(ut.b,{children:[Object(p.jsxs)(y.a,{flex:"1",textAlign:"left",children:[""!=b?b:"Lettre",Object(p.jsx)(On.a,{mx:5,onClick:function(e){e.stopPropagation(),f(!g)}})]}),Object(p.jsx)(ut.c,{mx:3}),Object(p.jsx)(dn.a,{onClick:function(){return a(n)},colorScheme:"red",bgColor:"red.300",float:"right"})]}),Object(p.jsxs)(ut.e,{bgColor:Object(S.d)("green.50","gray.700"),pb:4,children:[Object(p.jsx)(de.a,{placeholder:"\xc9crivez le titre de cet \xe9l\xe9ment",display:g?"none":"inline",onChange:function(e){return u(e.target.value)}}),Object(p.jsx)(Se,{selectValue:"true",label:"S\xe9lectionner un med\xe9cin",data:o,name:"".concat(r,".medecin_destiantaire_id")}),Object(p.jsx)(jn,{name:"".concat(r,".description"),label:"Contenu de lettre",required:"Il est requis de compl\xe9ter ce champ"})]})]})},kn=function(e){var t=e.id,n=e.removeComponentsForm,a=e.name,r=Object(c.useState)(""),i=Object(x.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)(!0),j=Object(x.a)(l,2),d=j[0],b=j[1];return Object(p.jsxs)(ut.d,{boxShadow:"lg",children:[Object(p.jsxs)(ut.b,{children:[Object(p.jsxs)(y.a,{flex:"1",textAlign:"left",children:[""!=s?s:"Antecedant",Object(p.jsx)(On.a,{mx:5,onClick:function(e){e.stopPropagation(),b(!d)}}),Object(p.jsx)(de.a,{placeholder:"\xc9crivez le titre de cet \xe9l\xe9ment",display:d?"none":"inline",onChange:function(e){return o(e.target.value)}})]}),Object(p.jsx)(ut.c,{mx:3}),Object(p.jsx)(dn.a,{onClick:function(){return n(t)},colorScheme:"red",bgColor:"red.300",float:"right"})]}),Object(p.jsxs)(ut.e,{bgColor:Object(S.d)("green.50","gray.700"),pb:4,children:[Object(p.jsx)(be,{name:"".concat(a,".type"),label:"type de antecedant"}),Object(p.jsx)(jn,{name:"".concat(a,".description"),label:"description de antecedant"})]})]})},Pn=function(e){var t=Object(X.a)(),n=Object(c.useContext)(m).user,a=e.Patient,r=e.setCurrentPatient,i=e.refetchPatientListe,s=e.patientsWaiting,o=e.setpatientsWaiting,l=Object(c.useState)(0),j=Object(x.a)(l,2),d=j[0],b=j[1],u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.params,Object(A.a)(e,["params"]));return Object(ye.a)((function(e){return J.post("consultation",e)}),t)}({onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){s.splice(s.indexOf(a),1),o(Object(on.a)(s)),i(),r({}),z([]),t({title:"Enregistr\xe9 avec succ\xe8s \u2714\ufe0f",description:"votre consultation enregistr\xe9 avec succ\xe8s ",status:"success",duration:"3000",isClosable:!0})}}),O=u.mutate,h=u.isLoading,g=Object(oe.c)(),f=g.values,v=Object(c.useState)([]),C=Object(x.a)(v,2),_=C[0],z=C[1],k=function(e){b(d+1),z([].concat(Object(on.a)(_),[e]))},P=function(e){z(Object(on.a)(_.filter((function(t){return t.id!==e}))))};return Object(p.jsxs)(y.a,{children:[Object(p.jsx)(Q.a,{display:h?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(p.jsx)(y.a,{overflowX:"auto",display:h?"none":"",children:Object(p.jsx)(oe.a,{connect:g,onValidSubmit:function(){f.rendez_vous_id=a.rendez_vous_id,f.patient_id=a.id,f.medecin_id=n.id,O(f)},children:Object(p.jsxs)("form",{noValidate:!0,onSubmit:g.submit,children:[Object(p.jsx)(jn,{name:"Diagnostic",label:"Diagnostic"}),Object(p.jsx)(ce.a,{my:5}),Object(p.jsxs)(y.a,{display:_.length>0?"block":"none",children:["D\xe9tail",Object(p.jsx)(dn.a,{onClick:function(){return z([])},colorScheme:"red",bgColor:"red.200",float:"right",boxShadow:"dark-lg"})]}),Object(p.jsx)(ut.a,{defaultIndex:[0,1,2,3,4,5,6,7,8,9,10],allowMultiple:!0,children:_.sort((function(e,t){return e-t})).map((function(e,t){var n=e.id,c=e.type;return"certificat"===c?Object(p.jsx)(mn,{id:n,removeComponentsForm:P,Patient:a,name:"certificats[".concat(t,"]")},n):"acte"===c?Object(p.jsx)(gn,{id:n,removeComponentsForm:P,Patient:a,index:t,name:"actes[".concat(t,"]")},n):"examen"===c?Object(p.jsx)(fn,{id:n,removeComponentsForm:P,Patient:a,name:"examens[".concat(t,"]")},n):"antecedants"===c?Object(p.jsx)(kn,{id:n,removeComponentsForm:P,Patient:a,name:"antecedants[".concat(t,"]")},n):"ordonnance"===c?Object(p.jsx)(_n,{id:n,MyForm:g,removeComponentsForm:P,Patient:a,name:"ordonnances[".concat(t,"]")},n):"lettre"===c?Object(p.jsx)(zn,{id:n,removeComponentsForm:P,Patient:a,name:"lettres[".concat(t,"]")},n):void 0}))}),Object(p.jsx)(y.a,{py:3,children:Object(p.jsxs)(Be.a,{minChildWidth:"100px",spacing:"10px",children:[Object(p.jsx)(ae.a,{onClick:function(){return k({id:d,type:"certificat"})},colorScheme:Object(S.d)("green","gray"),children:"Certificat"}),Object(p.jsx)(ae.a,{onClick:function(){return k({id:d,type:"acte"})},colorScheme:Object(S.d)("green","gray"),children:"Acte"}),Object(p.jsx)(ae.a,{onClick:function(){return k({id:d,type:"examen"})},colorScheme:Object(S.d)("green","gray"),children:"Examen"}),Object(p.jsx)(ae.a,{onClick:function(){return k({id:d,type:"antecedants"})},colorScheme:Object(S.d)("green","gray"),children:"Antecedants"}),Object(p.jsx)(ae.a,{onClick:function(){return k({id:d,type:"ordonnance"})},colorScheme:Object(S.d)("green","gray"),children:"Medicament"}),Object(p.jsx)(ae.a,{onClick:function(){return k({id:d,type:"lettre"})},colorScheme:Object(S.d)("green","gray"),children:"Lettre"})]})}),Object(p.jsx)(ce.a,{my:5}),Object(p.jsx)(y.a,{right:0,children:Object(p.jsx)(un,{name:"prix",required:"Vous devez \xe9crire une valeur pour votre consultation",label:"prix consultation",value:0})}),g.isValid?" ":Object(p.jsx)(ee.a,{mt:5,children:Object(p.jsx)(bn.a,{colorScheme:"red",children:"Remplissez les champs n\xe9cessaires puis enregistrer"})}),Object(p.jsx)(G.a,{mt:5,align:"center",children:Object(p.jsxs)(ae.a,{w:"40%",type:"submit",borderColor:"green",colorScheme:"green",disabled:!g.isValid,children:["Enregistrer",g.isValid?" \u2714\ufe0f ":""]})})]})})})]})},In=function(){var e,t=Object(X.a)(),n=Object(c.useState)([]),r=Object(x.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)({}),l=Object(x.a)(o,2),j=l[0],d=l[1],b={medecin_id:Object(c.useContext)(m).user.id},u=(e={onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){v()}},Object(ye.a)((function(e){var t=e.id;return e.etat,J.post("sptwr",{id:t,etat:"en attente"})}),e)),O=u.mutate,h=u.isLoading,g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)("liste-pattient-wating",(function(){return J.get("pdcm",{params:t})}),n)}({params:b,onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){s(e.data)}}),f=g.isLoading,v=g.refetch,C=Vt({onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){v()}}),_=C.mutate,z=C.isLoading;return Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)(Q.a,{display:f||z||h?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(p.jsx)(y.a,{w:"100%",p:5,display:f||z||h?"none":"",children:Object(p.jsx)(sn,{SPTWRMutate:O,currentPatient:j,DeleteMutate:_,setCurrentPatient:d,patientsWaiting:i})}),Object(p.jsxs)(y.a,{pb:5,display:""==!!j.nomprenom?"none":"block",children:[Object(p.jsxs)(ee.a,{p:5,bg:Object(S.d)("green.100","gray.800"),mx:"auto",boxShadow:"xl",w:{base:"100%",md:"95%"},borderRadius:"20px",children:[Object(p.jsxs)(D.a,{fontSize:"xl",children:[" ",j.nomprenom]}),Object(p.jsx)(ae.a,{position:"relative",p:0,m:0,left:["5vw","20vw","10vw","20vw"],colorScheme:"green",onClick:function(){return d({})},children:Object(p.jsx)(et.a,{w:4,h:4})})]}),Object(p.jsxs)(y.a,{mx:"auto",boxShadow:"lg",bg:Object(S.d)("green.50","gray.800"),w:{base:"90%",md:"92%"},children:[Object(p.jsxs)(Be.a,{minChildWidth:"100px",spacing:"10px",children:[Object(p.jsx)(y.a,{m:5,textAlign:"center",children:Object(p.jsx)(Ut,{patient:j})}),Object(p.jsx)(y.a,{m:5,textAlign:"center",children:Object(p.jsx)(rt,{patient:j})}),Object(p.jsx)(y.a,{m:5,textAlign:"center",children:Object(p.jsx)(Ct,{patient:j})})]}),Object(p.jsx)(y.a,{p:5,children:Object(p.jsx)(Pn,{setCurrentPatient:d,Patient:j,refetchPatientListe:v,patientsWaiting:i,setpatientsWaiting:s})})]})]})]})},wn=function(e){var t,n=Object(k.a)({base:!0,lg:!1}),r=e.refetch,i=e.data,s=e.type,o=e.id,l=e.cms_users_id,j=Object(X.a)(),d=(t={onError:function(e){j({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){g(),j({title:"Type de certification ajout\xe9 avec succ\xe8s",description:"Vous pouvez le s\xe9lectionner nouveau \xe0 partir de 'Type de certificat'",status:"success",duration:"4000",isClosable:!0}),void 0!=r&&r()}},Object(ye.a)((function(e){var t=e.type,n=e.structure,c=e.cms_users_id,a=e.id;return J.post("uct",{type:t,structure:n,cms_users_id:c,id:a})}),t)),b=d.mutate,u=d.isLoading,O=Object(Pe.a)(),m=O.isOpen,h=O.onOpen,g=O.onClose,f=Object(c.useState)(i),v=Object(x.a)(f,2),C=v[0],_=v[1];Object(c.useEffect)((function(){_(i)}),[i]);var z=a.a.useRef(),P=Object(c.useRef)(),I=Object(oe.c)();return Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)(ae.a,{ref:z,colorScheme:Object(S.d)("green","gray"),onClick:h,children:n?Object(p.jsx)(R.k,{fontSize:"30px"}):"Mettre \xe0 jour"}),Object(p.jsx)(Ie.a,{isOpen:m,placement:"right",onClose:g,size:"full",finalFocusRef:z,children:Object(p.jsx)(we.h,{children:Object(p.jsxs)(Ie.b,{bgColor:Object(S.d)("green.50","gray.700"),children:[Object(p.jsx)(we.c,{}),Object(p.jsx)(we.g,{children:"Cr\xe9ez votre type de certificat"}),Object(p.jsxs)(we.b,{children:[Object(p.jsx)(Q.a,{display:u?"block":"none",size:"xl",m:"auto",color:"red.500"}),Object(p.jsx)(y.a,{display:u?"none":"block",children:Object(p.jsx)(oe.a,{connect:I,onValidSubmit:function(e){e.structure=C,e.id=o,e.type=s,e.cms_users_id=l,b(e)},children:Object(p.jsxs)("form",{noValidate:!0,onSubmit:I.submit,children:[Object(p.jsx)(st.a,{ref:P,lang:"fr",name:"my-editor",height:"auto",placeholder:"S'il vous pla\xeet \xe9crivez votre structure de certificat ici...",showToolbar:!0,setContents:C,values:C,onChange:function(e){_(e)},setOptions:{plugins:[xn],buttonList:[["undo","redo"],["font","fontSize","formatBlock",":p-More Paragraph-default.more_paragraph"],["paragraphStyle","blockquote"],["bold","underline","italic","strike","subscript","superscript"],["fontColor","hiliteColor","textStyle"],["removeFormat"],["image"],["align","horizontalRule","list","lineHeight"],[{name:"Element",dataCommand:"Element",buttonClass:"",title:"Element",dataDisplay:"submenu",innerHTML:'<div style="width: 70px;">Mod\xe8le</div>'}],["fullScreen"]]}}),Object(p.jsx)(y.a,{p:2,borderLeft:"1px",my:2,children:"Utiliser le boutton 'mod\xe8le' pour cr\xe9er vos propres certificats. Exemple : si vous ajoutez 'patientNomPr\xe9nom' , lors de votre consulation le nom de votre patient sera ajout\xe9 automatiquement."}),Object(p.jsx)(y.a,{py:3,children:Object(p.jsxs)(ae.a,{colorScheme:"green",type:"submit",children:["Sauvegarder ",I.isValid?"\ud83d\udc4c":""]})})]})})})]}),Object(p.jsx)(we.f,{children:Object(p.jsx)(ae.a,{variant:"outline",mr:3,onClick:g,children:"Annuler"})})]})})})]})},En=function(){var e=Object(c.useContext)(m).user,t=Object(c.useState)([[""]]),n=Object(x.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(0),o=Object(x.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)(""),b=Object(x.a)(d,2),u=b[0],O=b[1],h=Object(c.useState)(""),g=Object(x.a)(h,2),f=g[0],v=g[1],S=Object(c.useState)(1),C=Object(x.a)(S,2),z=C[0],k=C[1],P=Object(X.a)(),I=Object(c.useState)(""),w=Object(x.a)(I,2),E=w[0],D=w[1],F=e.idMedecin||e.id,T=Object(c.useState)({id:F,page:z}),V=Object(x.a)(T,2),R=V[0],q=V[1],N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)("ltc",(function(){return J.get("ltc",{params:t})}),n)}({params:R,onError:function(e){P({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){j(e.data.total),O(e.data.next_page_url),v(e.data.prev_page_url),i(!!e.data.data&&e.data.data||[])}}),W=N.isLoading,H=N.refetch;Object(c.useEffect)((function(){H()}),[R]);var B=Object(c.useState)({fn:function(e){return Object(p.jsx)(wn,{refetch:H,data:e.structure,type:e.type,id:e.id,cms_users_id:e.cms_users_id})}}),U=Object(x.a)(B,2),K=U[0];U[1];return Object(p.jsx)(a.a.Fragment,{children:Object(p.jsxs)(y.a,{children:[Object(p.jsx)(ee.a,{children:Object(p.jsx)(pn,{refetch:H,user:e})}),Object(p.jsx)(Q.a,{pt:3,display:W?"block":"none",size:"xl",m:"auto",color:"red.500"}),Object(p.jsxs)(y.a,{display:W?"none":"",children:[Object(p.jsx)(M.b,{pt:10,spacing:"4",direction:{base:"column",md:"row"},justify:"space-between",children:Object(p.jsxs)(Le.a,{templateColumns:"repeat(2, 1fr)",w:"100%",gap:2,children:[Object(p.jsx)(_.a,{label:"\xc9crivez le nom du certificat que vous voulez la chercher","aria-label":"\xc9crivez le nom du certificat que vous avez recherch\xe9 sur ce",children:Object(p.jsx)(G.a,{w:"100%",id:"search",children:Object(p.jsxs)(xe.a,{size:"sm",children:[Object(p.jsx)(le.a,{srOnly:!0,children:"Filtrer:"}),Object(p.jsx)(pe.a,{pointerEvents:"none",color:"gray.400",children:Object(p.jsx)(L.i,{})}),Object(p.jsx)(de.a,{rounded:"base",type:"search",onChange:function(e){return D(e.target.value)},placeholder:"Filtrer"})]})})}),Object(p.jsx)(_.a,{label:"Rechercher \ud83d\udd0e","aria-label":"Rechercher \ud83d\udd0e",children:Object(p.jsx)(Re.a,{size:"sm",variant:"outline",children:Object(p.jsx)(ae.a,{w:"100%",onClick:function(){q({id:F,page:z,recherche:E})},iconSpacing:"1",leftIcon:Object(p.jsx)(Ze.a,{fontSize:"1.25em"}),children:"Chercher"})})})]})}),Object(p.jsx)(We,{header:["Nom"],content:r,fntable:K}),Object(p.jsx)(He,{total:l,next_page_url:u,prev_page_url:f,page:z,setPage:k})]})]})})},Mn=n(422),An=function(){Object(k.a)({base:!0,lg:!1});var e=Object(c.useContext)(m),t=e.user,n=(e.cleanUser,Object(X.a)()),r=Object(c.useState)(0),i=Object(x.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)(""),j=Object(x.a)(l,2),d=j[0],b=j[1],u=Object(c.useState)(""),O=Object(x.a)(u,2),h=O[0],g=O[1],f=Object(c.useState)(1),v=Object(x.a)(f,2),S=v[0],C=v[1],_=Object(c.useState)([[""],[""],[""]]),z=Object(x.a)(_,2),P=z[0],I=z[1],w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)("cp",(function(){return J.get("cp",{params:t})}),n)}({params:{patient_id:t.id,page:S},onError:function(e){n({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){o(e.data.total),b(e.data.next_page_url),g(e.data.prev_page_url),I(!!e.data.data&&e.data.data||[])}}),E=w.isLoading,M=w.refetch,F=Vt({onSuccess:function(e){M()}}),T=F.mutate,V=(F.isLoading,Object(c.useState)({fn2:function(e){return Object(p.jsx)(Ht,{Header:"Supprimer la r\xe9servation",Body:"Voulez-vous vraiment supprimer cette r\xe9servation avec ".concat(e.nomprenom),icon:Object(p.jsx)(et.a,{}),colorScheme:"teal",bg:"red.300",target:{id:e.id},fnTodo:T,btOK:"Effacer",btNon:"Annuler"})},fn:function(e){return Object(p.jsx)(cn,{data:e})}})),L=Object(x.a)(V,2),R=L[0];L[1];return Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)(Q.a,{display:E?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(p.jsx)(y.a,{display:E?"none":"",as:"section",py:{base:0,md:"12"},w:"100%",children:Object(p.jsx)(y.a,{maxW:{base:"xl",md:"7xl"},mx:"auto",px:{base:"1",md:"8"},children:Object(p.jsxs)(y.a,{overflowX:"auto",children:[Object(p.jsx)(We,{header:["Nom Prenom","Date"],content:P,fntable:R,message:function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(he.a,{as:"h2",size:"lg",fontWeight:"extrabold",letterSpacing:"tight",children:"Vous n'avez aucun rendez vous"}),Object(p.jsx)(D.a,{mt:"4",fontSize:"lg",children:"si vous voulez r\xe9server un rendez-vous , consulter le lien suivant :"}),Object(p.jsxs)(Mn.a,{children:["Reserver un rendez-vous ",Object(p.jsx)(rn.a,{mx:"2px"})]})]})}}),Object(p.jsx)(He,{total:s,next_page_url:d,prev_page_url:h,page:S,setPage:C})]})})})]})},Dn=n(423),Fn=function(e){var t=Object(c.useState)([]),n=Object(x.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(0),s=Object(x.a)(i,2),o=s[0],l=s[1],j=Object(c.useState)(""),d=Object(x.a)(j,2),b=d[0],u=d[1],O=Object(c.useState)(""),m=Object(x.a)(O,2),h=m[0],g=m[1],f=Object(c.useState)(1),v=Object(x.a)(f,2),S=v[0],C=v[1],_=Object(c.useState)([]),z=Object(x.a)(_,2),k=z[0],P=z[1],I=Object(c.useState)(-1),w=Object(x.a)(I,2),E=w[0],M=w[1],D=Object(c.useState)(-1),F=Object(x.a)(D,2),T=F[0],V=F[1],L=Object(c.useState)([]),R=Object(x.a)(L,2),q=R[0],N=R[1],W=Object(c.useState)(""),H=Object(x.a)(W,2),B=H[0],U=H[1],K=Object(X.a)(),Z=Object(oe.c)(),$=Z.values,Y={search:B,DomaineSelected:E,sousDomaineSelected:T,page:S},G=Object(c.useState)({fn:function(e){return Object(p.jsx)(tn,{data:e})},fn2:function(e){return Object(p.jsx)(cn,{data:e})}}),te=Object(x.a)(G,2),ne=te[0],ce=(te[1],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)(["Trouver un medecin",t],(function(){return J.get("tm",{params:t})}),n)}({params:Y,onError:function(e){K({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){l(e.data.total),u(e.data.next_page_url),g(e.data.prev_page_url),r(!!e.data.data&&e.data.data||[])}})),re=ce.isLoading,ie=ce.refetch,se=_e({onError:function(e){K({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){P(e.data),ie()}}),le=(se.isLoading,se.refetch),je={id:$.SelectDomaine},de=ze({param:je,onError:function(e){K({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){N(e.data),ie()}}),be=(de.isLoading,de.mutate);return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(oe.a,{connect:Z,onValidSubmit:function(e){},children:Object(p.jsxs)("form",{noValidate:!0,onSubmit:Z.submit,children:[Object(p.jsxs)(Le.a,{p:3,templateColumns:{base:"repeat(1, 1fr)",md:"repeat(3, 1fr)"},gap:3,children:[Object(p.jsx)(Se,{data:k,label:"Domaine",onChange:function(e){M(e.value),N([]),V(-1),be({domaine_id:e.value})},name:"SelectDomaine"}),Object(p.jsx)(Se,{onChange:function(e){V(e.value),le()},data:q,label:"Sous Domaine",name:"selectSousDomaine"}),Object(p.jsx)(ae.a,{top:"45%",onClick:function(){V(-1),M(-1)},children:"Tous les m\xe9decins"})]}),Object(p.jsxs)(y.a,{children:[Object(p.jsx)(ee.a,{children:Object(p.jsx)(Q.a,{display:re?"":"none",textAlign:"center",size:"xl",m:"auto",color:"red.500"})}),Object(p.jsxs)(y.a,{display:re?"none":"",children:[Object(p.jsx)(qe,{buttonText:"Chercher",buttonIcon:Object(p.jsx)(Dn.a,{}),chercherFn:U}),Object(p.jsx)(We,{header:["Nom Prenom","domaine"],content:a,fntable:ne,message:function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(he.a,{as:"h2",size:"lg",fontWeight:"extrabold",letterSpacing:"tight",children:"Aucun medecin n'existe sous cette sp\xe9cialit\xe9"})})}}),Object(p.jsx)(He,{total:o,next_page_url:b,prev_page_url:h,page:S,setPage:C})]})]})]})})})},Tn=function(e){var t,n=e.data,c=e.refetch,r=Object(k.a)({base:!0,lg:!1}),i=Object(X.a)(),s=(t={onError:function(e){i({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){u(),i({title:"Type de certification ajout\xe9 avec succ\xe8s",description:"Vous pouvez le s\xe9lectionner nouveau \xe0 partir de 'Type de certificat'",status:"success",duration:"4000",isClosable:!0}),void 0!=c&&c()}},Object(ye.a)((function(e){var t=e.code,n=e.designation,c=e.price,a=e.id;return J.post("uact",{code:t,designation:n,price:c,id:a})}),t)),o=s.mutate,l=s.isLoading,j=Object(Pe.a)(),d=j.isOpen,b=j.onOpen,u=j.onClose,O=a.a.useRef(),x=Object(oe.c)();return Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)(ae.a,{ref:O,colorScheme:Object(S.d)("green","gray"),onClick:b,children:r?Object(p.jsx)(R.k,{fontSize:"30px"}):"Mettre \xe0 jour"}),Object(p.jsx)(Ie.a,{isOpen:d,placement:"right",onClose:u,size:"md",finalFocusRef:O,children:Object(p.jsx)(we.h,{children:Object(p.jsxs)(Ie.b,{children:[Object(p.jsx)(we.c,{}),Object(p.jsx)(we.g,{children:"Mettre \xe0 jour votre acte"}),Object(p.jsxs)(we.b,{children:[Object(p.jsx)(Q.a,{display:l?"block":"none",size:"xl",m:"auto",color:"red.500"}),Object(p.jsx)(y.a,{display:l?"none":"block",children:Object(p.jsx)(oe.a,{connect:x,onValidSubmit:function(e){e.id=n.id,o(e)},children:Object(p.jsxs)("form",{noValidate:!0,onSubmit:x.submit,children:[Object(p.jsxs)(y.a,{mb:5,children:[Object(p.jsx)(be,{name:"code",label:"Code",dtValue:n.code,required:"Il est requis de compl\xe9ter ce champ"}),Object(p.jsx)(be,{name:"designation",dtValue:n.designation,label:"Designation",required:"Il est requis de compl\xe9ter ce champ"}),Object(p.jsx)(un,{dtValue:n.price,name:"price",label:"Prix",required:"Il est requis de compl\xe9ter ce champ"})]}),Object(p.jsx)(y.a,{py:3,children:Object(p.jsxs)(ae.a,{colorScheme:"green",type:"submit",children:["Sauvegarder ",x.isValid?"\ud83d\udc4c":""]})})]})})})]}),Object(p.jsx)(we.f,{children:Object(p.jsx)(ae.a,{variant:"outline",mr:3,onClick:u,children:"Annuler"})})]})})})]})},Vn=function(){var e=Object(c.useContext)(m).user,t=Object(c.useState)([[""]]),n=Object(x.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(0),o=Object(x.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)(""),b=Object(x.a)(d,2),u=b[0],O=b[1],h=Object(c.useState)(""),g=Object(x.a)(h,2),f=g[0],v=g[1],S=Object(c.useState)(1),C=Object(x.a)(S,2),z=C[0],k=C[1],P=Object(X.a)(),I=Object(c.useState)(""),w=Object(x.a)(I,2),E=w[0],D=w[1],F=Object(c.useState)({page:z}),T=Object(x.a)(F,2),V=T[0],R=T[1],q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)("la",(function(){return J.get("la",{params:t})}),n)}({params:V,onError:function(e){P({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){j(e.data.total),O(e.data.next_page_url),v(e.data.prev_page_url),i(!!e.data.data&&e.data.data||[])}}),N=q.isLoading,W=q.refetch;Object(c.useEffect)((function(){W()}),[V]);var H=Object(c.useState)({fn:function(e){return Object(p.jsx)(Tn,{data:e,refetch:W})}}),B=Object(x.a)(H,2),U=B[0];B[1];return Object(p.jsx)(a.a.Fragment,{children:Object(p.jsxs)(y.a,{children:[Object(p.jsx)(ee.a,{children:Object(p.jsx)(hn,{refetch:W,user:e})}),Object(p.jsx)(M.b,{pt:10,spacing:"4",direction:{base:"column",md:"row"},justify:"space-between",children:Object(p.jsxs)(Le.a,{templateColumns:"repeat(2, 1fr)",w:"100%",gap:2,children:[Object(p.jsx)(_.a,{label:"\xc9crivez le nom d'acte que vous voulez le chercher","aria-label":"\xc9crivez le nom du certificat que vous avez recherch\xe9 sur ce",children:Object(p.jsx)(G.a,{w:"100%",id:"search",children:Object(p.jsxs)(xe.a,{size:"sm",children:[Object(p.jsx)(le.a,{srOnly:!0,children:"Filtrer:"}),Object(p.jsx)(pe.a,{pointerEvents:"none",color:"gray.400",children:Object(p.jsx)(L.i,{})}),Object(p.jsx)(de.a,{rounded:"base",type:"search",onChange:function(e){return D(e.target.value)},placeholder:"Filtrer"})]})})}),Object(p.jsx)(_.a,{label:"Rechercher \ud83d\udd0e","aria-label":"Rechercher \ud83d\udd0e",children:Object(p.jsx)(Re.a,{size:"sm",variant:"outline",children:Object(p.jsx)(ae.a,{w:"100%",onClick:function(){R({page:z,recherche:E})},iconSpacing:"1",leftIcon:Object(p.jsx)(Ze.a,{fontSize:"1.25em"}),children:"Chercher"})})})]})}),Object(p.jsx)(Q.a,{pt:3,display:N?"block":"none",size:"xl",m:"auto",color:"red.500"}),Object(p.jsxs)(y.a,{display:N?"none":"",children:[Object(p.jsx)(We,{header:["code","designation"],content:r,fntable:U}),Object(p.jsx)(He,{total:l,next_page_url:u,prev_page_url:f,page:z,setPage:k})]})]})})},Ln=function(){Object(c.useContext)(m).user;var e=Object(c.useState)([[""]]),t=Object(x.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(0),s=Object(x.a)(i,2),o=s[0],l=s[1],j=Object(c.useState)(""),d=Object(x.a)(j,2),b=d[0],u=d[1],O=Object(c.useState)(""),h=Object(x.a)(O,2),g=h[0],f=h[1],v=Object(c.useState)(1),S=Object(x.a)(v,2),C=S[0],z=S[1],k=Object(X.a)(),P=Object(c.useState)(""),I=Object(x.a)(P,2),w=I[0],E=I[1],D=Object(c.useState)({page:C}),F=Object(x.a)(D,2),T=F[0],V=F[1],R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)("listem",(function(){return J.get("listem",{params:t})}),n)}({params:T,onError:function(e){k({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){l(e.data.total),u(e.data.next_page_url),f(e.data.prev_page_url),r(!!e.data.data&&e.data.data||[])}}),q=R.isLoading,N=R.refetch;Object(c.useEffect)((function(){N()}),[T]);return Object(p.jsx)(a.a.Fragment,{children:Object(p.jsxs)(y.a,{children:[Object(p.jsx)(ee.a,{children:Object(p.jsx)(yn,{refetch:N})}),Object(p.jsx)(M.b,{pt:10,spacing:"4",direction:{base:"column",md:"row"},justify:"space-between",children:Object(p.jsxs)(Le.a,{templateColumns:"repeat(2, 1fr)",w:"100%",gap:2,children:[Object(p.jsx)(_.a,{label:"\xc9crivez le nom du m\xe9dicament que vous vouler le chercher","aria-label":"\xc9crivez le nom du certificat que vous avez recherch\xe9 sur ce",children:Object(p.jsx)(G.a,{w:"100%",id:"search",children:Object(p.jsxs)(xe.a,{size:"sm",children:[Object(p.jsx)(le.a,{srOnly:!0,children:"Filtrer:"}),Object(p.jsx)(pe.a,{pointerEvents:"none",color:"gray.400",children:Object(p.jsx)(L.i,{})}),Object(p.jsx)(de.a,{rounded:"base",type:"search",onChange:function(e){return E(e.target.value)},placeholder:"Filtrer"})]})})}),Object(p.jsx)(_.a,{label:"Rechercher \ud83d\udd0e","aria-label":"Rechercher \ud83d\udd0e",children:Object(p.jsx)(Re.a,{size:"sm",variant:"outline",children:Object(p.jsx)(ae.a,{w:"100%",onClick:function(){V({page:C,recherche:w})},iconSpacing:"1",leftIcon:Object(p.jsx)(Ze.a,{fontSize:"1.25em"}),children:"Chercher"})})})]})}),Object(p.jsx)(Q.a,{pt:3,display:q?"block":"none",size:"xl",m:"auto",color:"red.500"}),Object(p.jsxs)(y.a,{display:q?"none":"",children:[Object(p.jsx)(We,{header:["nom"],content:n}),Object(p.jsx)(He,{total:o,next_page_url:b,prev_page_url:g,page:C,setPage:z})]})]})})},Rn=function(){var e=Object(c.useContext)(m).user;return Object(p.jsx)(a.a.Fragment,{children:Object(p.jsxs)(y.a,{flex:"1",borderWidth:"2px",rounded:"xl",px:{base:0,md:1},py:{base:2,md:1},children:[Object(p.jsx)(Te,{path:"/dashboard",component:$t,isAuth:!0,exact:!0}),Object(p.jsx)(Te,{path:"/dashboard/Consultation",component:In,isAuth:"medecin"==e.fonctionnalite,exact:!0}),Object(p.jsx)(Te,{path:"/dashboard/Mod\xe8le de certificat",component:En,isAuth:"medecin"==e.fonctionnalite||"secretaire"==e.fonctionnalite,exact:!0}),Object(p.jsx)(Te,{path:"/dashboard/Liste d'actes",component:Vn,isAuth:"medecin"==e.fonctionnalite||"secretaire"==e.fonctionnalite,exact:!0}),Object(p.jsx)(Te,{path:"/dashboard/Gestion de compte",component:Fe,isAuth:!0,exact:!0}),Object(p.jsx)(Te,{path:"/dashboard/Mes rendez vous",component:An,isAuth:"patient"==e.fonctionnalite||"secretaire"==e.fonctionnalite,exact:!0}),Object(p.jsx)(Te,{path:"/dashboard/Historiques",component:St,isAuth:"patient"==e.fonctionnalite||"secretaire"==e.fonctionnalite,exact:!0}),Object(p.jsx)(Te,{path:"/dashboard/Mes patients",component:zt,isAuth:"medecin"==e.fonctionnalite,exact:!0}),Object(p.jsx)(Te,{path:"/dashboard/Mes m\xe9decins",component:an,isAuth:"patient"==e.fonctionnalite||"secretaire"==e.fonctionnalite,exact:!0}),Object(p.jsx)(Te,{path:"/dashboard/Trouver un m\xe9decin",component:Fn,isAuth:!0,exact:!0}),Object(p.jsx)(Te,{path:"/dashboard/Liste medicament",component:Ln,isAuth:"medecin"==e.fonctionnalite||"secretaire"==e.fonctionnalite,exact:!0})]})})},qn=n(424),Nn=function(e){var t=Object(v.g)(),n=e.notif,c=e.refetch,r=e.removeElement,i=Object(X.a)(),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);return Object(ye.a)((function(e){var t=e.id;return J.post("rmnot",{id:t})}),t)}({onError:function(e){i({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){c()}}),o=(s.isLoading,s.mutate),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);return Object(ye.a)((function(e){var t=e.id;return J.post("vnotif",{id:t})}),t)}({onSuccess:function(e){c()}}).mutate;return Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsxs)(y.a,{p:2,onClick:function(){t.push(n.url||"/dashboard")},onMouseEnter:function(){0==n.is_read&&(l({id:n.id}),n.is_read=1)},color:Object(S.d)("green.900","gray.100"),bgColor:1==n.is_read?"":Object(S.d)("green.50","gray.500"),children:[Object(p.jsx)(y.a,{float:"right",fontSize:"10px",colorScheme:"red",children:Object(p.jsx)(Ge.a,{size:"xs",m:1,bg:"red.300",colorScheme:"teal",fontSize:"10px",icon:Object(p.jsx)(et.a,{}),onClick:function(e){r(n),e.stopPropagation(),o({id:n.id})}})}),n.content]}),Object(p.jsx)(ce.a,{})]})},Wn=function(e){var t=Object(c.useContext)(m).user,n=Object(X.a)(),a=Object(c.useState)([]),r=Object(x.a)(a,2),i=r[0],s=r[1],o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=Object(A.a)(e,["params"]);return Object(Ce.a)("notification",(function(){return J.get("notification",{params:t})}),n)}({params:{id:t.id},onError:function(e){n({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){s(e.data)}}),l=(o.isLoading,o.refetch),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);return Object(ye.a)((function(e){var t=e.id;return J.post("rmanotif",{id:t})}),t)}({onError:function(e){n({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})}}).mutate,d=function(e){var t=Object(on.a)(i);t.splice(t.indexOf(e),1),s(t)};return i.length?Object(p.jsxs)(Qe.a,{children:[Object(p.jsx)(Qe.h,{children:Object(p.jsxs)(qn.a,{mx:3,size:"lg",colorScheme:"gray",borderRadius:"full",_hover:{cursor:"pointer"},children:[Object(p.jsx)(_.a,{label:"Notification","aria-label":"Notification",children:"\ud83d\udd14"}),Object(p.jsx)(qn.b,{children:0!=i.length?i.length:""})]})}),Object(p.jsxs)(Qe.e,{mx:2,children:[Object(p.jsx)(Qe.b,{}),Object(p.jsx)(Qe.d,{}),Object(p.jsxs)(Qe.g,{children:[Object(p.jsx)(D.a,{fontSize:"2xl",children:" Notification"}),0!=i.length?Object(p.jsx)(ae.a,{fontSize:"13px",onClick:function(){j({id:t.id}),s([])},float:"right",mr:2,children:"Effacer tout"}):""]}),Object(p.jsx)(Qe.c,{overflowY:"scroll",maxH:"70vh",children:i.map((function(e){return Object(p.jsx)(Nn,{removeElement:d,refetch:l,notif:e})}))}),Object(p.jsx)(ce.a,{})]})]}):null},Hn=n(234),Bn=function(e){var t=e.onClick,n=e.isOpen;return Object(p.jsxs)(y.a,{display:{base:"block",md:"none"},ml:"-8",mr:"2",as:"button",type:"button",rounded:"md",p:"1",fontSize:"xl",color:"gray.500",_hover:{bg:"gray.100"},onClick:t,children:[Object(p.jsx)(y.a,{srOnly:!0,children:n?"Close Menu":"Open Menu"}),n?Object(p.jsx)(I.d,{}):Object(p.jsx)(I.c,{})]})},Un=function(){var e=Object(z.a)(),t=Object(x.a)(e,2),n=t[0],a=t[1],r=Object(k.a)({base:!0,md:!1});return c.useEffect((function(){0==r&&a.off()}),[r,a]),Object(O.a)({isOpen:n},a)},Kn=function(){var e=Object(S.c)(),t=e.colorMode,n=e.toggleColorMode,c=Object(v.h)().pathname,a=Un(),r=a.isOpen,i=a.toggle,s=(a.actions,Object(Hn.useSwipeable)({onSwipedLeft:function(){return i()},onSwipedRight:function(){return i()},preventDefaultTouchmoveEvent:!0,trackMouse:!0}));return Object(p.jsxs)(C.a,Object(O.a)(Object(O.a)({},s),{},{height:"100vh",w:"100vw",bg:Object(S.d)("green.500","inherit"),overflow:"hidden",sx:{"--sidebar-width":"245px"},children:[Object(p.jsx)(y.a,{as:"nav",display:"block",flex:"1",width:"var(--sidebar-width)",left:"0",py:"5",px:"1",color:"gray.200",position:"fixed",children:Object(p.jsxs)(y.a,{fontSize:"sm",lineHeight:"tall",children:[Object(p.jsx)($,{}),Object(p.jsx)(E,{pt:"5",pb:"6",children:Object(p.jsx)(q,{toggle:i})})]})}),Object(p.jsx)(y.a,{flex:"1",p:{base:"0",md:"6"},marginStart:{md:"var(--sidebar-width)"},position:"relative",left:r?"var(--sidebar-width)":"0",transition:"left 0.2s",children:Object(p.jsx)(y.a,{maxW:"2560px",bg:Object(S.d)("white","gray.700"),height:"100%",rounded:{md:"lg"},children:Object(p.jsxs)(C.a,{direction:"column",height:"full",children:[Object(p.jsxs)(C.a,{w:"full",py:"4",justify:"space-between",align:"center",px:"10",children:[Object(p.jsxs)(C.a,{align:"center",minH:"8",children:[Object(p.jsx)(Bn,{onClick:i,isOpen:r}),Object(p.jsx)(w,{path:c})]}),Object(p.jsxs)(C.a,{align:"center",minH:"8",children:[Object(p.jsx)(Wn,{}),Object(p.jsx)(y.a,{display:"inline",_hover:{cursor:"pointer"},onClick:n,children:Object(p.jsx)(_.a,{label:"Mode sombre","aria-label":"Mode sombre",children:"light"===t?"\u2600\ufe0f":"\ud83c\udf19"})})]})]}),Object(p.jsx)(C.a,{direction:"column",flex:"1",overflow:"auto",px:{base:1,md:6,lg:8},children:Object(p.jsx)(E,{children:Object(p.jsx)(Rn,{})})})]})})})]}))},Zn=n(425),Jn=function(){var e,t=Object(v.g)(),n=Object(c.useContext)(m).setUser,r=Object(X.a)(),i=(e={onError:function(e){r({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(e){var c=Object(O.a)({},e.data);0!==Object.entries(e.data).length&&"Active"==c.status?(c.isAuthenticated=!0,localStorage.setItem("user",JSON.stringify(c)),n(c),r({title:"\ud83d\udc68\u200d\u2695\ufe0f Bienvenue "+("homme"==c.sexes?"Mr ":"Mrs ")+c.nom,description:" Vous \xeates maintenant connect\xe9 \xe0 votre compte.",status:"success",duration:"4000",isClosable:!0})):r({titre:"V\xe9rifiez vos informations\ud83d\udd10",description:"Entrez votre e-mail, t\xe9l\xe9phone ou CIN et votre mot de passe",status:"success",duration:4e3,isClosable:!0}),t.push("/dashboard")}},Object(ye.a)((function(e){var t=e.user,n=e.password;return J.post("login",{user:t,password:n})}),e)),s=i.mutate,o=i.isLoading,l=Object(oe.c)();return Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)(Q.a,{display:o?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(p.jsxs)(y.a,{display:o?"none":"",children:[Object(p.jsx)(oe.a,{connect:l,onValidSubmit:function(e){s(e)},children:Object(p.jsxs)("form",{noValidate:!0,onSubmit:l.submit,children:[Object(p.jsx)(be,{name:"user",label:"Nom d'utilisateur",required:"Il est requis de compl\xe9ter ce champ",note:"Connectez-vous avec  N\xb0 T\xe9l\xe9phone ou votre N\xb0 C.I.N ou E-mail"}),Object(p.jsx)(me,{name:"password",label:"Mot de passe",required:"Il est requis de compl\xe9ter ce champ",type:"password"}),Object(p.jsx)(G.a,{mt:5,align:"center",children:Object(p.jsxs)(ae.a,{w:"40%",type:"submit",borderColor:"green.500",disabled:!l.isValid,children:["Se connecter",l.isValid?"\ud83d\udc4c":""]})})]})}),Object(p.jsx)(D.a,{mt:"4",align:"center",maxW:"md",fontWeight:"medium",children:Object(p.jsx)(y.a,{marginStart:"1",color:Object(S.d)("blue.600","blue.200"),_hover:{color:"blue.600"},display:{base:"block",sm:"revert"},children:Object(p.jsx)(f.b,{to:"singup",children:"Cr\xe9ez votre compte \u2728"})})})]})]})},$n=function(){var e=Object(v.g)(),t=Object(X.a)(),n=Rt({onError:function(e){t({title:"\ud83c\udf10 Probl\xe8me de connexion",description:" Il y a un probl\xe8me de connexion",status:"success",duration:"4000",isClosable:!0})},onSuccess:function(n){1==(n=n.data).api_status&&(n.exists?t({title:n.elementExists+" existe d\xe9ja",description:"choisir un autre "+n.elementExists+" \ud83d\udcad",status:"success",duration:"4000",isClosable:!0}):(t({title:" \u2728 ",description:"\ud83c\udf89Votre compte a \xe9t\xe9 enregistr\xe9",status:"success",duration:"4000",isClosable:!0}),e.push("/login")))}}),r=n.mutate,i=n.isLoading,s=Object(c.useState)("patient"),o=Object(x.a)(s,2),l=o[0],j=o[1],d=Object(c.useState)("homme"),b=Object(x.a)(d,2),u=b[0],O=b[1],m=Object(oe.c)(),h=m.values;return Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)(Q.a,{display:i?"":"none",size:"xl",m:"auto",color:"red.500"}),Object(p.jsxs)(M.b,{maxW:400,display:i?"none":"",margin:"auto",spacing:5,children:[Object(p.jsx)(oe.a,{connect:m,onValidSubmit:function(e){e.sexes=u,e.id_cms_privileges=l,r(e)},children:Object(p.jsxs)("form",{noValidate:!0,onSubmit:m.submit,children:[Object(p.jsx)(G.a,{children:Object(p.jsx)(ee.a,{children:Object(p.jsx)(te.a,{onChange:j,value:l,name:"id_cms_privileges",children:Object(p.jsxs)(M.b,{direction:"row",size:"lg",children:[Object(p.jsx)(ne.a,{value:"patient",py:3,mx:5,children:"\ud83d\ude4b\u200d\u2642 Patient"}),Object(p.jsx)(ne.a,{value:"medecin",py:3,mx:5,children:"\ud83e\ude7a M\xe9decin"})]})})})}),Object(p.jsx)(be,{name:"nom",label:"Nom",required:"Il est requis de compl\xe9ter ce champ",validations:[{rule:Object(Y.e)("^[a-zA-Z ]*$"),message:"Le nom ne contient que des lettres"}]}),Object(p.jsx)(be,{name:"prenom",label:"Pr\xe9nom",required:"Il est requis de compl\xe9ter ce champ",validations:[{rule:Object(Y.e)("^[a-zA-Z ]*$"),message:"Le prenom ne contient que des lettres"}]}),Object(p.jsx)(G.a,{children:Object(p.jsx)(ee.a,{children:Object(p.jsx)(te.a,{onChange:O,value:u,name:"sexes",children:Object(p.jsxs)(M.b,{direction:"row",size:"lg",children:[Object(p.jsx)(ne.a,{value:"homme",py:3,mx:5,children:"Homme \ud83d\udc68\u200d\ud83e\uddb0"}),Object(p.jsx)(ne.a,{value:"femme",py:3,mx:5,children:"Femme \ud83d\udc69\u200d\ud83e\uddb0"})]})})})}),Object(p.jsx)(je,{name:"date_naissance",label:"Date de naissance"}),Object(p.jsx)(be,{name:"email",label:"E-mail",validations:[{rule:Object(Y.a)(),message:"Veuillez v\xe9rifier le format de l'E-mail"},{rule:function(e){return!!e||!!h.cin||!!h.telephone},message:'Le champ E-mail doit contenir "@" et "." ',deps:[h.cin,h.telephone]}]}),Object(p.jsx)(be,{name:"cin",label:"C.I.N",validations:[{rule:Object(Y.b)(8),message:"La carte d'identit\xe9 doit \xeatre constitu\xe9e  de 8 chiffres"},{rule:Object(Y.d)(),message:"La carte d'identit\xe9 ne contient que des chiffres"},{rule:Object(Y.b)(8),message:"La carte d'identit\xe9 doit \xeatre constitu\xe9e  de 8 chiffres"},{rule:function(e){return!!e||!!h.email||!!h.telephone},message:"La carte d'identit\xe9 doit \xeatre constitu\xe9e  de 8 chiffres",deps:[h.email,h.telephone]}]}),Object(p.jsx)(be,{name:"telephone",label:"T\xe9l\xe9phone",validations:[{rule:Object(Y.b)(8),message:"La num\xe9ro de t\xe9l\xe9phone doit \xeatre constitu\xe9e  de 8 chiffres"},{rule:Object(Y.d)(),message:"La num\xe9ro de t\xe9l\xe9phone  ne contient que des chiffres"},{rule:function(e){return!!e||!!h.cin||!!h.email},message:"La num\xe9ro de t\xe9l\xe9phone doit \xeatre constitu\xe9e  de 8 chiffres",deps:[h.cin,h.email]}]}),Object(p.jsx)(bn.a,{colorScheme:"cyan",my:5,fontSize:"15px",children:"Vous devez entrer votre email OU votre C.I.N OU votre num\xe9ro de t\xe9l\xe9phone afin que vous puissiez suivre"}),Object(p.jsx)(me,{name:"password",label:"Mot de passe",required:"Il est requis de compl\xe9ter ce champ ",type:"password",validations:[{rule:Object(Y.c)(6),message:"Le mot de passe doit contenir au moins 6 caract\xe8res"}]}),Object(p.jsx)(me,{name:"R_password",label:"R\xe9p\xe9ter le mot de passe",required:"Il est requis de compl\xe9ter le champ correspondant au r\xe9p\xe9ter mot de passe",type:"password",validations:[{rule:function(e){return e==h.password},message:"Le mot de passe r\xe9p\xe9t\xe9 doit \xeatre le m\xeame.",deps:[h.cin,h.telephone]}]}),Object(p.jsx)(G.a,{mt:5,align:"center",children:Object(p.jsxs)(ae.a,{type:"submit",borderColor:"green.500",disabled:!m.isValid,children:["Cr\xe9er mon compte",m.isValid?"\ud83d\udc4c":""]})})]})}),Object(p.jsx)(ee.a,{children:Object(p.jsxs)(f.b,{to:"login",children:["Se connecter",Object(p.jsx)(rn.a,{mx:"2px"})]})})]})]})},Yn=function(){return Object(p.jsx)(y.a,{bg:Object(S.d)("green.50","inherit"),minH:"100vh",py:"12",px:{sm:"6",lg:"8"},children:Object(p.jsxs)(y.a,{maxW:{sm:"md"},mx:{sm:"auto"},w:{sm:"full"},children:[Object(p.jsxs)(y.a,{children:[Object(p.jsx)(y.a,{children:Object(p.jsx)(Zn.a,{maxW:["140px","140px","140px","275px"],m:"auto",src:"./logo192.png",alt:"Tbiby"})}),Object(p.jsx)(he.a,{mt:"6",textAlign:"center",size:"xl",fontWeight:"extrabold",children:"Bienvenue \xe0 Tbiby"})]}),Object(p.jsx)(y.a,{maxW:{sm:"md"},mx:{sm:"auto"},mt:"8",w:{sm:"full"},children:Object(p.jsxs)(y.a,{bg:Object(S.d)("white","gray.700"),py:"8",px:{base:"4",md:"10"},shadow:"base",rounded:{sm:"lg"},children:[Object(p.jsx)(v.b,{component:Jn,exact:!0,path:"/login"}),Object(p.jsx)(v.b,{component:$n,exact:!0,path:"/Singup"})]})})]})})},Xn=function(){var e=Object(v.g)();return Object(p.jsx)(ee.a,{minH:"100vh",textAlign:"center",children:Object(p.jsxs)(y.a,{children:[Object(p.jsx)(y.a,{children:Object(p.jsx)(Zn.a,Object(re.a)({src:"",w:"100%"},"src","./image/404.png"))}),Object(p.jsx)(y.a,{mt:10,children:Object(p.jsx)(ae.a,{onClick:function(){return e.push("/dashboard")},variant:"outline",size:"lg",colorScheme:"green",children:"\ud83d\udea6 Page d'accueil \ud83d\udea6"})})]})})},Qn=function(e){var t=e.isAuth,n=Object(A.a)(e,["isAuth"]);return t?Object(p.jsx)(v.a,{to:{pathname:"/dashboard"}}):Object(p.jsx)(v.b,Object(O.a)({},n))};var Gn=function(){var e=Object(c.useContext)(m).user;return new b.a,Object(p.jsx)(a.a.Fragment,{children:Object(p.jsx)(f.a,{children:Object(p.jsxs)(v.d,{children:[Object(p.jsx)(v.b,{path:"/",exact:!0,children:Object(p.jsx)(v.a,{to:"/dashboard"})}),Object(p.jsx)(Qn,{component:Yn,path:"/login",isAuth:e.isAuthenticated}),Object(p.jsx)(Qn,{component:Yn,path:"/singup",isAuth:e.isAuthenticated}),Object(p.jsx)(Ve,{component:Kn,path:"/dashboard",isAuth:e.isAuthenticated}),Object(p.jsx)(v.b,{component:Xn,path:"*"})]})})})};var ec=function(){var e=new b.a;return Object(p.jsx)(a.a.Fragment,{children:Object(p.jsx)(u.a,{client:e,children:Object(p.jsxs)(g,{children:[Object(p.jsx)(Gn,{}),Object(p.jsx)(d.ReactQueryDevtools,{initialIsOpen:!1})]})})})},tc=n(426),nc={".chakra-collapse":{overflow:"visible!important"},".chakra-accordion .css-0 > * ":{display:"block"}},cc=Object(tc.a)({config:{initialColorMode:"light",useSystemColorMode:!1}}),ac={styles:{global:function(){return Object(O.a)({},nc)}}},rc=Object(tc.a)(ac),ic=function(){i.a.render(Object(p.jsxs)(a.a.StrictMode,{children:[Object(p.jsx)(o.a,{initialColorMode:cc.config.initialColorMode}),Object(p.jsxs)(l.a,{theme:rc,children:[Object(p.jsx)(j.a,{}),Object(p.jsx)(ec,{})]})]}),document.getElementById("root")),s()};window.cordova?document.addEventListener("deviceready",ic,!1):ic()}},[[369,1,2]]]);
//# sourceMappingURL=main.88457e22.chunk.js.map